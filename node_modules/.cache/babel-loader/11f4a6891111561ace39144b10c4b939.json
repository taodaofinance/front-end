{"remainingRequest":"C:\\GitCrypto\\front_end\\node_modules\\babel-loader\\lib\\index.js!C:\\GitCrypto\\front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\GitCrypto\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\GitCrypto\\front_end\\src\\components\\Modal\\Revitalize.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\GitCrypto\\front_end\\src\\components\\Modal\\Revitalize.vue","mtime":1620499713479},{"path":"C:\\GitCrypto\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovR2l0Q3J5cHRvL2Zyb250X2VuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L0dpdENyeXB0by9mcm9udF9lbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBnZXRCUywgZm9ybWF0VHMsIGdldE1pbkRheSwgZ2V0RGVwbG95bWVudFRpbWVzdGFtcCB9IGZyb20gJ0AvaGVscGVycy91dGlscyc7CmltcG9ydCBjb2luZ2Vja28gZnJvbSAnQC9oZWxwZXJzL2NvaW5nZWNrby5qc29uJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbJ29wZW4nLCAnZm9ybSddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdGVwOiAwLAogICAgICBpc0luaXQ6IGZhbHNlLAogICAgICBpc0FwcHJvdmVkOiBmYWxzZSwKICAgICAgaXNDb25maXJtZWQ6IGZhbHNlLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBxdWFudGl0eTogJycsCiAgICAgIGF1dG9QcmljZTogdHJ1ZSwKICAgICAgYXV0b1ByaWNlUGVyUG90aW9uOiB0cnVlLAogICAgICBwcmljZTogJycsCiAgICAgIHByaWNlUGVyUG90aW9uOiAnJywKICAgICAgY29pbmdlY2tvOiBjb2luZ2Vja28KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ3NldHRpbmdzJ10pKSwge30sIHsKICAgIGN1cnJlbnRQcmljZTogZnVuY3Rpb24gY3VycmVudFByaWNlKCkgewogICAgICB2YXIgYXNzZXQgPSBjb2luZ2Vja29bdGhpcy5mb3JtLnBvdGlvbi5hc3NldF07CiAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmV4Y2hhbmdlUmF0ZXNbYXNzZXRdICYmIHRoaXMuc2V0dGluZ3MuZXhjaGFuZ2VSYXRlc1thc3NldF0udXNkID8gdGhpcy5zZXR0aW5ncy5leGNoYW5nZVJhdGVzW2Fzc2V0XS51c2QudG9GaXhlZCgyKSA6IDA7CiAgICB9LAogICAgYXZhaWxhYmxlUXVhbnRpdHk6IGZ1bmN0aW9uIGF2YWlsYWJsZVF1YW50aXR5KCkgewogICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5iYWxhbmNlc1t0aGlzLmZvcm0ucG90aW9uLmFkZHJlc3NdIHx8IDA7CiAgICB9CiAgfSksCiAgd2F0Y2g6IHsKICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4odmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBhbGxvd2FuY2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEodmFsdWUgPT09IHRydWUgJiYgb2xkVmFsdWUgPT09IGZhbHNlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuaW5pdCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpcy5hdXRvUHJpY2UgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMucHJpY2UgPSBfdGhpcy5jdXJyZW50UHJpY2U7CiAgICAgICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzLmlzQ29uZmlybWVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBhbGxvd2FuY2UgPSBwYXJzZUZsb2F0KF90aGlzLnNldHRpbmdzLmFsbG93YW5jZXNbX3RoaXMuZm9ybS5wb3Rpb24uYWRkcmVzc10gfHwgJzAnKTsKICAgICAgICAgICAgICAgIF90aGlzLmlzQXBwcm92ZWQgPSAhIWFsbG93YW5jZTsKICAgICAgICAgICAgICAgIF90aGlzLmlzQ29uZmlybWVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpcy5zdGVwID0gMDsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhdXRvUHJpY2U6IGZ1bmN0aW9uIGF1dG9QcmljZSh2YWx1ZSkgewogICAgICBpZiAodmFsdWUpIHRoaXMucHJpY2UgPSB0aGlzLmN1cnJlbnRQcmljZTsKICAgIH0sCiAgICBwcmljZTogZnVuY3Rpb24gcHJpY2UodmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUgJiYgdGhpcy5hdXRvUHJpY2VQZXJQb3Rpb24pIHRoaXMuaW5pdCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsnYXBwcm92ZVBvdGlvbicsICdyZXZpdGFsaXNlUG90aW9uJywgJ2xvYWRCYWxhbmNlSW4nLCAnZ2V0QlMnXSkpLCB7fSwgewogICAgaGFuZGxlQXBwcm92ZVBvdGlvbjogZnVuY3Rpb24gaGFuZGxlQXBwcm92ZVBvdGlvbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmFwcHJvdmVQb3Rpb24oX3RoaXMyLmZvcm0ucG90aW9uLmFkZHJlc3MpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfdGhpczIuaXNBcHByb3ZlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF90aGlzMi5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBoYW5kbGVSZXZpdGFsaXNlUG90aW9uOiBmdW5jdGlvbiBoYW5kbGVSZXZpdGFsaXNlUG90aW9uKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBwYXlsb2FkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHBheWxvYWQgPSBfdGhpczMuZm9ybS5wb3Rpb247CiAgICAgICAgICAgICAgICBwYXlsb2FkLnByaWNlID0gX3RoaXMzLnByaWNlOwogICAgICAgICAgICAgICAgcGF5bG9hZC5xdWFudGl0eSA9IF90aGlzMy5xdWFudGl0eTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gNDsKICAgICAgICAgICAgICAgIF90aGlzMy5zdGVwKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnJldml0YWxpc2VQb3Rpb24ocGF5bG9hZCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF90aGlzMy5zdGVwKys7CiAgICAgICAgICAgICAgICBfdGhpczMuaXNDb25maXJtZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSg0KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQzLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF90aGlzMy5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1s0LCAxMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgdE1pbnRpbmcsIHRMaXF1aWRpYXRpb24sIHQsIHRpY2tlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM0LnF1YW50aXR5ID0gJyc7CiAgICAgICAgICAgICAgICBfdGhpczQuYXV0b1ByaWNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzNC5wcmljZSA9IF90aGlzNC5jdXJyZW50UHJpY2U7CiAgICAgICAgICAgICAgICBfdGhpczQucHJpY2VQZXJQb3Rpb24gPSAnJzsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXM0LmZvcm0ucG90aW9uLmFkZHJlc3MpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5sb2FkQmFsYW5jZUluKF90aGlzNC5mb3JtLnBvdGlvbi5hZGRyZXNzKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gcGFyc2VJbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldERlcGxveW1lbnRUaW1lc3RhbXAoX3RoaXM0LmZvcm0ucG90aW9uLmNvbnRyYWN0QWRkcmVzcyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDEgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIHRNaW50aW5nID0gKDAsIF9jb250ZXh0NC50MCkoX2NvbnRleHQ0LnQxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUIG1pbnRpbmcnLCB0TWludGluZyk7CiAgICAgICAgICAgICAgICB0TGlxdWlkaWF0aW9uID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwICsgODY0MDAgKiA1OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1QgbGlxdWlkaWF0aW9uJywgdExpcXVpZGlhdGlvbik7CiAgICAgICAgICAgICAgICB0ID0gKHRMaXF1aWRpYXRpb24gLSB0TWludGluZykgLyAzMTUzNjAwMDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0JywgdCk7IC8vIDAuMDQxMDk1OQoKICAgICAgICAgICAgICAgIHRpY2tlciA9IGNvaW5nZWNrb1tfdGhpczQuZm9ybS5wb3Rpb24uYXNzZXRdOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRCUyh0aWNrZXIsIHBhcnNlSW50KG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCksIHBhcnNlRmxvYXQoX3RoaXM0LmZvcm0ucG90aW9uLm1pbnRBcHJpY2UpLCBwYXJzZUZsb2F0KF90aGlzNC5mb3JtLnBvdGlvbi5taW50U3ByaWNlKSwgdCk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBfdGhpczQuYnMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNC5wcmljZVBlclBvdGlvbiA9IF90aGlzNC5iczsKICAgICAgICAgICAgICAgIF90aGlzNC5pc0luaXQgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["Revitalize.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <Modal :open=\"open\" @close=\"$emit('close')\">\r\n    <div class=\"modal-body px-4\">\r\n      <div v-if=\"step === 0\">\r\n        <h2 class=\"mb-5\">Potion exercise</h2>\r\n        <div class=\"text-left\">\r\n          <div class=\"border-bottom mb-5\">\r\n            <div class=\"mb-4\">\r\n              Strike price<span class=\"float-right\">${{ $n(form.potion.mintSprice) }}</span>\r\n            </div>\r\n            <div class=\"mb-4\">\r\n              Expiry date<span class=\"float-right\">{{ form.potion.expiry | formatTs }}</span>\r\n            </div>\r\n            <div class=\"mb-4\">\r\n              Asset\r\n              <Ticker :id=\"coingecko[form.potion.asset]\" class=\"float-right\" />\r\n            </div>\r\n            <div class=\"mb-5\">\r\n              Available quantity<span class=\"float-right\" v-if=\"isInit\">\r\n                {{ availableQuantity }}</span\r\n              >\r\n            </div>\r\n          </div>\r\n          <h2 class=\"mb-5 text-center\">Balance revitalization</h2>\r\n          <div class=\"mb-4\">\r\n            <input type=\"number\" class=\"input\" placeholder=\"Quantity\" v-model=\"quantity\" />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            Auto asset price\r\n            <span class=\"float-right\">\r\n              <VueSwitch v-model=\"autoPrice\" />\r\n            </span>\r\n          </div>\r\n          <div class=\"mb-4\">\r\n            <input\r\n              :readonly=\"autoPrice\"\r\n              type=\"number\"\r\n              class=\"input mb-3\"\r\n              placeholder=\"Price\"\r\n              v-model=\"price\"\r\n            />\r\n            <h6 v-if=\"!autoPrice\">\r\n              Using non-market prices may result in losses.\r\n              <a\r\n                href=\"https://potion.gitbook.io/docs/exercising-a-potion/buying-a-potion\"\r\n                target=\"_blank\"\r\n              >\r\n                Learn more\r\n              </a>\r\n            </h6>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            Auto price per potion\r\n            <span class=\"float-right\">\r\n              <VueSwitch v-model=\"autoPricePerPotion\" />\r\n            </span>\r\n          </div>\r\n          <div class=\"mb-5\">\r\n            <input\r\n              :readonly=\"autoPricePerPotion\"\r\n              type=\"number\"\r\n              class=\"input mb-3\"\r\n              placeholder=\"Price per potion\"\r\n              v-model=\"pricePerPotion\"\r\n            />\r\n            <h6 v-if=\"!autoPricePerPotion\">\r\n              Using non-market prices may result in losses.\r\n              <a\r\n                href=\"https://potion.gitbook.io/docs/exercising-a-potion/buying-a-potion\"\r\n                target=\"_blank\"\r\n              >\r\n                Learn more\r\n              </a>\r\n            </h6>\r\n          </div>\r\n        </div>\r\n        <h2 class=\"mb-4\">Want to use?</h2>\r\n        <div class=\"d-flex mb-2\">\r\n          <button class=\"button button-outline col-6 mr-2\" @click=\"$emit('close')\">Cancel</button>\r\n          <button\r\n            class=\"button button-primary col-6 ml-2\"\r\n            v-if=\"!isApproved\"\r\n            :disabled=\"isLoading\"\r\n            @click=\"handleApprovePotion\"\r\n          >\r\n            <VueLoadingIndicator v-if=\"isLoading\" class=\"big\" />\r\n            <template v-else>Unlock {{ form.potion.asset }}POT</template>\r\n          </button>\r\n          <button\r\n            v-else\r\n            class=\"button button-primary col-6 ml-2\"\r\n            :disabled=\"!price || !quantity\"\r\n            @click=\"step = 1\"\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"step === 1\">\r\n        <h2 class=\"mb-5\">Be careful</h2>\r\n        <p class=\"mb-5\">\r\n          In order to liquidate you must stake BUSD. If you entered wrong values and are disputed,\r\n          you may lose these as penalty.\r\n        </p>\r\n        <p class=\"mb-2\">Your stake</p>\r\n        <h1 class=\"text-primary mb-5\">5 BUSD</h1>\r\n        <h2 class=\"mb-5\">Want to proceed?</h2>\r\n        <div class=\"d-flex mb-2\">\r\n          <button class=\"button button-outline col-6 mr-2\" @click=\"$emit('close')\">Cancel</button>\r\n          <button\r\n            class=\"button button-primary col-6 ml-2\"\r\n            :disabled=\"isLoading\"\r\n            @click=\"handleRevitalisePotion\"\r\n          >\r\n            <VueLoadingIndicator v-if=\"isLoading\" class=\"big\" />\r\n            <template v-else>Confirm</template>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"step > 1\">\r\n        <h2 class=\"mb-5\">Hocus pocus!</h2>\r\n        <div v-if=\"step === 2\">\r\n          <VueLoadingIndicator class=\"loading-lg mb-5\" />\r\n          <h2 class=\"mb-5\" v-if=\"step === 2\">Sponsor is verifyingâ€¦</h2>\r\n          <p class=\"mb-5\">Current price set to ${{ $n(price) }}</p>\r\n        </div>\r\n        <div v-if=\"step === 3\">\r\n          <img src=\"~/@/assets/check.svg\" height=\"118\" class=\"mb-5\" />\r\n          <h2 class=\"mb-5\">Revitalization went good!</h2>\r\n          <p class=\"mb-5\">BUSD available to be withdrawn.</p>\r\n        </div>\r\n        <div>\r\n          <a @click=\"$emit('close')\" class=\"col-6 button button-outline\">\r\n            Back to home\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </Modal>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from 'vuex';\r\nimport { getBS, formatTs, getMinDay, getDeploymentTimestamp } from '@/helpers/utils';\r\nimport coingecko from '@/helpers/coingecko.json';\r\n\r\nexport default {\r\n  props: ['open', 'form'],\r\n  data() {\r\n    return {\r\n      step: 0,\r\n      isInit: false,\r\n      isApproved: false,\r\n      isConfirmed: false,\r\n      isLoading: false,\r\n      quantity: '',\r\n      autoPrice: true,\r\n      autoPricePerPotion: true,\r\n      price: '',\r\n      pricePerPotion: '',\r\n      coingecko\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(['settings']),\r\n    currentPrice() {\r\n      const asset = coingecko[this.form.potion.asset];\r\n      return this.settings.exchangeRates[asset] && this.settings.exchangeRates[asset].usd\r\n        ? this.settings.exchangeRates[asset].usd.toFixed(2)\r\n        : 0;\r\n    },\r\n    availableQuantity() {\r\n      return this.settings.balances[this.form.potion.address] || 0;\r\n    }\r\n  },\r\n  watch: {\r\n    async open(value, oldValue) {\r\n      if (value === true && oldValue === false) {\r\n        await this.init();\r\n      }\r\n      this.autoPrice = true;\r\n      this.price = this.currentPrice;\r\n      this.isLoading = false;\r\n      this.isConfirmed = false;\r\n      const allowance = parseFloat(this.settings.allowances[this.form.potion.address] || '0');\r\n      this.isApproved = !!allowance;\r\n      this.isConfirmed = false;\r\n      this.step = 0;\r\n    },\r\n    autoPrice(value) {\r\n      if (value) this.price = this.currentPrice;\r\n    },\r\n    price(value, oldValue) {\r\n      if (value !== oldValue && this.autoPricePerPotion) this.init();\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['approvePotion', 'revitalisePotion', 'loadBalanceIn', 'getBS']),\r\n    async handleApprovePotion() {\r\n      this.isLoading = true;\r\n      try {\r\n        await this.approvePotion(this.form.potion.address);\r\n        this.isApproved = true;\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n      this.isLoading = false;\r\n    },\r\n    async handleRevitalisePotion() {\r\n      this.isLoading = true;\r\n      const payload = this.form.potion;\r\n      payload.price = this.price;\r\n      payload.quantity = this.quantity;\r\n      try {\r\n        this.step++;\r\n        await this.revitalisePotion(payload);\r\n        this.step++;\r\n        this.isConfirmed = true;\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n      this.isLoading = false;\r\n    },\r\n    async init() {\r\n      this.quantity = '';\r\n      this.autoPrice = true;\r\n      this.price = this.currentPrice;\r\n      this.pricePerPotion = '';\r\n\r\n      console.log('================================');\r\n      console.log(this.form.potion.address);\r\n      await this.loadBalanceIn(this.form.potion.address);\r\n\r\n      const tMinting = parseInt(await getDeploymentTimestamp(this.form.potion.contractAddress));\r\n      console.log('T minting', tMinting);\r\n\r\n      const tLiquidiation = new Date().getTime() / 1000 + 86400 * 5;\r\n      console.log('T liquidiation', tLiquidiation);\r\n\r\n      const t = (tLiquidiation - tMinting) / 31536000;\r\n      console.log('t', t); // 0.0410959\r\n\r\n      const ticker = coingecko[this.form.potion.asset];\r\n      this.bs = await getBS(\r\n        ticker,\r\n        parseInt(new Date().getTime() / 1000),\r\n        parseFloat(this.form.potion.mintAprice),\r\n        parseFloat(this.form.potion.mintSprice),\r\n        t\r\n      );\r\n      this.pricePerPotion = this.bs;\r\n      this.isInit = true;\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components/Modal"}]}