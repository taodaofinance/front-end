{"remainingRequest":"C:\\GitCrypto\\front_end\\node_modules\\babel-loader\\lib\\index.js!C:\\GitCrypto\\front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\GitCrypto\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\GitCrypto\\front_end\\src\\views\\Vested.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\GitCrypto\\front_end\\src\\views\\Vested.vue","mtime":1620499713551},{"path":"C:\\GitCrypto\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovR2l0Q3J5cHRvL2Zyb250X2VuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L0dpdENyeXB0by9mcm9udF9lbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBzaG9ydGVuIH0gZnJvbSAnQC9oZWxwZXJzL3V0aWxzLnRzJzsKaW1wb3J0IHsgZXRoZXJzIH0gZnJvbSAnZXRoZXJzJzsKZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3MubWVudU9wZW5lZCA9IGZhbHNlOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbHVlOiAnJywKICAgICAgbW9kYWxMb2dpbk9wZW46IGZhbHNlLAogICAgICBtb2RhbE1ha2Vwb3Rpb25PcGVuOiBmYWxzZSwKICAgICAgYW1vdW50OiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsnc2V0dGluZ3MnXSkpLCB7fSwgewogICAgaXNWYWxpZDogZnVuY3Rpb24gaXNWYWxpZCgpIHsKICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpcy52YWx1ZSk7CiAgICB9LAogICAgbWF4U3RyaWtlOiBmdW5jdGlvbiBtYXhTdHJpa2UoKSB7CiAgICAgIHZhciBleGNoYW5nZVJhdGUgPSB0aGlzLnNldHRpbmdzLmV4Y2hhbmdlUmF0ZXNbdGhpcy5mb3JtLmFzc2V0XTsKICAgICAgcmV0dXJuIGV4Y2hhbmdlUmF0ZSAmJiBleGNoYW5nZVJhdGUudXNkID8gZXhjaGFuZ2VSYXRlLnVzZCA6IDFlOTsKICAgIH0sCiAgICBoYXNBbGxvd2FuY2U6IGZ1bmN0aW9uIGhhc0FsbG93YW5jZSgpIHsKICAgICAgaWYgKHBhcnNlRmxvYXQodGhpcy52YWx1ZSkpIHsKICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3MuZXhlcmNpc2VQdGFvQWxsb3dhbmNlKSA+PSBwYXJzZUludChldGhlcnMudXRpbHMucGFyc2VFdGhlcih0aGlzLnZhbHVlKSkgJiYgcGFyc2VJbnQodGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3MuZXhlcmNpc2VCdXNkQWxsb3dhbmNlKSA+PSBwYXJzZUludChldGhlcnMudXRpbHMucGFyc2VFdGhlcih0aGlzLnZhbHVlKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBhZGRyZXNzOiBmdW5jdGlvbiBhZGRyZXNzKCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3MuYWRkcmVzcykgcmV0dXJuIHRoaXMuc2V0dGluZ3MuYWRkcmVzczsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgZGlzY29ubmVjdDogZnVuY3Rpb24gZGlzY29ubmVjdCgpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnNldHRpbmdzLmFkZHJlc3MpIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hZGRyZXNzLmluaXRpYWw7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ2V4ZXJjaXNlUHRhbycsICdnZXRBcHByb3ZhbEV4ZXJjaXNlQnVzZCcsICdnZXRBcHByb3ZhbEV4ZXJjaXNlUHRhbyddKSksIHt9LCB7CiAgICBzaG9ydGVuOiBzaG9ydGVuLAogICAgc2Vla0FwcHJvdmFsOiBmdW5jdGlvbiBzZWVrQXBwcm92YWwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0QXBwcm92YWxFeGVyY2lzZUJ1c2QoX3RoaXMyLnZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZXRBcHByb3ZhbEV4ZXJjaXNlUHRhbyhfdGhpczIudmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzd2FwOiBmdW5jdGlvbiBzd2FwKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmV4ZXJjaXNlUHRhbyhfdGhpczMudmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBtYXhBbGxvYzogZnVuY3Rpb24gbWF4QWxsb2MoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHNldHRpbmdzLCBwZXJjLCBhYmxlVG9DbGFpbTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGVidWdnZXI7CiAgICAgICAgICAgICAgICBzZXR0aW5ncyA9IF90aGlzNC4kc3RvcmUuc3RhdGUuc2V0dGluZ3M7CiAgICAgICAgICAgICAgICBfdGhpczQudmFsdWUgPSBwYXJzZUZsb2F0KHNldHRpbmdzLmJhbGFuY2UpID49IHBhcnNlRmxvYXQoc2V0dGluZ3MucHJldGFvQmFsYW5jZSkgPyBzZXR0aW5ncy5wcmV0YW9CYWxhbmNlIDogc2V0dGluZ3MuYmFsYW5jZTsKICAgICAgICAgICAgICAgIHBlcmMgPSBwYXJzZUZsb2F0KHNldHRpbmdzLmNpcmNTdXBwbHkpIC8gcGFyc2VGbG9hdChzZXR0aW5ncy50b3RhbFN1cHBseSk7CiAgICAgICAgICAgICAgICBhYmxlVG9DbGFpbSA9IHBhcnNlRmxvYXQoc2V0dGluZ3MuZXhlcmNpc2VBYmxlVG9DbGFpbSkgKiBwZXJjOwogICAgICAgICAgICAgICAgX3RoaXM0LnZhbHVlID0gYWJsZVRvQ2xhaW0gPj0gcGFyc2VGbG9hdChfdGhpczQudmFsdWUpID8gX3RoaXM0LnZhbHVlIDogYWJsZVRvQ2xhaW07CiAgICAgICAgICAgICAgICBfdGhpczQuYW1vdW50ID0gX3RoaXM0LnZhbHVlOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVWYWx1ZXNPbk91dENoYW5nZTogZnVuY3Rpb24gdXBkYXRlVmFsdWVzT25PdXRDaGFuZ2UoKSB7CiAgICAgIHRoaXMuYW1vdW50ID0gdGhpcy52YWx1ZTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["Vested.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"dapp\" class=\"dapp\">\r\n      <Navbar />\r\n      <div class=\"wrapper\">\r\n        <div class=\"dapp-center-modal\">\r\n          <div class=\"dapp-modal-wrapper\" v-if=\"$store.state.settings.exerciseMaxAllowedClaim > 0\">\r\n            <div class=\"swap-input-column\">\r\n              <div class=\"balance-row\">\r\n                <p>Balance</p>\r\n                <p class=\"balance-data\">{{ $store.state.settings.balance }}</p>\r\n                <p>BUSD</p>\r\n                <p style=\"margin-left: 5px; margin-right: 1px\">/</p>\r\n                <p class=\"balance-data\">{{ $store.state.settings.pretaoBalance }}</p>\r\n                <p>pTAO</p>\r\n              </div>\r\n\r\n              <div class=\"swap-input-row\">\r\n                <div class=\"swap-input-container\">\r\n                  <input\r\n                    v-model=\"value\"\r\n                    v-on:change=\"updateValuesOnOutChange\"\r\n                    placeholder=\"0.0\"\r\n                    class=\"swap-input\"\r\n                    type=\"text\"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"cur-max-box\">\r\n                  <div class=\"max-button\" @click=\"maxAlloc\">100%</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"swap-arrow\">\r\n                <b-icon icon=\"arrow-down\" style=\"width: 25px; height: 25px\"></b-icon>\r\n              </div>\r\n\r\n              <div class=\"swap-ourput-row\">\r\n                <div class=\"swap-output-container\">\r\n                  <input v-model=\"amount\" placeholder=\"0.0\" class=\"swap-output\" type=\"text\" />\r\n                </div>\r\n                <div class=\"cur-max-box\">\r\n                  <div class=\"max-button\">TAO</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"balance-row\">\r\n                <p class=\"balance-data\">{{ $store.state.settings.ohmBalance }}</p>\r\n                <p>TAO</p>\r\n              </div>\r\n\r\n              <span v-if=\"$store.state.settings.initializedPretao == true\" style=\"margin-top: 30px\">\r\n                <div v-if=\"hasAllowance\" class=\"swap-button-container\">\r\n                  <div class=\"swap-button\" @click=\"swap\">SWAP</div>\r\n                </div>\r\n                <div v-else class=\"swap-button-container\">\r\n                  <div class=\"swap-button\" @click=\"seekApproval\">Approve</div>\r\n                </div>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex';\r\nimport { shorten } from '@/helpers/utils.ts';\r\nimport { ethers } from 'ethers';\r\n\r\nexport default {\r\n  async mounted() {\r\n    this.$store.state.settings.menuOpened = false;\r\n  },\r\n  data() {\r\n    return {\r\n      value: '',\r\n      modalLoginOpen: false,\r\n      modalMakepotionOpen: false,\r\n      amount: '',\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(['settings']),\r\n    isValid() {\r\n      return parseFloat(this.value);\r\n    },\r\n    maxStrike() {\r\n      const exchangeRate = this.settings.exchangeRates[this.form.asset];\r\n      return exchangeRate && exchangeRate.usd ? exchangeRate.usd : 1e9;\r\n    },\r\n    hasAllowance() {\r\n      if (parseFloat(this.value)) {\r\n        return (\r\n          parseInt(this.$store.state.settings.exercisePtaoAllowance) >=\r\n            parseInt(ethers.utils.parseEther(this.value)) &&\r\n          parseInt(this.$store.state.settings.exerciseBusdAllowance) >=\r\n            parseInt(ethers.utils.parseEther(this.value))\r\n        );\r\n      }\r\n      return false;\r\n    },\r\n    address() {\r\n      if (this.$store.state.settings.address) return this.settings.address;\r\n      return null;\r\n    },\r\n    disconnect() {\r\n      if (this.$store.state.settings.address) return this.$store.state.address.initial;\r\n      return null;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['exercisePtao', 'getApprovalExerciseBusd', 'getApprovalExercisePtao']),\r\n    shorten,\r\n    async seekApproval() {\r\n      await this.getApprovalExerciseBusd(this.value);\r\n      await this.getApprovalExercisePtao(this.value);\r\n    },\r\n    async swap() {\r\n      await this.exercisePtao(this.value);\r\n    },\r\n    async maxAlloc() {\r\n\r\n      debugger;\r\n      const settings = this.$store.state.settings;\r\n\r\n      this.value =\r\n        parseFloat(settings.balance) >= parseFloat(settings.pretaoBalance)\r\n          ? settings.pretaoBalance\r\n          : settings.balance;\r\n\r\n      const perc = parseFloat(settings.circSupply) / parseFloat(settings.totalSupply);\r\n      const ableToClaim = parseFloat(settings.exerciseAbleToClaim) * perc;\r\n\r\n      this.value = ableToClaim >= parseFloat(this.value) ? this.value : ableToClaim;\r\n\r\n      this.amount = this.value;\r\n    },\r\n    updateValuesOnOutChange() {\r\n      this.amount = this.value;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.hasEffect {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n\r\n<!--\r\n\r\n\r\n\r\n\r\n<template>\r\n  <div class=\"block\">\r\n    <h1 class=\"mb-4 main-title\">OLYMPUS</h1>\r\n    <p class=\"mb-4\"><b class=\"warn\">This is a private presale. The price of each pOLY is 0.01 DAI.</b>  If you have not been invited, your transaction will fail and waste your transaction fee!</p>    \r\n    <p class=\"mb-2\">\r\n      Dai Balance: <span class=\"hasEffect\" @click=\"maxStake\">{{ Math.floor($store.state.settings.balance * 100) / 100 }}</span>\r\n    </p>\r\n\r\n    <form @submit.prevent=\"handleSubmit\" class=\"form\">\r\n      <div class=\"mb-0\">\r\n    \r\n        <input\r\n          v-if = \"settings.authorized && settings.address && settings.allowanceTx<1\"\r\n          type=\"number\"\r\n          class=\"input mb-4\"\r\n          placeholder=\"Quantity\"\r\n          step=\"0.000000000000000001\"\r\n          v-model=\"form.quantity\"\r\n        />\r\n        <div class=\"d-flex\"></div>\r\n      </div>\r\n      <button\r\n        v-if=\"settings.authorized && settings.address && settings.allowanceTx<1\"\r\n        :disabled=\"!isValid\"\r\n        type=\"submit\"\r\n        class=\"button button-primary mb-2\"\r\n      >\r\n        Enter Presale\r\n      </button>\r\n      <a v-if=\"!settings.address\" class=\"button button-primary mb-2\" @click=\"modalLoginOpen = true\">Connect wallet</a>\r\n      <p v-if=\"!settings.authorized && settings.address\"><b class=\"warn\">Your account is not on the Pre-sale list. You cannot participate in this sale.</b></p>\r\n    </form>\r\n    <p v-if=\"settings.allowanceTx===1\">Please wait. Waiting for {{$store.state.settings.confirmations}} confirmations</p>\r\n    <p v-if=\"settings.saleTx===1\"><b>Transaction submitted. Waiting for {{$store.state.settings.confirmations}} confirmations...</b></p>\r\n    <p v-if=\"settings.saleTx===2\"><b>Token Purchase Complete!</b></p>\r\n    <ModalLogin :open=\"modalLoginOpen\" @close=\"modalLoginOpen = false\" />\r\n    <ModalMakepotion\r\n      v-if=\"isValid\"\r\n      :open=\"modalMakepotionOpen\"\r\n      :form=\"form\"\r\n      @close=\"modalMakepotionOpen = false\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        quantity: ''\r\n      },\r\n      modalLoginOpen: false,\r\n      modalMakepotionOpen: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(['settings']),\r\n    isValid() {\r\n      return parseFloat(this.form.quantity);\r\n    },\r\n    maxStrike() {\r\n      const exchangeRate = this.settings.exchangeRates[this.form.asset];\r\n      return exchangeRate && exchangeRate.usd ? exchangeRate.usd : 1e9;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['SendDai']),\r\n    handleSubmit() {\r\n      this.SendDai({\r\n        //address: '0xb72027693a5B717B9e28Ea5E12eC59b67c944Df7',\r\n        value: this.form.quantity\r\n      });\r\n    },\r\n    maxStake() {\r\n      this.form.quantity = this.$store.state.settings.balance;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.hasEffect {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n-->\r\n"],"sourceRoot":"src/views"}]}