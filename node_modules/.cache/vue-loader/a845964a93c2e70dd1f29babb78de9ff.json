{"remainingRequest":"C:\\GitCrypto\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\GitCrypto\\front_end\\src\\views\\Vested.vue?vue&type=style&index=0&id=c92e5eec&scoped=true&lang=css&","dependencies":[{"path":"C:\\GitCrypto\\front_end\\src\\views\\Vested.vue","mtime":1620499713551},{"path":"C:\\GitCrypto\\front_end\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmhhc0VmZmVjdCB7DQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCg=="},{"version":3,"sources":["Vested.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA","file":"Vested.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"dapp\" class=\"dapp\">\r\n      <Navbar />\r\n      <div class=\"wrapper\">\r\n        <div class=\"dapp-center-modal\">\r\n          <div class=\"dapp-modal-wrapper\" v-if=\"$store.state.settings.exerciseMaxAllowedClaim > 0\">\r\n            <div class=\"swap-input-column\">\r\n              <div class=\"balance-row\">\r\n                <p>Balance</p>\r\n                <p class=\"balance-data\">{{ $store.state.settings.balance }}</p>\r\n                <p>BUSD</p>\r\n                <p style=\"margin-left: 5px; margin-right: 1px\">/</p>\r\n                <p class=\"balance-data\">{{ $store.state.settings.pretaoBalance }}</p>\r\n                <p>pTAO</p>\r\n              </div>\r\n\r\n              <div class=\"swap-input-row\">\r\n                <div class=\"swap-input-container\">\r\n                  <input\r\n                    v-model=\"value\"\r\n                    v-on:change=\"updateValuesOnOutChange\"\r\n                    placeholder=\"0.0\"\r\n                    class=\"swap-input\"\r\n                    type=\"text\"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"cur-max-box\">\r\n                  <div class=\"max-button\" @click=\"maxAlloc\">100%</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"swap-arrow\">\r\n                <b-icon icon=\"arrow-down\" style=\"width: 25px; height: 25px\"></b-icon>\r\n              </div>\r\n\r\n              <div class=\"swap-ourput-row\">\r\n                <div class=\"swap-output-container\">\r\n                  <input v-model=\"amount\" placeholder=\"0.0\" class=\"swap-output\" type=\"text\" />\r\n                </div>\r\n                <div class=\"cur-max-box\">\r\n                  <div class=\"max-button\">TAO</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"balance-row\">\r\n                <p class=\"balance-data\">{{ $store.state.settings.ohmBalance }}</p>\r\n                <p>TAO</p>\r\n              </div>\r\n\r\n              <span v-if=\"$store.state.settings.initializedPretao == true\" style=\"margin-top: 30px\">\r\n                <div v-if=\"hasAllowance\" class=\"swap-button-container\">\r\n                  <div class=\"swap-button\" @click=\"swap\">SWAP</div>\r\n                </div>\r\n                <div v-else class=\"swap-button-container\">\r\n                  <div class=\"swap-button\" @click=\"seekApproval\">Approve</div>\r\n                </div>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex';\r\nimport { shorten } from '@/helpers/utils.ts';\r\nimport { ethers } from 'ethers';\r\n\r\nexport default {\r\n  async mounted() {\r\n    this.$store.state.settings.menuOpened = false;\r\n  },\r\n  data() {\r\n    return {\r\n      value: '',\r\n      modalLoginOpen: false,\r\n      modalMakepotionOpen: false,\r\n      amount: '',\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(['settings']),\r\n    isValid() {\r\n      return parseFloat(this.value);\r\n    },\r\n    maxStrike() {\r\n      const exchangeRate = this.settings.exchangeRates[this.form.asset];\r\n      return exchangeRate && exchangeRate.usd ? exchangeRate.usd : 1e9;\r\n    },\r\n    hasAllowance() {\r\n      if (parseFloat(this.value)) {\r\n        return (\r\n          parseInt(this.$store.state.settings.exercisePtaoAllowance) >=\r\n            parseInt(ethers.utils.parseEther(this.value)) &&\r\n          parseInt(this.$store.state.settings.exerciseBusdAllowance) >=\r\n            parseInt(ethers.utils.parseEther(this.value))\r\n        );\r\n      }\r\n      return false;\r\n    },\r\n    address() {\r\n      if (this.$store.state.settings.address) return this.settings.address;\r\n      return null;\r\n    },\r\n    disconnect() {\r\n      if (this.$store.state.settings.address) return this.$store.state.address.initial;\r\n      return null;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['exercisePtao', 'getApprovalExerciseBusd', 'getApprovalExercisePtao']),\r\n    shorten,\r\n    async seekApproval() {\r\n      await this.getApprovalExerciseBusd(this.value);\r\n      await this.getApprovalExercisePtao(this.value);\r\n    },\r\n    async swap() {\r\n      await this.exercisePtao(this.value);\r\n    },\r\n    async maxAlloc() {\r\n\r\n      debugger;\r\n      const settings = this.$store.state.settings;\r\n\r\n      this.value =\r\n        parseFloat(settings.balance) >= parseFloat(settings.pretaoBalance)\r\n          ? settings.pretaoBalance\r\n          : settings.balance;\r\n\r\n      const perc = parseFloat(settings.circSupply) / parseFloat(settings.totalSupply);\r\n      const ableToClaim = parseFloat(settings.exerciseAbleToClaim) * perc;\r\n\r\n      this.value = ableToClaim >= parseFloat(this.value) ? this.value : ableToClaim;\r\n\r\n      this.amount = this.value;\r\n    },\r\n    updateValuesOnOutChange() {\r\n      this.amount = this.value;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.hasEffect {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n\r\n<!--\r\n\r\n\r\n\r\n\r\n<template>\r\n  <div class=\"block\">\r\n    <h1 class=\"mb-4 main-title\">OLYMPUS</h1>\r\n    <p class=\"mb-4\"><b class=\"warn\">This is a private presale. The price of each pOLY is 0.01 DAI.</b>  If you have not been invited, your transaction will fail and waste your transaction fee!</p>    \r\n    <p class=\"mb-2\">\r\n      Dai Balance: <span class=\"hasEffect\" @click=\"maxStake\">{{ Math.floor($store.state.settings.balance * 100) / 100 }}</span>\r\n    </p>\r\n\r\n    <form @submit.prevent=\"handleSubmit\" class=\"form\">\r\n      <div class=\"mb-0\">\r\n    \r\n        <input\r\n          v-if = \"settings.authorized && settings.address && settings.allowanceTx<1\"\r\n          type=\"number\"\r\n          class=\"input mb-4\"\r\n          placeholder=\"Quantity\"\r\n          step=\"0.000000000000000001\"\r\n          v-model=\"form.quantity\"\r\n        />\r\n        <div class=\"d-flex\"></div>\r\n      </div>\r\n      <button\r\n        v-if=\"settings.authorized && settings.address && settings.allowanceTx<1\"\r\n        :disabled=\"!isValid\"\r\n        type=\"submit\"\r\n        class=\"button button-primary mb-2\"\r\n      >\r\n        Enter Presale\r\n      </button>\r\n      <a v-if=\"!settings.address\" class=\"button button-primary mb-2\" @click=\"modalLoginOpen = true\">Connect wallet</a>\r\n      <p v-if=\"!settings.authorized && settings.address\"><b class=\"warn\">Your account is not on the Pre-sale list. You cannot participate in this sale.</b></p>\r\n    </form>\r\n    <p v-if=\"settings.allowanceTx===1\">Please wait. Waiting for {{$store.state.settings.confirmations}} confirmations</p>\r\n    <p v-if=\"settings.saleTx===1\"><b>Transaction submitted. Waiting for {{$store.state.settings.confirmations}} confirmations...</b></p>\r\n    <p v-if=\"settings.saleTx===2\"><b>Token Purchase Complete!</b></p>\r\n    <ModalLogin :open=\"modalLoginOpen\" @close=\"modalLoginOpen = false\" />\r\n    <ModalMakepotion\r\n      v-if=\"isValid\"\r\n      :open=\"modalMakepotionOpen\"\r\n      :form=\"form\"\r\n      @close=\"modalMakepotionOpen = false\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        quantity: ''\r\n      },\r\n      modalLoginOpen: false,\r\n      modalMakepotionOpen: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(['settings']),\r\n    isValid() {\r\n      return parseFloat(this.form.quantity);\r\n    },\r\n    maxStrike() {\r\n      const exchangeRate = this.settings.exchangeRates[this.form.asset];\r\n      return exchangeRate && exchangeRate.usd ? exchangeRate.usd : 1e9;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['SendDai']),\r\n    handleSubmit() {\r\n      this.SendDai({\r\n        //address: '0xb72027693a5B717B9e28Ea5E12eC59b67c944Df7',\r\n        value: this.form.quantity\r\n      });\r\n    },\r\n    maxStake() {\r\n      this.form.quantity = this.$store.state.settings.balance;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.hasEffect {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n-->\r\n"]}]}