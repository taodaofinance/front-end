{"remainingRequest":"C:\\GitCrypto\\front_end\\node_modules\\thread-loader\\dist\\cjs.js!C:\\GitCrypto\\front_end\\node_modules\\babel-loader\\lib\\index.js!C:\\GitCrypto\\front_end\\node_modules\\ts-loader\\index.js??ref--14-3!C:\\GitCrypto\\front_end\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\GitCrypto\\front_end\\src\\store\\modules\\settings.ts","dependencies":[{"path":"C:\\GitCrypto\\front_end\\src\\store\\modules\\settings.ts","mtime":1620938689140},{"path":"C:\\GitCrypto\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\GitCrypto\\front_end\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovR2l0Q3J5cHRvL2Zyb250X2VuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgZXRoZXJzIH0gZnJvbSAnZXRoZXJzJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOyAvL2ltcG9ydCBwcm92aWRlciBmcm9tICdAL2hlbHBlcnMvcHJvdmlkZXInOwoKaW1wb3J0IGFkZHJlc3NlcyBmcm9tICdAL2hlbHBlcnMvYWRkcmVzc2VzJzsKaW1wb3J0IHsgZ2V0RXhjaGFuZ2VSYXRlc0Zyb21Db2luR2Vja28gfSBmcm9tICdAL2hlbHBlcnMvdXRpbHMnOwppbXBvcnQgeyBFUE9DSF9JTlRFUlZBTCwgQkxPQ0tTX1BFUl9EQVksIEVQT0NIX1NUQVJURUQgfSBmcm9tICdAL2hlbHBlcnMvY29uc3RhbnRzJzsKaW1wb3J0IHsgYWJpIGFzIGllcmMyMEFiaSB9IGZyb20gJ0AvaGVscGVycy9hYmkvSUVSQzIwLmpzb24nOwppbXBvcnQgeyBhYmkgYXMgT0hNUHJlU2FsZSB9IGZyb20gJ0AvaGVscGVycy9hYmkvT0hNUHJlU2FsZS5qc29uJzsKaW1wb3J0IHsgYWJpIGFzIE9seW1wdXNTdGFraW5nIH0gZnJvbSAnQC9oZWxwZXJzL2FiaS9PbHltcHVzU3Rha2luZy5qc29uJzsKaW1wb3J0IHsgYWJpIGFzIHNPSE0gfSBmcm9tICdAL2hlbHBlcnMvYWJpL3NPSE0uanNvbic7CmltcG9ydCB7IGFiaSBhcyBMUFN0YWtpbmcgfSBmcm9tICdAL2hlbHBlcnMvYWJpL0xQU3Rha2luZy5qc29uJzsKaW1wb3J0IHsgYWJpIGFzIERpc3RyaWJ1dG9yQ29udHJhY3QgfSBmcm9tICdAL2hlbHBlcnMvYWJpL0Rpc3RyaWJ1dG9yQ29udHJhY3QuanNvbic7CmltcG9ydCB7IGFiaSBhcyBCb25kQ29udHJhY3QgfSBmcm9tICdAL2hlbHBlcnMvYWJpL0JvbmRDb250cmFjdC5qc29uJzsKaW1wb3J0IHsgYWJpIGFzIEJvbmRDYWxjQ29udHJhY3QgfSBmcm9tICdAL2hlbHBlcnMvYWJpL0JvbmRDYWxjQ29udHJhY3QuanNvbic7CmltcG9ydCB7IGFiaSBhcyBQYWlyQ29udHJhY3QgfSBmcm9tICdAL2hlbHBlcnMvYWJpL1BhaXJDb250cmFjdC5qc29uJzsKaW1wb3J0IHsgYWJpIGFzIFByZVRhb1NhbGVzIH0gZnJvbSAnQC9oZWxwZXJzL2FiaS9QcmVUYW9TYWxlcy5qc29uJzsKaW1wb3J0IHsgYWJpIGFzIEV4ZXJjaXNlUHRhbyB9IGZyb20gJ0AvaGVscGVycy9hYmkvRXhlcmNpc2VQdGFvLmpzb24nOwp2YXIgcGFyc2VFdGhlciA9IGV0aGVycy51dGlscy5wYXJzZUV0aGVyOwp2YXIgcHJvdmlkZXI7CnZhciBldGhlcmV1bSA9IHdpbmRvd1snZXRoZXJldW0nXTsKCmlmIChldGhlcmV1bSkgewogIGV0aGVyZXVtLm9uKCdhY2NvdW50c0NoYW5nZWQnLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ2luaXQnKTsKICB9KTsKICBldGhlcmV1bS5vbignbmV0d29ya0NoYW5nZWQnLCBmdW5jdGlvbiAobmV0d29yaykgewogICAgc3RvcmUuZGlzcGF0Y2goJ2luaXQnKTsKICB9KTsKfQoKdmFyIHN0YXRlID0gewogIGFwcHJvdmFsOiAwLAogIGxvYWRpbmc6IGZhbHNlLAogIGFkZHJlc3M6IG51bGwsCiAgbmFtZTogJycsCiAgd2hpdGVsaXN0ZWQ6IGZhbHNlLAogIGJhbGFuY2U6IDAsCiAgb2htQmFsYW5jZTogMCwKICBjbGFpbTogMCwKICBtaW5pbXVtRXRoOiAwLAogIHByb3ZpZGVkRXRoOiAwLAogIGFtb3VudDogMCwKICByZW1haW5pbmdFdGg6IDAsCiAgbmV0d29yazogewogICAgY2hhaW5JZDogMAogIH0sCiAgZXhjaGFuZ2VSYXRlczoge30sCiAgYWxsb3dhbmNlOiAwLAogIHN0YWtlQWxsb3dhbmNlOiAwLAogIHVuc3Rha2VBbGxvd2FuY2U6IDAsCiAgYmFsYW5jZXM6IHt9LAogIGF1dGhvcml6ZWQ6IGZhbHNlLAogIGFsbG93YW5jZVR4OiAwLAogIHNhbGVUeDogMCwKICBjb25maXJtYXRpb25zOiAxLAogIGFsbG90bWVudDogMCwKICBtYXhQdXJjaGFzZTogMCwKICBwcmljZTogMCwKICBtYXhTd2FwOiAwLAogIGFtb3VudFN3YXA6IDAsCiAgYm91Z2h0VGFvOiBmYWxzZSwKICBjbGFpbVVubG9ja2VkOiBmYWxzZSwKICBjbGFpbWFibGU6IGZhbHNlLAogIGlzSW5pdGlhbGl6ZWQ6IGZhbHNlLAogIGJsb2Nrc1BlckRheTogQkxPQ0tTX1BFUl9EQVksCiAgZXBvY2hTdGFydGVkOiBFUE9DSF9TVEFSVEVELAogIGVwb2NoSW50ZXJ2YWw6IEVQT0NIX0lOVEVSVkFMLAogIHRvdGFsU3VwcGx5OiAwLAogIHRhb0NpcmNTdXBwbHk6IDAsCiAgdG90YWxCdXNkTFA6IDAsCiAgdmF1bHRCdXNkOiAwLAogIHRhb1N0YWtlZDogMCwKICBscFByaWNlOiAwLAogIGxwSW5WYXVsdDogMCwKICBscExvY2tlZDogMCwKICB0YW9pc3RzOiAwLAogIHByaW5jaXBsZVZhbHVhdGlvbjogMCwKICBtZW51T3BlbmVkOiBmYWxzZSwKICBtb2RhbExvZ2luT3BlbjogZmFsc2UsCiAgd2hpdGVsaXN0UHJldGFvOiBmYWxzZSwKICBhbGxvd2FuY2VQcmV0YW86IDAsCiAgaW5pdGlhbGl6ZWRQcmV0YW86IGZhbHNlLAogIHByZXRhb0JhbGFuY2U6IDAsCiAgZml2ZURheVJhdGU6IDAsCiAgbmV4dEVwb2NoUmV3YXJkczogMCwKICBleGVyY2lzZU1heEFsbG93ZWRDbGFpbTogMCwKICBleGVyY2lzZUFibGVUb0NsYWltOiAwLAogIGV4ZXJjaXNlUHRhb0FsbG93YW5jZTogMCwKICBleGVyY2lzZUJ1c2RBbGxvd2FuY2U6IDAKfTsKdmFyIG11dGF0aW9ucyA9IHsKICBzZXQ6IGZ1bmN0aW9uIHNldChfc3RhdGUsIHBheWxvYWQpIHsKICAgIE9iamVjdC5rZXlzKHBheWxvYWQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICBWdWUuc2V0KF9zdGF0ZSwga2V5LCBwYXlsb2FkW2tleV0pOwogICAgfSk7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2luaXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZikgewogICAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgX2V0aGVyZXVtLCBzaWduZXIsIGFkZHJlc3M7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQsIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKCiAgICAgICAgICAgICAgLy8gY29tbWl0KCdzZXQnLCB7IGxvYWRpbmc6IHRydWUgfSk7CiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQogICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93LmV0aGVyZXVtICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgX2V0aGVyZXVtID0gd2luZG93WydldGhlcmV1bSddOwogICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgZXRoZXJzLnByb3ZpZGVycy5XZWIzUHJvdmlkZXIoX2V0aGVyZXVtKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICghcHJvdmlkZXIpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM7CiAgICAgICAgICAgICAgc2lnbmVyID0gcHJvdmlkZXIuZ2V0U2lnbmVyKCk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHNpZ25lci5nZXRBZGRyZXNzKCk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgYWRkcmVzcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghYWRkcmVzcykgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdsb2dpbicpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMzsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY29tbWl0KCdzZXQnLCB7CiAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1szLCAxM11dKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBpbml0KF94KSB7CiAgICAgIHJldHVybiBfaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBpbml0OwogIH0oKSwKICBsb2dpbjogZnVuY3Rpb24gKCkgewogICAgdmFyIF9sb2dpbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCwgZGlzcGF0Y2gsIHN0YXJ0QXQsIG9obUNvbnRyYWN0LCBvaG1CYWxhbmNlLCBhbGxvd2FuY2UsIHNvaG1Db250cmFjdCwgc29obU1haW5Db250cmFjdCwgc29obUJhbGFuY2UsIHN0YWtlQWxsb3dhbmNlLCB1bnN0YWtlQWxsb3dhbmNlLCBjaXJjU3VwcGx5LCBzdGFraW5nQ29udHJhY3QsIHByb2ZpdCwgbHBTdGFraW5nQ29udHJhY3QsIHRvdGFsTFBTdGFrZWQsIGxwU3Rha2VkLCBwZW5kaW5nUmV3YXJkcywgbHBTdGFraW5nQVBZLCBscENvbnRyYWN0LCBscEJhbGFuY2UsIGxwU3Rha2VBbGxvd2FuY2UsIGRpc3RyaWJ1dG9yQ29udHJhY3QsIHN0YWtpbmdBUFksIHN0YWtpbmdSZWJhc2UsIHN0YWtpbmdSZXdhcmQsIG5leHRFcG9jaEJsb2NrLCBkaXN0cmlidXRvckNvbnRyYWN0U2lnbmVyLCBjdXJyZW50SW5kZXgsIGN1cnJlbnRCbG9jaywgYm9uZGluZ0NhbGNDb250cmFjdCwgYm9uZFZhbHVlLCBib25kaW5nQ29udHJhY3QsIG1hcmtldFByaWNlLCBib25kUHJpY2UsIGRlYnRSYXRpbywgbHBCb25kQWxsb3dhbmNlLCBpbnRlcmVzdER1ZSwgdmVzdGluZ1BlcmlvZEluQmxvY2tzLCBib25kTWF0dXJhdGlvbkJsb2NrLCBib25kRGlzY291bnQsIHBlbmRpbmdQYXlvdXQsIHRhb1RvdGFsU3VwcGx5LCB0YW9DaXJjU3VwcGx5LCB0YW9TdGFrZWQsIHRvdGFsQnVzZCwgdG90YWxWYXVsdExQLCBscExvY2tlZCwgcHJpbmNpcGxlVmFsdWF0aW9uLCB2YXVsdEJVU0QsIGxwUHJpY2UsIG5leHRFcG9jaFJld2FyZHMsIGZpdmVEYXlSYXRlLCBwYWlyQ29udHJhY3QsIHNpZ25lciwgYmxvY2tOdW1iZXIsIGFkZHJlc3MsIG5ldHdvcmssIGFPSE1CYWxhbmNlLCBkYWlDb250cmFjdCwgYmFsYW5jZSwgcHJlVGFvYWxsb3dhbmNlLCBwcmV0YW9TYWxlcywgd2hpdGVsaXN0ZWRQcmV0YW8sIGluaXRpYWxpemVkUHJldGFvLCBwdGFvQ29udHJhY3QsIHByZXRhb0JhbGFuY2UsIHByZXNhbGVDb250cmFjdCwgcHJlc2FsZVdoaXRlbGlzdGVkLCBib3VnaHRUYW8sIGNsYWltVW5sb2NrZWQsIGNsYWltYWJsZSwgaXNJbml0aWFsaXplZCwgdG90YWxMUCwgZGlzdHJpYnV0b3JCYWxhbmNlLCByZXdhcmRQb29sQmFsYW5jZSwgYm9uZEJhbGFuY2UsIHByZXNhbGVCYWxhbmNlLCBfdmVzdGluZ1BlcmlvZEluQmxvY2tzLCB0b3RhbERlYnREbywgcmVzZXJ2ZXMsIHRvdGFsTFBWYWx1ZSwgdmF1bHRQcmluY2lwbGVWYWx1YXRpb24sIHRvdGFsVmF1bHRCVVNELCB3YXVsdFByaW5jaXBsZVZhbHVhdGlvbiwgYm9uZERldGFpbHMsIF90b3RhbExQLCBPSE1JbkxQLCByZXdhcmRQZXJCbG9jaywgY3VycmVudEVwb2NoLCByZXNwb25zZSwgdGFvaXN0czsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoOwogICAgICAgICAgICAgIHN0YXJ0QXQgPSBEYXRlLm5vdygpOwoKICAgICAgICAgICAgICBpZiAoIXByb3ZpZGVyKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI5MjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzOwogICAgICAgICAgICAgIG9obUJhbGFuY2UgPSAwLCBhbGxvd2FuY2UgPSAwOwogICAgICAgICAgICAgIHNvaG1CYWxhbmNlID0gMCwgc3Rha2VBbGxvd2FuY2UgPSAwLCB1bnN0YWtlQWxsb3dhbmNlID0gMCwgY2lyY1N1cHBseSA9IDA7CiAgICAgICAgICAgICAgcHJvZml0ID0gMDsKICAgICAgICAgICAgICB0b3RhbExQU3Rha2VkID0gMCwgbHBTdGFrZWQgPSAwLCBwZW5kaW5nUmV3YXJkcyA9IDA7CiAgICAgICAgICAgICAgbHBCYWxhbmNlID0gMDsKICAgICAgICAgICAgICBzdGFraW5nQVBZID0gMCwgc3Rha2luZ1JlYmFzZSA9IDAsIHN0YWtpbmdSZXdhcmQgPSAwLCBuZXh0RXBvY2hCbG9jayA9IDA7CiAgICAgICAgICAgICAgY3VycmVudEluZGV4ID0gMCwgY3VycmVudEJsb2NrID0gMDsKICAgICAgICAgICAgICBib25kVmFsdWUgPSAwOwogICAgICAgICAgICAgIG1hcmtldFByaWNlID0gMCwgYm9uZFByaWNlID0gMCwgZGVidFJhdGlvID0gMCwgbHBCb25kQWxsb3dhbmNlID0gMCwgaW50ZXJlc3REdWUgPSAwLCBib25kTWF0dXJhdGlvbkJsb2NrID0gMCwgYm9uZERpc2NvdW50ID0gMCwgcGVuZGluZ1BheW91dCA9IDAsIHRhb1RvdGFsU3VwcGx5ID0gMCwgdGFvQ2lyY1N1cHBseSA9IDAsIHRhb1N0YWtlZCA9IDAsIHRvdGFsQnVzZCA9IDAsIHRvdGFsVmF1bHRMUCA9IDAsIGxwTG9ja2VkID0gMCwgcHJpbmNpcGxlVmFsdWF0aW9uID0gMCwgdmF1bHRCVVNEID0gMCwgbHBQcmljZSA9IDAsIG5leHRFcG9jaFJld2FyZHMgPSAwLCBmaXZlRGF5UmF0ZSA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICByZXR1cm4gZXRoZXJldW0uZW5hYmxlKCk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIHByb3ZpZGVyID0gbmV3IGV0aGVycy5wcm92aWRlcnMuV2ViM1Byb3ZpZGVyKGV0aGVyZXVtKTsKICAgICAgICAgICAgICBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE5OwogICAgICAgICAgICAgIHJldHVybiBwcm92aWRlci5nZXRCbG9ja051bWJlcigpOwoKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBibG9ja051bWJlciA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgcmV0dXJuIHNpZ25lci5nZXRBZGRyZXNzKCk7CgogICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIGFkZHJlc3MgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI1OwogICAgICAgICAgICAgIHJldHVybiBwcm92aWRlci5nZXROZXR3b3JrKCk7CgogICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgIG5ldHdvcmsgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBzdG9yZS5jb21taXQoJ3NldCcsIHsKICAgICAgICAgICAgICAgIG5ldHdvcms6IG5ldHdvcmsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBhT0hNQmFsYW5jZSA9IDA7CiAgICAgICAgICAgICAgZGFpQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tuZXR3b3JrLmNoYWluSWRdLkRBSV9BRERSRVNTLCBpZXJjMjBBYmksIHByb3ZpZGVyKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDMxOwogICAgICAgICAgICAgIHJldHVybiBkYWlDb250cmFjdC5iYWxhbmNlT2YoYWRkcmVzcyk7CgogICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgIGJhbGFuY2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3NldCcsIHsKICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3MsCiAgICAgICAgICAgICAgICBiYWxhbmNlOiBldGhlcnMudXRpbHMuZm9ybWF0RXRoZXIoYmFsYW5jZSkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDMzOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzY7CiAgICAgICAgICAgICAgcmV0dXJuIGRhaUNvbnRyYWN0LmFsbG93YW5jZShhZGRyZXNzLCBhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5QUkVUQU9fU0FMRVMpOwoKICAgICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgICBwcmVUYW9hbGxvd2FuY2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM5OwogICAgICAgICAgICAgIHJldHVybiBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLlBSRVRBT19TQUxFUywgUHJlVGFvU2FsZXMsIHByb3ZpZGVyKTsKCiAgICAgICAgICAgIGNhc2UgMzk6CiAgICAgICAgICAgICAgcHJldGFvU2FsZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQyOwogICAgICAgICAgICAgIHJldHVybiBwcmV0YW9TYWxlcy5hcHByb3ZlZEJ1eWVycyhhZGRyZXNzKTsKCiAgICAgICAgICAgIGNhc2UgNDI6CiAgICAgICAgICAgICAgd2hpdGVsaXN0ZWRQcmV0YW8gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ1OwogICAgICAgICAgICAgIHJldHVybiBwcmV0YW9TYWxlcy5pbml0aWFsaXplZCgpOwoKICAgICAgICAgICAgY2FzZSA0NToKICAgICAgICAgICAgICBpbml0aWFsaXplZFByZXRhbyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIHB0YW9Db250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uUFRBT19BRERSRVNTLCBpZXJjMjBBYmksIHByb3ZpZGVyKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ5OwogICAgICAgICAgICAgIHJldHVybiBwdGFvQ29udHJhY3QuYmFsYW5jZU9mKGFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSA0OToKICAgICAgICAgICAgICBwcmV0YW9CYWxhbmNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXQnLCB7CiAgICAgICAgICAgICAgICB3aGl0ZWxpc3RQcmV0YW86IHdoaXRlbGlzdGVkUHJldGFvLAogICAgICAgICAgICAgICAgYWxsb3dhbmNlUHJldGFvOiBwcmVUYW9hbGxvd2FuY2UsCiAgICAgICAgICAgICAgICBpbml0aWFsaXplZFByZXRhbzogaW5pdGlhbGl6ZWRQcmV0YW8sCiAgICAgICAgICAgICAgICBwcmV0YW9CYWxhbmNlOiBldGhlcnMudXRpbHMuZm9ybWF0RXRoZXIocHJldGFvQmFsYW5jZSkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU2OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA1MzoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDUzOwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgzMyk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgIGNhc2UgNTY6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA1NjsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU5OwogICAgICAgICAgICAgIHJldHVybiBkYWlDb250cmFjdC5hbGxvd2FuY2UoYWRkcmVzcywgYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uUFJFU0FMRV9BRERSRVNTKTsKCiAgICAgICAgICAgIGNhc2UgNTk6CiAgICAgICAgICAgICAgYWxsb3dhbmNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FsbG93YW5jZScsIGFsbG93YW5jZSk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2MzsKICAgICAgICAgICAgICByZXR1cm4gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5QUkVTQUxFX0FERFJFU1MsIE9ITVByZVNhbGUsIHByb3ZpZGVyKTsKCiAgICAgICAgICAgIGNhc2UgNjM6CiAgICAgICAgICAgICAgcHJlc2FsZUNvbnRyYWN0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2NjsKICAgICAgICAgICAgICByZXR1cm4gcHJlc2FsZUNvbnRyYWN0LndoaXRlbGlzdGVkQWRkcmVzc2VzKGFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSA2NjoKICAgICAgICAgICAgICBwcmVzYWxlV2hpdGVsaXN0ZWQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY5OwogICAgICAgICAgICAgIHJldHVybiBwcmVzYWxlQ29udHJhY3QuYm91Z2h0VEFPKGFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSA2OToKICAgICAgICAgICAgICBib3VnaHRUYW8gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDcyOwogICAgICAgICAgICAgIHJldHVybiBwcmVzYWxlQ29udHJhY3QuY2xhaW1VbmxvY2tlZCgpOwoKICAgICAgICAgICAgY2FzZSA3MjoKICAgICAgICAgICAgICBjbGFpbVVubG9ja2VkID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3NTsKICAgICAgICAgICAgICByZXR1cm4gcHJlc2FsZUNvbnRyYWN0LmNsYWltYWJsZShhZGRyZXNzKTsKCiAgICAgICAgICAgIGNhc2UgNzU6CiAgICAgICAgICAgICAgY2xhaW1hYmxlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3ODsKICAgICAgICAgICAgICByZXR1cm4gcHJlc2FsZUNvbnRyYWN0LnN0YXJ0VW5sb2NrZWQoKTsKCiAgICAgICAgICAgIGNhc2UgNzg6CiAgICAgICAgICAgICAgaXNJbml0aWFsaXplZCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgd2hpdGVsaXN0ZWQ6IHByZXNhbGVXaGl0ZWxpc3RlZCwKICAgICAgICAgICAgICAgIGNsYWltVW5sb2NrZWQ6IGNsYWltVW5sb2NrZWQsCiAgICAgICAgICAgICAgICBib3VnaHRUYW86IGJvdWdodFRhbywKICAgICAgICAgICAgICAgIGNsYWltYWJsZTogZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKGNsYWltYWJsZSwgJ2d3ZWknKSwKICAgICAgICAgICAgICAgIGlzSW5pdGlhbGl6ZWQ6IGlzSW5pdGlhbGl6ZWQsCiAgICAgICAgICAgICAgICBhbGxvd2FuY2U6IGFsbG93YW5jZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODU7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDgyOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODI7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyWyJjYXRjaCJdKDU2KTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDIudDEpOwoKICAgICAgICAgICAgY2FzZSA4NToKICAgICAgICAgICAgICBpZiAoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uQk9ORElOR0NBTENfQUREUkVTUykgewogICAgICAgICAgICAgICAgYm9uZGluZ0NhbGNDb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uQk9ORElOR0NBTENfQUREUkVTUywgQm9uZENhbGNDb250cmFjdCwgcHJvdmlkZXIpOwogICAgICAgICAgICAgICAgbHBDb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uTFBfQUREUkVTUywgaWVyYzIwQWJpLCBwcm92aWRlcik7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoIWFkZHJlc3Nlc1tuZXR3b3JrLmNoYWluSWRdLkJPTkRfQUREUkVTUykgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNzU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJvbmRpbmdDb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uQk9ORF9BRERSRVNTLCBCb25kQ29udHJhY3QsIHByb3ZpZGVyKTsKICAgICAgICAgICAgICBib25kaW5nQ2FsY0NvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5CT05ESU5HQ0FMQ19BRERSRVNTLCBCb25kQ2FsY0NvbnRyYWN0LCBwcm92aWRlcik7CiAgICAgICAgICAgICAgcGFpckNvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5MUF9BRERSRVNTLCBQYWlyQ29udHJhY3QsIHByb3ZpZGVyKTsKICAgICAgICAgICAgICBscENvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5MUF9BRERSRVNTLCBpZXJjMjBBYmksIHByb3ZpZGVyKTsKICAgICAgICAgICAgICBvaG1Db250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uT0hNX0FERFJFU1MsIGllcmMyMEFiaSwgcHJvdmlkZXIpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTQ7CiAgICAgICAgICAgICAgcmV0dXJuIGxwQ29udHJhY3QuYmFsYW5jZU9mKGFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSA5NDoKICAgICAgICAgICAgICBscEJhbGFuY2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk3OwogICAgICAgICAgICAgIHJldHVybiBscENvbnRyYWN0LmJhbGFuY2VPZihhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5WQVVMVF9BRERSRVNTKTsKCiAgICAgICAgICAgIGNhc2UgOTc6CiAgICAgICAgICAgICAgdG90YWxWYXVsdExQID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDA7CiAgICAgICAgICAgICAgcmV0dXJuIGxwQ29udHJhY3QuYmFsYW5jZU9mKCcweGZmNDUxMzUyNjdiYjI2NmY5M2ViNTViMTIxNTM1M2I3ZjZlZmE5NGUnKTsKCiAgICAgICAgICAgIGNhc2UgMTAwOgogICAgICAgICAgICAgIGxwTG9ja2VkID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDM7CiAgICAgICAgICAgICAgcmV0dXJuIGxwQ29udHJhY3QudG90YWxTdXBwbHkoKTsKCiAgICAgICAgICAgIGNhc2UgMTAzOgogICAgICAgICAgICAgIHRvdGFsTFAgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwNjsKICAgICAgICAgICAgICByZXR1cm4gb2htQ29udHJhY3QudG90YWxTdXBwbHkoKTsKCiAgICAgICAgICAgIGNhc2UgMTA2OgogICAgICAgICAgICAgIHRhb1RvdGFsU3VwcGx5ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDk7CiAgICAgICAgICAgICAgcmV0dXJuIG9obUNvbnRyYWN0LmJhbGFuY2VPZihhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5ESVNUUklCVVRPUl9BRERSRVNTKTsKCiAgICAgICAgICAgIGNhc2UgMTA5OgogICAgICAgICAgICAgIGRpc3RyaWJ1dG9yQmFsYW5jZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTEyOwogICAgICAgICAgICAgIHJldHVybiBvaG1Db250cmFjdC5iYWxhbmNlT2YoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uUkVXQVJEX1BPT0xfQUREUkVTUyk7CgogICAgICAgICAgICBjYXNlIDExMjoKICAgICAgICAgICAgICByZXdhcmRQb29sQmFsYW5jZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE1OwogICAgICAgICAgICAgIHJldHVybiBvaG1Db250cmFjdC5iYWxhbmNlT2YoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uQk9ORF9BRERSRVNTKTsKCiAgICAgICAgICAgIGNhc2UgMTE1OgogICAgICAgICAgICAgIGJvbmRCYWxhbmNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTg7CiAgICAgICAgICAgICAgcmV0dXJuIG9obUNvbnRyYWN0LmJhbGFuY2VPZihhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5QUkVTQUxFX0FERFJFU1MpOwoKICAgICAgICAgICAgY2FzZSAxMTg6CiAgICAgICAgICAgICAgcHJlc2FsZUJhbGFuY2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICB0YW9DaXJjU3VwcGx5ID0gdGFvVG90YWxTdXBwbHkgLSBkaXN0cmlidXRvckJhbGFuY2UgLSByZXdhcmRQb29sQmFsYW5jZSAtIGJvbmRCYWxhbmNlIC0gcHJlc2FsZUJhbGFuY2U7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjI7CiAgICAgICAgICAgICAgcmV0dXJuIGJvbmRpbmdDb250cmFjdC52ZXN0aW5nUGVyaW9kSW5CbG9ja3MoKTsKCiAgICAgICAgICAgIGNhc2UgMTIyOgogICAgICAgICAgICAgIF92ZXN0aW5nUGVyaW9kSW5CbG9ja3MgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyNTsKICAgICAgICAgICAgICByZXR1cm4gYm9uZGluZ0NvbnRyYWN0LnRvdGFsRGVidCgpOwoKICAgICAgICAgICAgY2FzZSAxMjU6CiAgICAgICAgICAgICAgdG90YWxEZWJ0RG8gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyODsKICAgICAgICAgICAgICByZXR1cm4gYm9uZGluZ0NhbGNDb250cmFjdC5jYWxjRGVidFJhdGlvKHRvdGFsRGVidERvLCB0YW9Ub3RhbFN1cHBseSk7CgogICAgICAgICAgICBjYXNlIDEyODoKICAgICAgICAgICAgICBkZWJ0UmF0aW8gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzMTsKICAgICAgICAgICAgICByZXR1cm4gcGFpckNvbnRyYWN0LmdldFJlc2VydmVzKCk7CgogICAgICAgICAgICBjYXNlIDEzMToKICAgICAgICAgICAgICByZXNlcnZlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIHRvdGFsQnVzZCA9IHJlc2VydmVzWzFdOwogICAgICAgICAgICAgIG1hcmtldFByaWNlID0gcmVzZXJ2ZXNbMV0uZGl2KHJlc2VydmVzWzBdKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzNjsKICAgICAgICAgICAgICByZXR1cm4gYm9uZGluZ0NvbnRyYWN0LmNhbGN1bGF0ZUJvbmRJbnRlcmVzdChldGhlcnMudXRpbHMucGFyc2VFdGhlcignMC4wMDAxJykudG9TdHJpbmcoKSk7CgogICAgICAgICAgICBjYXNlIDEzNjoKICAgICAgICAgICAgICBib25kVmFsdWUgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBib25kUHJpY2UgPSAyICogdG90YWxCdXNkICogKGV0aGVycy51dGlscy5wYXJzZUV0aGVyKCcwLjAwMDEnKS50b051bWJlcigpIC8gdG90YWxMUCkgLyBib25kVmFsdWU7CiAgICAgICAgICAgICAgYm9uZERpc2NvdW50ID0gMSAtIGJvbmRQcmljZSAvIG1hcmtldFByaWNlOwogICAgICAgICAgICAgIHRvdGFsTFBWYWx1ZSA9IHRvdGFsQnVzZCAqIDI7CiAgICAgICAgICAgICAgbHBQcmljZSA9IHRvdGFsTFBWYWx1ZSAvIHRvdGFsTFA7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xwUHJpY2UnLCBscFByaWNlLnRvU3RyaW5nKCkpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ0OwogICAgICAgICAgICAgIHJldHVybiBvaG1Db250cmFjdC50b3RhbFN1cHBseSgpOwoKICAgICAgICAgICAgY2FzZSAxNDQ6CiAgICAgICAgICAgICAgdGFvVG90YWxTdXBwbHkgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0NzsKICAgICAgICAgICAgICByZXR1cm4gYm9uZGluZ0NhbGNDb250cmFjdC5wcmluY2lwbGVWYWx1YXRpb24oYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uTFBfQUREUkVTUywgdG90YWxWYXVsdExQLnRvU3RyaW5nKCkpOwoKICAgICAgICAgICAgY2FzZSAxNDc6CiAgICAgICAgICAgICAgdmF1bHRQcmluY2lwbGVWYWx1YXRpb24gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1MDsKICAgICAgICAgICAgICByZXR1cm4gZGFpQ29udHJhY3QuYmFsYW5jZU9mKGFkZHJlc3Nlc1tuZXR3b3JrLmNoYWluSWRdLlZBVUxUX0FERFJFU1MpOwoKICAgICAgICAgICAgY2FzZSAxNTA6CiAgICAgICAgICAgICAgdG90YWxWYXVsdEJVU0QgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICB2YXVsdEJVU0QgPSB0b3RhbFZhdWx0QlVTRDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1NDsKICAgICAgICAgICAgICByZXR1cm4gYm9uZGluZ0NhbGNDb250cmFjdC5wcmluY2lwbGVWYWx1YXRpb24oYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uTFBfQUREUkVTUywgbHBMb2NrZWQudG9TdHJpbmcoKSk7CgogICAgICAgICAgICBjYXNlIDE1NDoKICAgICAgICAgICAgICB3YXVsdFByaW5jaXBsZVZhbHVhdGlvbiA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIHByaW5jaXBsZVZhbHVhdGlvbiA9IHBhcnNlRmxvYXQoZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKHZhdWx0UHJpbmNpcGxlVmFsdWF0aW9uLCAnZXRoZXInKSkgKyBwYXJzZUZsb2F0KGV0aGVycy51dGlscy5mb3JtYXRVbml0cyh2YXVsdEJVU0QsICdldGhlcicpKSArIHBhcnNlRmxvYXQoZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKHdhdWx0UHJpbmNpcGxlVmFsdWF0aW9uLCAnZXRoZXInKSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3ZhdWx0UHJpbmNpcGxlVmFsdWF0aW9uJywgZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKHZhdWx0UHJpbmNpcGxlVmFsdWF0aW9uLCAnZXRoZXInKSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3ZhdWx0QlVTRCcsIGV0aGVycy51dGlscy5mb3JtYXRVbml0cyh2YXVsdEJVU0QsICdldGhlcicpKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnd2F1bHRQcmluY2lwbGVWYWx1YXRpb24nLCBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHMod2F1bHRQcmluY2lwbGVWYWx1YXRpb24sICdldGhlcicpKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE2MTsKICAgICAgICAgICAgICByZXR1cm4gbHBDb250cmFjdC5hbGxvd2FuY2UoYWRkcmVzcywgYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uQk9ORF9BRERSRVNTKTsKCiAgICAgICAgICAgIGNhc2UgMTYxOgogICAgICAgICAgICAgIGxwQm9uZEFsbG93YW5jZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY0OwogICAgICAgICAgICAgIHJldHVybiBib25kaW5nQ29udHJhY3QuZGVwb3NpdG9ySW5mbyhhZGRyZXNzKTsKCiAgICAgICAgICAgIGNhc2UgMTY0OgogICAgICAgICAgICAgIGJvbmREZXRhaWxzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjc7CiAgICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyLmdldEJsb2NrTnVtYmVyKCk7CgogICAgICAgICAgICBjYXNlIDE2NzoKICAgICAgICAgICAgICBjdXJyZW50QmxvY2sgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY3VycmVudEJsb2NrJyk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coY3VycmVudEJsb2NrKTsKICAgICAgICAgICAgICBpbnRlcmVzdER1ZSA9IGJvbmREZXRhaWxzWzFdOwogICAgICAgICAgICAgIGJvbmRNYXR1cmF0aW9uQmxvY2sgPSArYm9uZERldGFpbHNbM10gKyArYm9uZERldGFpbHNbMl07CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNzQ7CiAgICAgICAgICAgICAgcmV0dXJuIGJvbmRpbmdDb250cmFjdC5jYWxjdWxhdGVQZW5kaW5nUGF5b3V0KGFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSAxNzQ6CiAgICAgICAgICAgICAgcGVuZGluZ1BheW91dCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgY2FzZSAxNzU6CiAgICAgICAgICAgICAgaWYgKCFhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5MUF9BRERSRVNTKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE4MDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgbHBDb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uTFBfQUREUkVTUywgaWVyYzIwQWJpLCBwcm92aWRlcik7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNzk7CiAgICAgICAgICAgICAgcmV0dXJuIGxwQ29udHJhY3QuYmFsYW5jZU9mKGFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSAxNzk6CiAgICAgICAgICAgICAgbHBCYWxhbmNlID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICBjYXNlIDE4MDoKICAgICAgICAgICAgICBpZiAoIWFkZHJlc3Nlc1tuZXR3b3JrLmNoYWluSWRdLkxQU1RBS0lOR19BRERSRVNTKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgbHBTdGFraW5nQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tuZXR3b3JrLmNoYWluSWRdLkxQU1RBS0lOR19BRERSRVNTLCBMUFN0YWtpbmcsIHByb3ZpZGVyKTsKICAgICAgICAgICAgICBscENvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5MUF9BRERSRVNTLCBpZXJjMjBBYmksIHByb3ZpZGVyKTsKICAgICAgICAgICAgICBvaG1Db250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uT0hNX0FERFJFU1MsIGllcmMyMEFiaSwgcHJvdmlkZXIpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg2OwogICAgICAgICAgICAgIHJldHVybiBscFN0YWtpbmdDb250cmFjdC50b3RhbFN0YWtlZCgpOwoKICAgICAgICAgICAgY2FzZSAxODY6CiAgICAgICAgICAgICAgdG90YWxMUFN0YWtlZCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg5OwogICAgICAgICAgICAgIHJldHVybiBscFN0YWtpbmdDb250cmFjdC5nZXRVc2VyQmFsYW5jZShhZGRyZXNzKTsKCiAgICAgICAgICAgIGNhc2UgMTg5OgogICAgICAgICAgICAgIGxwU3Rha2VkID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxOTI7CiAgICAgICAgICAgICAgcmV0dXJuIGxwU3Rha2luZ0NvbnRyYWN0LnBlbmRpbmdSZXdhcmRzKGFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSAxOTI6CiAgICAgICAgICAgICAgcGVuZGluZ1Jld2FyZHMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE5NTsKICAgICAgICAgICAgICByZXR1cm4gbHBDb250cmFjdC5hbGxvd2FuY2UoYWRkcmVzcywgYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uTFBTVEFLSU5HX0FERFJFU1MpOwoKICAgICAgICAgICAgY2FzZSAxOTU6CiAgICAgICAgICAgICAgbHBTdGFrZUFsbG93YW5jZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTk4OwogICAgICAgICAgICAgIHJldHVybiBscENvbnRyYWN0LnRvdGFsU3VwcGx5KCk7CgogICAgICAgICAgICBjYXNlIDE5ODoKICAgICAgICAgICAgICBfdG90YWxMUCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjAxOwogICAgICAgICAgICAgIHJldHVybiBvaG1Db250cmFjdC5iYWxhbmNlT2YoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uTFBfQUREUkVTUyk7CgogICAgICAgICAgICBjYXNlIDIwMToKICAgICAgICAgICAgICBPSE1JbkxQID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGxwU3Rha2luZ0NvbnRyYWN0LnJld2FyZFBlckJsb2NrKCk7CgogICAgICAgICAgICBjYXNlIDIwNDoKICAgICAgICAgICAgICByZXdhcmRQZXJCbG9jayA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGxwU3Rha2luZ0FQWSA9IHJld2FyZFBlckJsb2NrICogQkxPQ0tTX1BFUl9EQVkgKiAzNjUgKiAxMDAgLyAodG90YWxMUFN0YWtlZCAqIE9ITUluTFAgLyBfdG90YWxMUCAqIDIpOwoKICAgICAgICAgICAgY2FzZSAyMDY6CiAgICAgICAgICAgICAgaWYgKCFhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5PSE1fQUREUkVTUykgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMTc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIG9obUNvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5PSE1fQUREUkVTUywgaWVyYzIwQWJpLCBwcm92aWRlcik7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMTA7CiAgICAgICAgICAgICAgcmV0dXJuIG9obUNvbnRyYWN0LmJhbGFuY2VPZihhZGRyZXNzKTsKCiAgICAgICAgICAgIGNhc2UgMjEwOgogICAgICAgICAgICAgIG9obUJhbGFuY2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIxMzsKICAgICAgICAgICAgICByZXR1cm4gb2htQ29udHJhY3QuYmFsYW5jZU9mKGFkZHJlc3Nlc1tuZXR3b3JrLmNoYWluSWRdLlNUQUtJTkdfQUREUkVTUyk7CgogICAgICAgICAgICBjYXNlIDIxMzoKICAgICAgICAgICAgICB0YW9TdGFrZWQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIxNjsKICAgICAgICAgICAgICByZXR1cm4gb2htQ29udHJhY3QuYWxsb3dhbmNlKGFkZHJlc3MsIGFkZHJlc3Nlc1tuZXR3b3JrLmNoYWluSWRdLlNUQUtJTkdfQUREUkVTUyk7CgogICAgICAgICAgICBjYXNlIDIxNjoKICAgICAgICAgICAgICBzdGFrZUFsbG93YW5jZSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgY2FzZSAyMTc6CiAgICAgICAgICAgICAgaWYgKCFhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5TT0hNX0FERFJFU1MpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBzb2htQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tuZXR3b3JrLmNoYWluSWRdLlNPSE1fQUREUkVTUywgaWVyYzIwQWJpLCBwcm92aWRlcik7CiAgICAgICAgICAgICAgc29obU1haW5Db250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uU09ITV9BRERSRVNTLCBzT0hNLCBwcm92aWRlcik7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMjI7CiAgICAgICAgICAgICAgcmV0dXJuIHNvaG1Db250cmFjdC5iYWxhbmNlT2YoYWRkcmVzcyk7CgogICAgICAgICAgICBjYXNlIDIyMjoKICAgICAgICAgICAgICBzb2htQmFsYW5jZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI1OwogICAgICAgICAgICAgIHJldHVybiBzb2htQ29udHJhY3QuYWxsb3dhbmNlKGFkZHJlc3MsIGFkZHJlc3Nlc1tuZXR3b3JrLmNoYWluSWRdLlNUQUtJTkdfQUREUkVTUyk7CgogICAgICAgICAgICBjYXNlIDIyNToKICAgICAgICAgICAgICB1bnN0YWtlQWxsb3dhbmNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMjg7CiAgICAgICAgICAgICAgcmV0dXJuIHNvaG1NYWluQ29udHJhY3QuY2lyY3VsYXRpbmdTdXBwbHkoKTsKCiAgICAgICAgICAgIGNhc2UgMjI4OgogICAgICAgICAgICAgIGNpcmNTdXBwbHkgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgIGNhc2UgMjI5OgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdGFrZUFsbG93YW5jZScsIHN0YWtlQWxsb3dhbmNlKTsKICAgICAgICAgICAgICBjb21taXQoJ3NldCcsIHsKICAgICAgICAgICAgICAgIHN0YWtlQWxsb3dhbmNlOiBzdGFrZUFsbG93YW5jZSwKICAgICAgICAgICAgICAgIHVuc3Rha2VBbGxvd2FuY2U6IHVuc3Rha2VBbGxvd2FuY2UsCiAgICAgICAgICAgICAgICBscFN0YWtlQWxsb3dhbmNlOiBscFN0YWtlQWxsb3dhbmNlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGlmICghYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uU1RBS0lOR19BRERSRVNTKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI0MzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgc3Rha2luZ0NvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5TVEFLSU5HX0FERFJFU1MsIE9seW1wdXNTdGFraW5nLCBwcm92aWRlcik7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyMzM7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMzY7CiAgICAgICAgICAgICAgcmV0dXJuIHN0YWtpbmdDb250cmFjdC50YW9Ub0Rpc3RyaWJ1dGVOZXh0RXBvY2goKTsKCiAgICAgICAgICAgIGNhc2UgMjM2OgogICAgICAgICAgICAgIHByb2ZpdCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjQzOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyMzk6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyMzk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQyID0gX2NvbnRleHQyWyJjYXRjaCJdKDIzMyk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm8nKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDIudDIpOwoKICAgICAgICAgICAgY2FzZSAyNDM6CiAgICAgICAgICAgICAgaWYgKCFhZGRyZXNzZXNbbmV0d29yay5jaGFpbklkXS5ESVNUUklCVVRPUl9BRERSRVNTKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI2NTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZGlzdHJpYnV0b3JDb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uRElTVFJJQlVUT1JfQUREUkVTUywgRGlzdHJpYnV0b3JDb250cmFjdCwgcHJvdmlkZXIpOwogICAgICAgICAgICAgIHNvaG1Db250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW25ldHdvcmsuY2hhaW5JZF0uU09ITV9BRERSRVNTLCBpZXJjMjBBYmksIHByb3ZpZGVyKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI0ODsKICAgICAgICAgICAgICByZXR1cm4gc29obU1haW5Db250cmFjdC5jaXJjdWxhdGluZ1N1cHBseSgpOwoKICAgICAgICAgICAgY2FzZSAyNDg6CiAgICAgICAgICAgICAgY2lyY1N1cHBseSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjUxOwogICAgICAgICAgICAgIHJldHVybiBzdGFraW5nQ29udHJhY3QudGFvVG9EaXN0cmlidXRlTmV4dEVwb2NoKCk7CgogICAgICAgICAgICBjYXNlIDI1MToKICAgICAgICAgICAgICBzdGFraW5nUmV3YXJkID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyNTQ7CiAgICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyLmdldEJsb2NrTnVtYmVyKCk7CgogICAgICAgICAgICBjYXNlIDI1NDoKICAgICAgICAgICAgICBjdXJyZW50QmxvY2sgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBzdGFraW5nUmViYXNlID0gc3Rha2luZ1Jld2FyZCAvIGNpcmNTdXBwbHk7CiAgICAgICAgICAgICAgbmV4dEVwb2NoUmV3YXJkcyA9IHBhcnNlRmxvYXQoZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKHNvaG1CYWxhbmNlLCAnZ3dlaScpKSAqIHN0YWtpbmdSZWJhc2U7CiAgICAgICAgICAgICAgZml2ZURheVJhdGUgPSBNYXRoLnBvdygxICsgc3Rha2luZ1JlYmFzZSwgNSAqIDQpIC0gMTsKICAgICAgICAgICAgICBjdXJyZW50RXBvY2ggPSBNYXRoLmZsb29yKChjdXJyZW50QmxvY2sgLSBFUE9DSF9TVEFSVEVEKSAvIEVQT0NIX0lOVEVSVkFMKTsKICAgICAgICAgICAgICBuZXh0RXBvY2hCbG9jayA9IEVQT0NIX1NUQVJURUQgKyBFUE9DSF9JTlRFUlZBTCAqIChjdXJyZW50RXBvY2ggKyAxKTsKICAgICAgICAgICAgICBzdGFraW5nQVBZID0gTWF0aC5wb3coMSArIHN0YWtpbmdSZWJhc2UsIDM2NSAqIDQpOwogICAgICAgICAgICAgIHN0YWtpbmdBUFkgPSBzdGFraW5nQVBZICogMTAwOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjY0OwogICAgICAgICAgICAgIHJldHVybiBzb2htQ29udHJhY3QuYmFsYW5jZU9mKGFkZHJlc3Nlc1tuZXR3b3JrLmNoYWluSWRdLlNPSE1fSU5ERVhfQUREUkVTUyk7CgogICAgICAgICAgICBjYXNlIDI2NDoKICAgICAgICAgICAgICBjdXJyZW50SW5kZXggPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgIGNhc2UgMjY1OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjY3OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZ2V0TWF4UHVyY2hhc2UnKTsKCiAgICAgICAgICAgIGNhc2UgMjY3OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjY5OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZ2V0QWxsb3RtZW50UGVyQnV5ZXInKTsKCiAgICAgICAgICAgIGNhc2UgMjY5OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjcxOwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZ2V0RXhlcmNpc2VBbGxvd2FuY2UnKTsKCiAgICAgICAgICAgIGNhc2UgMjcxOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjczOwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZ2V0TWF4UHVyY2hhc2UnKTsKCiAgICAgICAgICAgIGNhc2UgMjczOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjc1OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZ2V0QWxsb3RtZW50UGVyQnV5ZXInKTsKCiAgICAgICAgICAgIGNhc2UgMjc1OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjc3OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZ2V0RXhlcmNpc2VBbGxvd2FuY2UnKTsKCiAgICAgICAgICAgIGNhc2UgMjc3OgogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgLy8gbmFtZSwKICAgICAgICAgICAgICAgIGJsb2NrTnVtYmVyOiBibG9ja051bWJlciwKICAgICAgICAgICAgICAgIGJhbGFuY2U6IGV0aGVycy51dGlscy5mb3JtYXRFdGhlcihiYWxhbmNlKSwKICAgICAgICAgICAgICAgIGFPSE1CYWxhbmNlOiBhT0hNQmFsYW5jZSwKICAgICAgICAgICAgICAgIG5ldHdvcms6IG5ldHdvcmssCiAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgIG9obUJhbGFuY2U6IGV0aGVycy51dGlscy5mb3JtYXRVbml0cyhvaG1CYWxhbmNlLCAnZ3dlaScpLAogICAgICAgICAgICAgICAgc29obUJhbGFuY2U6IGV0aGVycy51dGlscy5mb3JtYXRVbml0cyhzb2htQmFsYW5jZSwgJ2d3ZWknKSwKICAgICAgICAgICAgICAgIHRvdGFsTFBTdGFrZWQ6IGV0aGVycy51dGlscy5mb3JtYXRVbml0cyh0b3RhbExQU3Rha2VkLCAnZXRoZXInKSwKICAgICAgICAgICAgICAgIGxwQmFsYW5jZTogZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKGxwQmFsYW5jZSwgJ2V0aGVyJyksCiAgICAgICAgICAgICAgICBscFN0YWtlZDogZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKGxwU3Rha2VkLCAnZXRoZXInKSwKICAgICAgICAgICAgICAgIHBlbmRpbmdSZXdhcmRzOiBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHMocGVuZGluZ1Jld2FyZHMsICdnd2VpJyksCiAgICAgICAgICAgICAgICBscFN0YWtpbmdBUFk6IGxwU3Rha2luZ0FQWSwKICAgICAgICAgICAgICAgIHN0YWtpbmdSZXdhcmQ6IGV0aGVycy51dGlscy5mb3JtYXRVbml0cyhzdGFraW5nUmV3YXJkLCAnZ3dlaScpLAogICAgICAgICAgICAgICAgc3Rha2luZ0FQWTogc3Rha2luZ0FQWSwKICAgICAgICAgICAgICAgIHN0YWtpbmdSZWJhc2U6IHN0YWtpbmdSZWJhc2UsCiAgICAgICAgICAgICAgICBuZXh0RXBvY2hCbG9jazogbmV4dEVwb2NoQmxvY2ssCiAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXg6IGV0aGVycy51dGlscy5mb3JtYXRVbml0cyhjdXJyZW50SW5kZXgsICdnd2VpJyksCiAgICAgICAgICAgICAgICBib25kVmFsdWU6IGJvbmRWYWx1ZSwKICAgICAgICAgICAgICAgIGJvbmRQcmljZTogYm9uZFByaWNlLAogICAgICAgICAgICAgICAgbWFya2V0UHJpY2U6IG1hcmtldFByaWNlIC8gMTAwMDAwMDAwMCwKICAgICAgICAgICAgICAgIGRlYnRSYXRpbzogZGVidFJhdGlvLAogICAgICAgICAgICAgICAgaW50ZXJlc3REdWU6IGV0aGVycy51dGlscy5mb3JtYXRVbml0cyhpbnRlcmVzdER1ZSwgJ2d3ZWknKSwKICAgICAgICAgICAgICAgIGJvbmRNYXR1cmF0aW9uQmxvY2s6IGJvbmRNYXR1cmF0aW9uQmxvY2ssCiAgICAgICAgICAgICAgICBjdXJyZW50QmxvY2s6IGN1cnJlbnRCbG9jaywKICAgICAgICAgICAgICAgIGJvbmREaXNjb3VudDogYm9uZERpc2NvdW50LAogICAgICAgICAgICAgICAgcGVuZGluZ1BheW91dDogZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKHBlbmRpbmdQYXlvdXQsICdnd2VpJyksCiAgICAgICAgICAgICAgICB2ZXN0aW5nUGVyaW9kSW5CbG9ja3M6IHZlc3RpbmdQZXJpb2RJbkJsb2NrcywKICAgICAgICAgICAgICAgIHRvdGFsU3VwcGx5OiBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHModGFvVG90YWxTdXBwbHksICdnd2VpJyksCiAgICAgICAgICAgICAgICBjaXJjU3VwcGx5OiBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHModGFvQ2lyY1N1cHBseSwgJ2d3ZWknKSwKICAgICAgICAgICAgICAgIHRvdGFsQnVzZExQOiBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHModG90YWxCdXNkLCAnZXRoZXInKSwKICAgICAgICAgICAgICAgIHRhb1N0YWtlZDogZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKHRhb1N0YWtlZCwgJ2d3ZWknKSwKICAgICAgICAgICAgICAgIGxwSW5WYXVsdDogZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKHRvdGFsVmF1bHRMUCwgJ2V0aGVyJyksCiAgICAgICAgICAgICAgICBscExvY2tlZDogZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKGxwTG9ja2VkLCAnZXRoZXInKSwKICAgICAgICAgICAgICAgIHZhdWx0QlVTRDogZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKHZhdWx0QlVTRCwgJ2V0aGVyJyksCiAgICAgICAgICAgICAgICBscFByaWNlOiBscFByaWNlLAogICAgICAgICAgICAgICAgcHJpbmNpcGxlVmFsdWF0aW9uOiBwcmluY2lwbGVWYWx1YXRpb24sCiAgICAgICAgICAgICAgICBmaXZlRGF5UmF0ZTogZml2ZURheVJhdGUsCiAgICAgICAgICAgICAgICBuZXh0RXBvY2hSZXdhcmRzOiBuZXh0RXBvY2hSZXdhcmRzCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyODA7CiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwczovL3Rhb2Rhby1hcGkubmV0bGlmeS5hcHAvLm5ldGxpZnkvZnVuY3Rpb25zL3NlcnZlciIpOwoKICAgICAgICAgICAgY2FzZSAyODA6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI4MzsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgY2FzZSAyODM6CiAgICAgICAgICAgICAgdGFvaXN0cyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgdGFvaXN0czogdGFvaXN0cwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjkwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyODc6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyODc7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQzID0gX2NvbnRleHQyWyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQyLnQzKTsKCiAgICAgICAgICAgIGNhc2UgMjkwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjkzOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyOTI6CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVGhpcyB3ZWJzaXRlIHJlcXVpcmUgTWV0YU1hc2snKTsKCiAgICAgICAgICAgIGNhc2UgMjkzOgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJMb2dpbiBkb25lIGluICIuY29uY2F0KERhdGUubm93KCkgLSBzdGFydEF0LCAibXMiKSk7CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2xvZ2luJyk7CiAgICAgICAgICAgICAgfSwgMzAwMDApOwoKICAgICAgICAgICAgY2FzZSAyOTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1szLCAyODddLCBbMzMsIDUzXSwgWzU2LCA4Ml0sIFsyMzMsIDIzOV1dKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBsb2dpbihfeDIpIHsKICAgICAgcmV0dXJuIF9sb2dpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBsb2dpbjsKICB9KCksCiAgbG9hZGluZzogZnVuY3Rpb24gbG9hZGluZyhfcmVmMywgcGF5bG9hZCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgIGNvbW1pdCgnc2V0JywgewogICAgICBsb2FkaW5nOiBwYXlsb2FkCiAgICB9KTsKICB9LAogIGdldEV4Y2hhbmdlUmF0ZXM6IGZ1bmN0aW9uIGdldEV4Y2hhbmdlUmF0ZXMoX3JlZjQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgY29tbWl0LCBleGNoYW5nZVJhdGVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGdldEV4Y2hhbmdlUmF0ZXNGcm9tQ29pbkdlY2tvKCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgZXhjaGFuZ2VSYXRlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgZXhjaGFuZ2VSYXRlczogZXhjaGFuZ2VSYXRlcwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICBidXk6IGZ1bmN0aW9uIGJ1eShfcmVmNSwgdmFsdWUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICB2YXIgY29tbWl0LCBzaWduZXIsIHByZXNhbGUsIGRhaUNvbnRyYWN0LCBwcmVzYWxlVFgsIGJhbGFuY2UsIGJvdWdodFRhbywgY2xhaW1VbmxvY2tlZCwgY2xhaW1hYmxlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgICAgICAgICBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uUFJFU0FMRV9BRERSRVNTLCBPSE1QcmVTYWxlLCBzaWduZXIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHByZXNhbGUgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICBkYWlDb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uREFJX0FERFJFU1MsIGllcmMyMEFiaSwgc2lnbmVyKTsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIHByZXNhbGUuYnV5KGV0aGVycy51dGlscy5wYXJzZUV0aGVyKHZhbHVlKS50b1N0cmluZygpKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBwcmVzYWxlVFggPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDExOwogICAgICAgICAgICAgIHJldHVybiBwcmVzYWxlVFgud2FpdChjb25zb2xlLmxvZygnU3VjY2VzcycpKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gZGFpQ29udHJhY3QuYmFsYW5jZU9mKHN0YXRlLmFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBiYWxhbmNlID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXQnLCB7CiAgICAgICAgICAgICAgICAvLyBuYW1lLAogICAgICAgICAgICAgICAgYmFsYW5jZTogZXRoZXJzLnV0aWxzLmZvcm1hdEV0aGVyKGJhbGFuY2UpCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICByZXR1cm4gcHJlc2FsZS5ib3VnaHRUQU8oc3RhdGUuYWRkcmVzcyk7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGJvdWdodFRhbyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgcmV0dXJuIHByZXNhbGUuY2xhaW1VbmxvY2tlZCgpOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBjbGFpbVVubG9ja2VkID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyMzsKICAgICAgICAgICAgICByZXR1cm4gcHJlc2FsZS5jbGFpbWFibGUoc3RhdGUuYWRkcmVzcyk7CgogICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNsYWltYWJsZSA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgY2xhaW1VbmxvY2tlZDogY2xhaW1VbmxvY2tlZCwKICAgICAgICAgICAgICAgIGJvdWdodFRhbzogYm91Z2h0VGFvLAogICAgICAgICAgICAgICAgY2xhaW1hYmxlOiBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHMoY2xhaW1hYmxlLCAnZ3dlaScpCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfSwKICBidXlQcmV0YW86IGZ1bmN0aW9uIGJ1eVByZXRhbyhfcmVmNiwgdmFsdWUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICB2YXIgY29tbWl0LCBzaWduZXIsIHByZXRhb1NhbGVzLCBwdGFvQ29udHJhY3QsIGRhaUNvbnRyYWN0LCBwcmVzYWxlVFgsIGJhbGFuY2UsIHByZXRhb0JhbGFuY2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgICAgICAgICAgIHNpZ25lciA9IHByb3ZpZGVyLmdldFNpZ25lcigpOwogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5QUkVUQU9fU0FMRVMsIFByZVRhb1NhbGVzLCBzaWduZXIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHByZXRhb1NhbGVzID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgcHRhb0NvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5QVEFPX0FERFJFU1MsIGllcmMyMEFiaSwgc2lnbmVyKTsKICAgICAgICAgICAgICBkYWlDb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uREFJX0FERFJFU1MsIGllcmMyMEFiaSwgc2lnbmVyKTsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIHByZXRhb1NhbGVzLmJ1eXBUYW8oZXRoZXJzLnV0aWxzLnBhcnNlRXRoZXIodmFsdWUpLnRvU3RyaW5nKCkpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHByZXNhbGVUWCA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgcmV0dXJuIHByZXNhbGVUWC53YWl0KGNvbnNvbGUubG9nKCdTdWNjZXNzJykpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE0OwogICAgICAgICAgICAgIHJldHVybiBkYWlDb250cmFjdC5iYWxhbmNlT2Yoc3RhdGUuYWRkcmVzcyk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGJhbGFuY2UgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE3OwogICAgICAgICAgICAgIHJldHVybiBwdGFvQ29udHJhY3QuYmFsYW5jZU9mKHN0YXRlLmFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBwcmV0YW9CYWxhbmNlID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXQnLCB7CiAgICAgICAgICAgICAgICAvLyBuYW1lLAogICAgICAgICAgICAgICAgYmFsYW5jZTogZXRoZXJzLnV0aWxzLmZvcm1hdEV0aGVyKGJhbGFuY2UpLAogICAgICAgICAgICAgICAgcHJldGFvQmFsYW5jZTogZXRoZXJzLnV0aWxzLmZvcm1hdEV0aGVyKHByZXRhb0JhbGFuY2UpCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTUpOwogICAgfSkpKCk7CiAgfSwKICBjYWxjQm9uZERldGFpbHM6IGZ1bmN0aW9uIGNhbGNCb25kRGV0YWlscyhfcmVmNywgYW1vdW50KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgdmFyIGNvbW1pdCwgZGlzcGF0Y2gsIGFtb3VudEluV2VpLCBwYWlyQ29udHJhY3QsIGJvbmRpbmdDb250cmFjdCwgbHBDb250cmFjdCwgYm9uZGluZ0NhbGNDb250cmFjdCwgb2htQ29udHJhY3QsIHRvdGFsTFAsIG9obVRvdGFsU3VwcGx5LCB2ZXN0aW5nUGVyaW9kSW5CbG9ja3MsIHRvdGFsRGVidERvLCBkZWJ0UmF0aW8sIHJlc2VydmVzLCB0b3RhbEJ1c2QsIG1hcmtldFByaWNlLCBib25kVmFsdWUsIGJvbmRQcmljZSwgYm9uZERpc2NvdW50OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY3LmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmNy5kaXNwYXRjaDsKCiAgICAgICAgICAgICAgaWYgKCFhbW91bnQgfHwgYW1vdW50ID09PSAnJykgewogICAgICAgICAgICAgICAgYW1vdW50SW5XZWkgPSBldGhlcnMudXRpbHMucGFyc2VFdGhlcignMC4wMDAxJyk7IC8vIFVzZSBhIHJlYWxpc3RpYyBTTFAgb3duZXJzaGlwCiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFtb3VudEluV2VpID0gZXRoZXJzLnV0aWxzLnBhcnNlRXRoZXIoYW1vdW50KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHBhaXJDb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uTFBfQUREUkVTUywgUGFpckNvbnRyYWN0LCBwcm92aWRlcik7IC8vIElmIHRoZSB1c2VyIGhhc24ndCBlbnRlcmVkIGFueXRoaW5nLCBsZXQncyBjYWxjdWxhdGUgYSBmcmFjdGlvbiBvZiBTTFAKCiAgICAgICAgICAgICAgYm9uZGluZ0NvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5CT05EX0FERFJFU1MsIEJvbmRDb250cmFjdCwgcHJvdmlkZXIpOwogICAgICAgICAgICAgIGxwQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLkxQX0FERFJFU1MsIGllcmMyMEFiaSwgcHJvdmlkZXIpOwogICAgICAgICAgICAgIGJvbmRpbmdDYWxjQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLkJPTkRJTkdDQUxDX0FERFJFU1MsIEJvbmRDYWxjQ29udHJhY3QsIHByb3ZpZGVyKTsKICAgICAgICAgICAgICBvaG1Db250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uT0hNX0FERFJFU1MsIGllcmMyMEFiaSwgcHJvdmlkZXIpOwogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gbHBDb250cmFjdC50b3RhbFN1cHBseSgpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHRvdGFsTFAgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEyOwogICAgICAgICAgICAgIHJldHVybiBvaG1Db250cmFjdC50b3RhbFN1cHBseSgpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBvaG1Ub3RhbFN1cHBseSA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgcmV0dXJuIGJvbmRpbmdDb250cmFjdC52ZXN0aW5nUGVyaW9kSW5CbG9ja3MoKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgdmVzdGluZ1BlcmlvZEluQmxvY2tzID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxODsKICAgICAgICAgICAgICByZXR1cm4gYm9uZGluZ0NvbnRyYWN0LnRvdGFsRGVidCgpOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICB0b3RhbERlYnREbyA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgcmV0dXJuIGJvbmRpbmdDYWxjQ29udHJhY3QuY2FsY0RlYnRSYXRpbyh0b3RhbERlYnREbywgb2htVG90YWxTdXBwbHkpOwoKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBkZWJ0UmF0aW8gPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI0OwogICAgICAgICAgICAgIHJldHVybiBwYWlyQ29udHJhY3QuZ2V0UmVzZXJ2ZXMoKTsKCiAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgcmVzZXJ2ZXMgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICB0b3RhbEJ1c2QgPSByZXNlcnZlc1sxXTsKICAgICAgICAgICAgICBtYXJrZXRQcmljZSA9IHJlc2VydmVzWzFdLmRpdihyZXNlcnZlc1swXSk7CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOTsKICAgICAgICAgICAgICByZXR1cm4gYm9uZGluZ0NvbnRyYWN0LmNhbGN1bGF0ZUJvbmRJbnRlcmVzdChhbW91bnRJbldlaS50b1N0cmluZygpKTsKCiAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgICAgYm9uZFZhbHVlID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgYm9uZFByaWNlID0gMiAqIHRvdGFsQnVzZCAqIChhbW91bnRJbldlaSAvIHRvdGFsTFApIC8gYm9uZFZhbHVlOwogICAgICAgICAgICAgIGJvbmREaXNjb3VudCA9IDEgLSBib25kUHJpY2UgLyBtYXJrZXRQcmljZTsKICAgICAgICAgICAgICBjb21taXQoJ3NldCcsIHsKICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgICAgICAgYm9uZFZhbHVlOiBib25kVmFsdWUsCiAgICAgICAgICAgICAgICBib25kRGlzY291bnQ6IGJvbmREaXNjb3VudCwKICAgICAgICAgICAgICAgIGRlYnRSYXRpbzogZGVidFJhdGlvLAogICAgICAgICAgICAgICAgYm9uZFByaWNlOiBib25kUHJpY2UsCiAgICAgICAgICAgICAgICB2ZXN0aW5nUGVyaW9kSW5CbG9ja3M6IHZlc3RpbmdQZXJpb2RJbkJsb2NrcywKICAgICAgICAgICAgICAgIG1hcmtldFByaWNlOiBtYXJrZXRQcmljZSAvIE1hdGgucG93KDEwLCA5KQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU2KTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0RXhlcmNpc2VBbGxvd2FuY2U6IGZ1bmN0aW9uIGdldEV4ZXJjaXNlQWxsb3dhbmNlKF9yZWY4KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgdmFyIGNvbW1pdCwgZXhlcmNpc2VDb250cmFjdCwgZ2V0cFRBT0FibGVUb0NsYWltLCBtYXhBbGxvd2VkVG9DbGFpbSwgZGFpQ29udHJhY3QsIGRhaUFsbG93YW5jZSwgcHRhb0NvbnRyYWN0LCBwdGFvQWxsb3dhbmNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY4LmNvbW1pdDsKCiAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5hZGRyZXNzKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uRVhFUkNJU0VfUFRBT19BRERSRVNTLCBFeGVyY2lzZVB0YW8sIHByb3ZpZGVyKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBleGVyY2lzZUNvbnRyYWN0ID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBleGVyY2lzZUNvbnRyYWN0LmdldHBUQU9BYmxlVG9DbGFpbShzdGF0ZS5hZGRyZXNzKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBnZXRwVEFPQWJsZVRvQ2xhaW0gPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBleGVyY2lzZUNvbnRyYWN0Lm1heEFsbG93ZWRUb0NsYWltKHN0YXRlLmFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBtYXhBbGxvd2VkVG9DbGFpbSA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uREFJX0FERFJFU1MsIGllcmMyMEFiaSwgcHJvdmlkZXIpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBkYWlDb250cmFjdCA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgcmV0dXJuIGRhaUNvbnRyYWN0LmFsbG93YW5jZShzdGF0ZS5hZGRyZXNzLCBhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5FWEVSQ0lTRV9QVEFPX0FERFJFU1MpOwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBkYWlBbGxvd2FuY2UgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE5OwogICAgICAgICAgICAgIHJldHVybiBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLlBUQU9fQUREUkVTUywgaWVyYzIwQWJpLCBwcm92aWRlcik7CgogICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIHB0YW9Db250cmFjdCA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgcmV0dXJuIHB0YW9Db250cmFjdC5hbGxvd2FuY2Uoc3RhdGUuYWRkcmVzcywgYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uRVhFUkNJU0VfUFRBT19BRERSRVNTKTsKCiAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgcHRhb0FsbG93YW5jZSA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgZXhlcmNpc2VQdGFvQWxsb3dhbmNlOiBwdGFvQWxsb3dhbmNlLAogICAgICAgICAgICAgICAgZXhlcmNpc2VCdXNkQWxsb3dhbmNlOiBkYWlBbGxvd2FuY2UsCiAgICAgICAgICAgICAgICBleGVyY2lzZUFibGVUb0NsYWltOiBldGhlcnMudXRpbHMuZm9ybWF0RXRoZXIoZ2V0cFRBT0FibGVUb0NsYWltKSwKICAgICAgICAgICAgICAgIGV4ZXJjaXNlTWF4QWxsb3dlZENsYWltOiBldGhlcnMudXRpbHMuZm9ybWF0RXRoZXIobWF4QWxsb3dlZFRvQ2xhaW0pCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTcpOwogICAgfSkpKCk7CiAgfSwKICBnZXRBcHByb3ZhbEV4ZXJjaXNlQnVzZDogZnVuY3Rpb24gZ2V0QXBwcm92YWxFeGVyY2lzZUJ1c2QoX3JlZjksIHZhbHVlKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgdmFyIGNvbW1pdCwgZGlzcGF0Y2gsIHNpZ25lciwgZGFpQ29udHJhY3QsIGFwcHJvdmVUeDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmOS5jb21taXQsIGRpc3BhdGNoID0gX3JlZjkuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgc2lnbmVyID0gcHJvdmlkZXIuZ2V0U2lnbmVyKCk7CiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLkRBSV9BRERSRVNTLCBpZXJjMjBBYmksIHNpZ25lcik7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgZGFpQ29udHJhY3QgPSBfY29udGV4dDguc2VudDsKCiAgICAgICAgICAgICAgaWYgKCEodmFsdWUgPD0gMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gZGFpQ29udHJhY3QuYXBwcm92ZShhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5FWEVSQ0lTRV9QVEFPX0FERFJFU1MsIGV0aGVycy51dGlscy5wYXJzZUV0aGVyKHZhbHVlKS50b1N0cmluZygpKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBhcHByb3ZlVHggPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3NldCcsIHsKICAgICAgICAgICAgICAgIGFsbG93YW5jZVR4OiAxCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gYXBwcm92ZVR4LndhaXQoKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxNTsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2dldEV4ZXJjaXNlQWxsb3dhbmNlJyk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTgpOwogICAgfSkpKCk7CiAgfSwKICBnZXRBcHByb3ZhbEV4ZXJjaXNlUHRhbzogZnVuY3Rpb24gZ2V0QXBwcm92YWxFeGVyY2lzZVB0YW8oX3JlZjEwLCB2YWx1ZSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgIHZhciBjb21taXQsIGRpc3BhdGNoLCBzaWduZXIsIHB0YW9Db250cmFjdCwgYXBwcm92ZVR4OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxMC5jb21taXQsIGRpc3BhdGNoID0gX3JlZjEwLmRpc3BhdGNoOwogICAgICAgICAgICAgIHNpZ25lciA9IHByb3ZpZGVyLmdldFNpZ25lcigpOwogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5QVEFPX0FERFJFU1MsIGllcmMyMEFiaSwgc2lnbmVyKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBwdGFvQ29udHJhY3QgPSBfY29udGV4dDkuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCEodmFsdWUgPD0gMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gcHRhb0NvbnRyYWN0LmFwcHJvdmUoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uRVhFUkNJU0VfUFRBT19BRERSRVNTLCBldGhlcnMudXRpbHMucGFyc2VFdGhlcih2YWx1ZSkudG9TdHJpbmcoKSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgYXBwcm92ZVR4ID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXQnLCB7CiAgICAgICAgICAgICAgICBhbGxvd2FuY2VUeDogMQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgcmV0dXJuIGFwcHJvdmVUeC53YWl0KCk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdnZXRFeGVyY2lzZUFsbG93YW5jZScpOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU5KTsKICAgIH0pKSgpOwogIH0sCiAgZXhlcmNpc2VQdGFvOiBmdW5jdGlvbiBleGVyY2lzZVB0YW8oX3JlZjExLCB2YWx1ZSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgc2lnbmVyLCBwdGFvQ29udHJhY3QsIHRhb0NvbnRyYWN0LCBkYWlDb250cmFjdCwgZXhlcmNpc2VDb250cmFjdCwgcHJlc2FsZVRYLCBiYWxhbmNlLCBwcmV0YW9CYWxhbmNlLCB0YW9CYWxhbmNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTEuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYxMS5kaXNwYXRjaDsKICAgICAgICAgICAgICBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTsKICAgICAgICAgICAgICBwdGFvQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLlBUQU9fQUREUkVTUywgaWVyYzIwQWJpLCBzaWduZXIpOwogICAgICAgICAgICAgIHRhb0NvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5PSE1fQUREUkVTUywgaWVyYzIwQWJpLCBzaWduZXIpOwogICAgICAgICAgICAgIGRhaUNvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5EQUlfQUREUkVTUywgaWVyYzIwQWJpLCBzaWduZXIpOwogICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uRVhFUkNJU0VfUFRBT19BRERSRVNTLCBFeGVyY2lzZVB0YW8sIHNpZ25lcik7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgZXhlcmNpc2VDb250cmFjdCA9IF9jb250ZXh0MTAuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gZXhlcmNpc2VDb250cmFjdC5leGVyY2lzZXBUQU8oZXRoZXJzLnV0aWxzLnBhcnNlRXRoZXIodmFsdWUpLnRvU3RyaW5nKCkpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBwcmVzYWxlVFggPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgcmV0dXJuIHByZXNhbGVUWC53YWl0KGNvbnNvbGUubG9nKCdTdWNjZXNzJykpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAxNTsKICAgICAgICAgICAgICByZXR1cm4gZGFpQ29udHJhY3QuYmFsYW5jZU9mKHN0YXRlLmFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBiYWxhbmNlID0gX2NvbnRleHQxMC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDE4OwogICAgICAgICAgICAgIHJldHVybiBwdGFvQ29udHJhY3QuYmFsYW5jZU9mKHN0YXRlLmFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBwcmV0YW9CYWxhbmNlID0gX2NvbnRleHQxMC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDIxOwogICAgICAgICAgICAgIHJldHVybiB0YW9Db250cmFjdC5iYWxhbmNlT2Yoc3RhdGUuYWRkcmVzcyk7CgogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIHRhb0JhbGFuY2UgPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXQnLCB7CiAgICAgICAgICAgICAgICBiYWxhbmNlOiBldGhlcnMudXRpbHMuZm9ybWF0RXRoZXIoYmFsYW5jZSksCiAgICAgICAgICAgICAgICBwcmV0YW9CYWxhbmNlOiBldGhlcnMudXRpbHMuZm9ybWF0RXRoZXIocHJldGFvQmFsYW5jZSksCiAgICAgICAgICAgICAgICBvaG1CYWxhbmNlOiBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHModGFvQmFsYW5jZSwgJ2d3ZWknKQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTApOwogICAgfSkpKCk7CiAgfSwKICBnZXRMUEJvbmRBbGxvd2FuY2U6IGZ1bmN0aW9uIGdldExQQm9uZEFsbG93YW5jZShfcmVmMTIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgdmFyIGNvbW1pdCwgbHBDb250cmFjdCwgbHBCb25kQWxsb3dhbmNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTIuY29tbWl0OwoKICAgICAgICAgICAgICBpZiAoIXN0YXRlLmFkZHJlc3MpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uTFBfQUREUkVTUywgaWVyYzIwQWJpLCBwcm92aWRlcik7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgbHBDb250cmFjdCA9IF9jb250ZXh0MTEuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBscENvbnRyYWN0LmFsbG93YW5jZShzdGF0ZS5hZGRyZXNzLCBhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5CT05EX0FERFJFU1MpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGxwQm9uZEFsbG93YW5jZSA9IF9jb250ZXh0MTEuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3NldCcsIHsKICAgICAgICAgICAgICAgIGxwQm9uZEFsbG93YW5jZTogbHBCb25kQWxsb3dhbmNlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTExKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0TFBCb25kQXBwcm92YWw6IGZ1bmN0aW9uIGdldExQQm9uZEFwcHJvdmFsKF9yZWYxMywgdmFsdWUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgdmFyIGNvbW1pdCwgZGlzcGF0Y2gsIHNpZ25lciwgbHBDb250cmFjdCwgYXBwcm92ZVR4OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTMuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYxMy5kaXNwYXRjaDsKICAgICAgICAgICAgICBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTsKICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLkxQX0FERFJFU1MsIGllcmMyMEFiaSwgc2lnbmVyKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBscENvbnRyYWN0ID0gX2NvbnRleHQxMi5zZW50OwoKICAgICAgICAgICAgICBpZiAoISh2YWx1ZSA8PSAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYWxlcnQoJ1BsZWFzZSBlbnRlciBhIHZhbHVlIGdyZWF0ZXIgdGhhbiAwJyk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gbHBDb250cmFjdC5hcHByb3ZlKGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLkJPTkRfQUREUkVTUywgZXRoZXJzLnV0aWxzLnBhcnNlVW5pdHMoJzEwMDAwMDAwMDAnLCAnZXRoZXInKS50b1N0cmluZygpKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgYXBwcm92ZVR4ID0gX2NvbnRleHQxMi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDEzOwogICAgICAgICAgICAgIHJldHVybiBhcHByb3ZlVHgud2FpdCgpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAxNTsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2dldExQQm9uZEFsbG93YW5jZScpOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTIpOwogICAgfSkpKCk7CiAgfSwKICBib25kTFA6IGZ1bmN0aW9uIGJvbmRMUChfcmVmMTQsIHZhbHVlKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgIHZhciBjb21taXQsIHNpZ25lciwgYm9uZGluZywgYm9uZFR4LCBscENvbnRyYWN0LCBscEJhbGFuY2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxNC5jb21taXQ7CiAgICAgICAgICAgICAgc2lnbmVyID0gcHJvdmlkZXIuZ2V0U2lnbmVyKCk7CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5CT05EX0FERFJFU1MsIEJvbmRDb250cmFjdCwgc2lnbmVyKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBib25kaW5nID0gX2NvbnRleHQxMy5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0MTMucHJldiA9IDU7CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gYm9uZGluZy5kZXBvc2l0Qm9uZFByaW5jaXBsZShldGhlcnMudXRpbHMucGFyc2VVbml0cyh2YWx1ZSwgJ2V0aGVyJykpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGJvbmRUeCA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxNTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgX2NvbnRleHQxMy50MCA9IF9jb250ZXh0MTNbImNhdGNoIl0oNSk7CgogICAgICAgICAgICAgIGlmIChfY29udGV4dDEzLnQwLmNvZGUgPT09IC0zMjYwMyAmJiBfY29udGV4dDEzLnQwLm1lc3NhZ2UuaW5kZXhPZignZHMtbWF0aC1zdWItdW5kZXJmbG93JykgPj0gMCkgewogICAgICAgICAgICAgICAgYWxlcnQoJ1lvdSBtYXkgYmUgdHJ5aW5nIHRvIGJvbmQgbW9yZSB0aGFuIHlvdXIgYmFsYW5jZSEgRXJyb3IgY29kZTogMzI2MDMuIE1lc3NhZ2U6IGRzLW1hdGgtc3ViLXVuZGVyZmxvdycpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydChfY29udGV4dDEzLnQwLm1lc3NhZ2UpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgcmV0dXJuIGJvbmRUeC53YWl0KCk7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGxwQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLkxQX0FERFJFU1MsIGllcmMyMEFiaSwgcHJvdmlkZXIpOwogICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDIwOwogICAgICAgICAgICAgIHJldHVybiBscENvbnRyYWN0LmJhbGFuY2VPZihzdGF0ZS5hZGRyZXNzKTsKCiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgbHBCYWxhbmNlID0gX2NvbnRleHQxMy5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgbHBCYWxhbmNlOiBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHMobHBCYWxhbmNlLCAnZXRoZXInKQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTMsIG51bGwsIFtbNSwgMTFdXSk7CiAgICB9KSkoKTsKICB9LAogIHJlZGVlbUJvbmQ6IGZ1bmN0aW9uIHJlZGVlbUJvbmQoKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICAgIHZhciBzaWduZXIsIGJvbmRpbmcsIHJlZGVlbVR4OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTsKICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLkJPTkRfQUREUkVTUywgQm9uZENvbnRyYWN0LCBzaWduZXIpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGJvbmRpbmcgPSBfY29udGV4dDE0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gYm9uZGluZy5yZWRlZW1Cb25kKCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgcmVkZWVtVHggPSBfY29udGV4dDE0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gcmVkZWVtVHgud2FpdCgpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICB9KSkoKTsKICB9LAogIGZvcmZlaXRCb25kOiBmdW5jdGlvbiBmb3JmZWl0Qm9uZCgpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgdmFyIHNpZ25lciwgYm9uZGluZywgZm9yZmVpdFR4OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTsKICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLkJPTkRfQUREUkVTUywgQm9uZENvbnRyYWN0LCBzaWduZXIpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGJvbmRpbmcgPSBfY29udGV4dDE1LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gYm9uZGluZy53aXRoZHJhd1ByaW5jaXBsZUFuZEZvcmZlaXRJbnRlcmVzdCgpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGZvcmZlaXRUeCA9IF9jb250ZXh0MTUuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiBmb3JmZWl0VHgud2FpdCgpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICB9KSkoKTsKICB9LAogIGNsYWltUHJlc2FsZTogZnVuY3Rpb24gY2xhaW1QcmVzYWxlKF9yZWYxNSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICB2YXIgY29tbWl0LCBzaWduZXIsIHByZXNhbGUsIHByZXNhbGVUWDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjE1LmNvbW1pdDsKICAgICAgICAgICAgICBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTsKICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLlBSRVNBTEVfQUREUkVTUywgT0hNUHJlU2FsZSwgc2lnbmVyKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBwcmVzYWxlID0gX2NvbnRleHQxNi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHByZXNhbGUuY2xhaW0oKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBwcmVzYWxlVFggPSBfY29udGV4dDE2LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgcmV0dXJuIHByZXNhbGVUWC53YWl0KGNvbnNvbGUubG9nKCdTdWNjZXNzJykpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjb21taXQoJ3NldCcsIHsKICAgICAgICAgICAgICAgIGNsYWltYWJsZTogMAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTYpOwogICAgfSkpKCk7CiAgfSwKICBnZXRBcHByb3ZhbDogZnVuY3Rpb24gZ2V0QXBwcm92YWwoX3JlZjE2LCB2YWx1ZSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgc2lnbmVyLCBkYWlDb250cmFjdCwgYXBwcm92ZVR4OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTYuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYxNi5kaXNwYXRjaDsKICAgICAgICAgICAgICBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTsKICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLkRBSV9BRERSRVNTLCBpZXJjMjBBYmksIHNpZ25lcik7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgZGFpQ29udHJhY3QgPSBfY29udGV4dDE3LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKHZhbHVlIDw9IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIGRhaUNvbnRyYWN0LmFwcHJvdmUoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uUFJFU0FMRV9BRERSRVNTLCBldGhlcnMudXRpbHMucGFyc2VFdGhlcih2YWx1ZSkudG9TdHJpbmcoKSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgYXBwcm92ZVR4ID0gX2NvbnRleHQxNy5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgYWxsb3dhbmNlVHg6IDEKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gYXBwcm92ZVR4LndhaXQoKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdnZXRBbGxvd2FuY2VzJyk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICB9KSkoKTsKICB9LAogIGdldEFwcHJvdmFsUHJldGFvOiBmdW5jdGlvbiBnZXRBcHByb3ZhbFByZXRhbyhfcmVmMTcsIHZhbHVlKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgoKSB7CiAgICAgIHZhciBjb21taXQsIGRpc3BhdGNoLCBzaWduZXIsIGRhaUNvbnRyYWN0LCBhcHByb3ZlVHg7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxNy5jb21taXQsIGRpc3BhdGNoID0gX3JlZjE3LmRpc3BhdGNoOwogICAgICAgICAgICAgIHNpZ25lciA9IHByb3ZpZGVyLmdldFNpZ25lcigpOwogICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uREFJX0FERFJFU1MsIGllcmMyMEFiaSwgc2lnbmVyKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBkYWlDb250cmFjdCA9IF9jb250ZXh0MTguc2VudDsKCiAgICAgICAgICAgICAgaWYgKCEodmFsdWUgPD0gMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gZGFpQ29udHJhY3QuYXBwcm92ZShhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5QUkVUQU9fU0FMRVMsIGV0aGVycy51dGlscy5wYXJzZUV0aGVyKHZhbHVlKS50b1N0cmluZygpKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBhcHByb3ZlVHggPSBfY29udGV4dDE4LnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXQnLCB7CiAgICAgICAgICAgICAgICBhbGxvd2FuY2VUeDogMQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDEzOwogICAgICAgICAgICAgIHJldHVybiBhcHByb3ZlVHgud2FpdCgpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAxNTsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2dldEFsbG93YW5jZXNQcmV0YW8nKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTE4KTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0QWxsb3dhbmNlczogZnVuY3Rpb24gZ2V0QWxsb3dhbmNlcyhfcmVmMTgpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOSgpIHsKICAgICAgdmFyIGNvbW1pdCwgZGlhQ29udHJhY3QsIGFsbG93YW5jZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOSQoX2NvbnRleHQxOSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjE4LmNvbW1pdDsKCiAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5hZGRyZXNzKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLkRBSV9BRERSRVNTLCBpZXJjMjBBYmksIHByb3ZpZGVyKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBkaWFDb250cmFjdCA9IF9jb250ZXh0MTkuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBkaWFDb250cmFjdC5hbGxvd2FuY2Uoc3RhdGUuYWRkcmVzcywgYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uUFJFU0FMRV9BRERSRVNTKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBhbGxvd2FuY2UgPSBfY29udGV4dDE5LnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXQnLCB7CiAgICAgICAgICAgICAgICBhbGxvd2FuY2U6IGFsbG93YW5jZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxOSk7CiAgICB9KSkoKTsKICB9LAogIGdldEFsbG93YW5jZXNQcmV0YW86IGZ1bmN0aW9uIGdldEFsbG93YW5jZXNQcmV0YW8oX3JlZjE5KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjAoKSB7CiAgICAgIHZhciBjb21taXQsIGRpYUNvbnRyYWN0LCBhbGxvd2FuY2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjAkKF9jb250ZXh0MjApIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIwLnByZXYgPSBfY29udGV4dDIwLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxOS5jb21taXQ7CgogICAgICAgICAgICAgIGlmICghc3RhdGUuYWRkcmVzcykgewogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5EQUlfQUREUkVTUywgaWVyYzIwQWJpLCBwcm92aWRlcik7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgZGlhQ29udHJhY3QgPSBfY29udGV4dDIwLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gZGlhQ29udHJhY3QuYWxsb3dhbmNlKHN0YXRlLmFkZHJlc3MsIGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLlBSRVRBT19TQUxFUyk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgYWxsb3dhbmNlID0gX2NvbnRleHQyMC5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgYWxsb3dhbmNlUHJldGFvOiBhbGxvd2FuY2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjApOwogICAgfSkpKCk7CiAgfSwKICBnZXRTdGFrZUFwcHJvdmFsOiBmdW5jdGlvbiBnZXRTdGFrZUFwcHJvdmFsKF9yZWYyMCwgdmFsdWUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgdmFyIGNvbW1pdCwgZGlzcGF0Y2gsIHNpZ25lciwgb2htQ29udHJhY3QsIGFwcHJvdmVUeDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMSQoX2NvbnRleHQyMSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIwLmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmMjAuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgc2lnbmVyID0gcHJvdmlkZXIuZ2V0U2lnbmVyKCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5PSE1fQUREUkVTUywgaWVyYzIwQWJpLCBzaWduZXIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIG9obUNvbnRyYWN0ID0gX2NvbnRleHQyMS5zZW50OwoKICAgICAgICAgICAgICBpZiAoISh2YWx1ZSA8PSAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiBvaG1Db250cmFjdC5hcHByb3ZlKGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLlNUQUtJTkdfQUREUkVTUywgZXRoZXJzLnV0aWxzLnBhcnNlVW5pdHMoJzEwMDAwMDAwMDAnLCAnZ3dlaScpLnRvU3RyaW5nKCkpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGFwcHJvdmVUeCA9IF9jb250ZXh0MjEuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAxMjsKICAgICAgICAgICAgICByZXR1cm4gYXBwcm92ZVR4LndhaXQoKTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdnZXRTdGFrZUFsbG93YW5jZXMnKTsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIxKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0TFBTdGFrZUFwcHJvdmFsOiBmdW5jdGlvbiBnZXRMUFN0YWtlQXBwcm92YWwoX3JlZjIxLCB2YWx1ZSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIyKCkgewogICAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgc2lnbmVyLCBscENvbnRyYWN0LCBhcHByb3ZlVHg7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjIkKF9jb250ZXh0MjIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIyLnByZXYgPSBfY29udGV4dDIyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyMS5jb21taXQsIGRpc3BhdGNoID0gX3JlZjIxLmRpc3BhdGNoOwogICAgICAgICAgICAgIHNpZ25lciA9IHByb3ZpZGVyLmdldFNpZ25lcigpOwogICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uTFBfQUREUkVTUywgaWVyYzIwQWJpLCBzaWduZXIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGxwQ29udHJhY3QgPSBfY29udGV4dDIyLnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKHZhbHVlIDw9IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIGxwQ29udHJhY3QuYXBwcm92ZShhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5MUFNUQUtJTkdfQUREUkVTUywgZXRoZXJzLnV0aWxzLnBhcnNlVW5pdHMoJzEwMDAwMDAwMDAnLCAnZXRoZXInKS50b1N0cmluZygpKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBhcHByb3ZlVHggPSBfY29udGV4dDIyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgcmV0dXJuIGFwcHJvdmVUeC53YWl0KCk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDE0OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZ2V0TFBTdGFrZUFsbG93YW5jZScpOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjIpOwogICAgfSkpKCk7CiAgfSwKICBnZXRTdGFrZUFsbG93YW5jZXM6IGZ1bmN0aW9uIGdldFN0YWtlQWxsb3dhbmNlcyhfcmVmMjIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMygpIHsKICAgICAgdmFyIGNvbW1pdCwgb2htQ29udHJhY3QsIHN0YWtlQWxsb3dhbmNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIzJChfY29udGV4dDIzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMy5wcmV2ID0gX2NvbnRleHQyMy5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMjIuY29tbWl0OwoKICAgICAgICAgICAgICBpZiAoIXN0YXRlLmFkZHJlc3MpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uT0hNX0FERFJFU1MsIGllcmMyMEFiaSwgcHJvdmlkZXIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIG9obUNvbnRyYWN0ID0gX2NvbnRleHQyMy5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIG9obUNvbnRyYWN0LmFsbG93YW5jZShzdGF0ZS5hZGRyZXNzLCBhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5TVEFLSU5HX0FERFJFU1MpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHN0YWtlQWxsb3dhbmNlID0gX2NvbnRleHQyMy5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgc3Rha2VBbGxvd2FuY2U6IHN0YWtlQWxsb3dhbmNlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIzKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0TFBTdGFrZUFsbG93YW5jZTogZnVuY3Rpb24gZ2V0TFBTdGFrZUFsbG93YW5jZShfcmVmMjMpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNCgpIHsKICAgICAgdmFyIGNvbW1pdCwgbHBDb250cmFjdCwgbHBTdGFrZUFsbG93YW5jZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNCQoX2NvbnRleHQyNCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIzLmNvbW1pdDsKCiAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5hZGRyZXNzKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLkxQX0FERFJFU1MsIGllcmMyMEFiaSwgcHJvdmlkZXIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGxwQ29udHJhY3QgPSBfY29udGV4dDI0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gbHBDb250cmFjdC5hbGxvd2FuY2Uoc3RhdGUuYWRkcmVzcywgYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uTFBTVEFLSU5HX0FERFJFU1MpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGxwU3Rha2VBbGxvd2FuY2UgPSBfY29udGV4dDI0LnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXQnLCB7CiAgICAgICAgICAgICAgICBscFN0YWtlQWxsb3dhbmNlOiBscFN0YWtlQWxsb3dhbmNlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTI0KTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0dW5TdGFrZUFwcHJvdmFsOiBmdW5jdGlvbiBnZXR1blN0YWtlQXBwcm92YWwoX3JlZjI0LCB2YWx1ZSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI1KCkgewogICAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgc2lnbmVyLCBzb2htQ29udHJhY3QsIGFwcHJvdmVUeDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNSQoX2NvbnRleHQyNSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjUucHJldiA9IF9jb250ZXh0MjUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjI0LmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmMjQuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgc2lnbmVyID0gcHJvdmlkZXIuZ2V0U2lnbmVyKCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5TT0hNX0FERFJFU1MsIGllcmMyMEFiaSwgc2lnbmVyKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBzb2htQ29udHJhY3QgPSBfY29udGV4dDI1LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKHZhbHVlIDw9IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIHNvaG1Db250cmFjdC5hcHByb3ZlKGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLlNUQUtJTkdfQUREUkVTUywgZXRoZXJzLnV0aWxzLnBhcnNlVW5pdHMoJzEwMDAwMDAwMDAnLCAnZ3dlaScpLnRvU3RyaW5nKCkpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGFwcHJvdmVUeCA9IF9jb250ZXh0MjUuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAxMjsKICAgICAgICAgICAgICByZXR1cm4gYXBwcm92ZVR4LndhaXQoKTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdnZXR1blN0YWtlQWxsb3dhbmNlcycpOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjUpOwogICAgfSkpKCk7CiAgfSwKICBnZXR1blN0YWtlQWxsb3dhbmNlczogZnVuY3Rpb24gZ2V0dW5TdGFrZUFsbG93YW5jZXMoX3JlZjI1KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjYoKSB7CiAgICAgIHZhciBjb21taXQsIHNvaG1Db250cmFjdCwgdW5zdGFrZUFsbG93YW5jZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNiQoX2NvbnRleHQyNikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjYucHJldiA9IF9jb250ZXh0MjYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjI1LmNvbW1pdDsKCiAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5hZGRyZXNzKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDI2Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDI2Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLlNPSE1fQUREUkVTUywgaWVyYzIwQWJpLCBwcm92aWRlcik7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgc29obUNvbnRyYWN0ID0gX2NvbnRleHQyNi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHNvaG1Db250cmFjdC5hbGxvd2FuY2Uoc3RhdGUuYWRkcmVzcywgYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uU1RBS0lOR19BRERSRVNTKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICB1bnN0YWtlQWxsb3dhbmNlID0gX2NvbnRleHQyNi5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgdW5zdGFrZUFsbG93YW5jZTogdW5zdGFrZUFsbG93YW5jZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI2LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyNik7CiAgICB9KSkoKTsKICB9LAogIGNhbGN1bGF0ZVByZVRhb1NhbGVRdW90ZTogZnVuY3Rpb24gY2FsY3VsYXRlUHJlVGFvU2FsZVF1b3RlKF9yZWYyNiwgdmFsdWUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNygpIHsKICAgICAgdmFyIGNvbW1pdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNyQoX2NvbnRleHQyNykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjcucHJldiA9IF9jb250ZXh0MjcubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjI2LmNvbW1pdDsKICAgICAgICAgICAgICBjb21taXQoJ3NldCcsIHsKICAgICAgICAgICAgICAgIGFtb3VudDogdmFsdWUgKiAxMDAKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNy5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjcpOwogICAgfSkpKCk7CiAgfSwKICBjYWxjdWxhdGVTYWxlUXVvdGU6IGZ1bmN0aW9uIGNhbGN1bGF0ZVNhbGVRdW90ZShfcmVmMjcsIHZhbHVlKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjgoKSB7CiAgICAgIHZhciBjb21taXQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjgkKF9jb250ZXh0MjgpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDI4LnByZXYgPSBfY29udGV4dDI4Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyNy5jb21taXQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXQnLCB7CiAgICAgICAgICAgICAgICBhbW91bnQ6IHZhbHVlIC8gc3RhdGUucHJpY2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjgpOwogICAgfSkpKCk7CiAgfSwKICBnZXRBbGxvdG1lbnRQZXJCdXllcjogZnVuY3Rpb24gZ2V0QWxsb3RtZW50UGVyQnV5ZXIoX3JlZjI4KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjkoKSB7CiAgICAgIHZhciBjb21taXQsIHByZXNhbGUsIGFsbG90bWVudDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyOSQoX2NvbnRleHQyOSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjkucHJldiA9IF9jb250ZXh0MjkubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjI4LmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDI5LnByZXYgPSAxOwogICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uUFJFU0FMRV9BRERSRVNTLCBPSE1QcmVTYWxlLCBwcm92aWRlcik7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcHJlc2FsZSA9IF9jb250ZXh0Mjkuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBwcmVzYWxlLmdldEFsbG90bWVudFBlckJ1eWVyKCk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgYWxsb3RtZW50ID0gX2NvbnRleHQyOS5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgYWxsb3RtZW50OiBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHMoYWxsb3RtZW50LCAnZXRoZXInKQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDE0OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfY29udGV4dDI5LnByZXYgPSAxMTsKICAgICAgICAgICAgICBfY29udGV4dDI5LnQwID0gX2NvbnRleHQyOVsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDI5LnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjkuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTI5LCBudWxsLCBbWzEsIDExXV0pOwogICAgfSkpKCk7CiAgfSwKICBnZXRNYXhQdXJjaGFzZTogZnVuY3Rpb24gZ2V0TWF4UHVyY2hhc2UoX3JlZjI5KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzAoKSB7CiAgICAgIHZhciBjb21taXQsIGRpc3BhdGNoLCBwcmVzYWxlLCBzYWxlUHJpY2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzAkKF9jb250ZXh0MzApIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMwLnByZXYgPSBfY29udGV4dDMwLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyOS5jb21taXQsIGRpc3BhdGNoID0gX3JlZjI5LmRpc3BhdGNoOwogICAgICAgICAgICAgIF9jb250ZXh0MzAubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uUFJFU0FMRV9BRERSRVNTLCBPSE1QcmVTYWxlLCBwcm92aWRlcik7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcHJlc2FsZSA9IF9jb250ZXh0MzAuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDMwLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBwcmVzYWxlLnByaWNlKCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgc2FsZVByaWNlID0gX2NvbnRleHQzMC5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgcHJpY2U6IGV0aGVycy51dGlscy5mb3JtYXRVbml0cyhzYWxlUHJpY2UudG9TdHJpbmcoKSwgJ2V0aGVyJykKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMzApOwogICAgfSkpKCk7CiAgfSwKICBzdGFrZVRBTzogZnVuY3Rpb24gc3Rha2VUQU8oX3JlZjMwLCB2YWx1ZSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMxKCkgewogICAgICB2YXIgY29tbWl0LCBzaWduZXIsIHN0YWtpbmcsIHN0YWtlVHgsIG9obUNvbnRyYWN0LCBvaG1CYWxhbmNlLCBzb2htQ29udHJhY3QsIHNvaG1CYWxhbmNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMxJChfY29udGV4dDMxKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMS5wcmV2ID0gX2NvbnRleHQzMS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMzAuY29tbWl0OwogICAgICAgICAgICAgIHNpZ25lciA9IHByb3ZpZGVyLmdldFNpZ25lcigpOwogICAgICAgICAgICAgIF9jb250ZXh0MzEubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uU1RBS0lOR19BRERSRVNTLCBPbHltcHVzU3Rha2luZywgc2lnbmVyKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBzdGFraW5nID0gX2NvbnRleHQzMS5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0MzEubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHN0YWtpbmcuc3Rha2VUQU8oZXRoZXJzLnV0aWxzLnBhcnNlVW5pdHModmFsdWUsICdnd2VpJykpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHN0YWtlVHggPSBfY29udGV4dDMxLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQzMS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgcmV0dXJuIHN0YWtlVHgud2FpdCgpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBvaG1Db250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uT0hNX0FERFJFU1MsIGllcmMyMEFiaSwgcHJvdmlkZXIpOwogICAgICAgICAgICAgIF9jb250ZXh0MzEubmV4dCA9IDEzOwogICAgICAgICAgICAgIHJldHVybiBvaG1Db250cmFjdC5iYWxhbmNlT2Yoc3RhdGUuYWRkcmVzcyk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIG9obUJhbGFuY2UgPSBfY29udGV4dDMxLnNlbnQ7CiAgICAgICAgICAgICAgc29obUNvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5TT0hNX0FERFJFU1MsIGllcmMyMEFiaSwgcHJvdmlkZXIpOwogICAgICAgICAgICAgIF9jb250ZXh0MzEubmV4dCA9IDE3OwogICAgICAgICAgICAgIHJldHVybiBzb2htQ29udHJhY3QuYmFsYW5jZU9mKHN0YXRlLmFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBzb2htQmFsYW5jZSA9IF9jb250ZXh0MzEuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3NldCcsIHsKICAgICAgICAgICAgICAgIG9obUJhbGFuY2U6IGV0aGVycy51dGlscy5mb3JtYXRVbml0cyhvaG1CYWxhbmNlLCAnZ3dlaScpLAogICAgICAgICAgICAgICAgc29obUJhbGFuY2U6IGV0aGVycy51dGlscy5mb3JtYXRVbml0cyhzb2htQmFsYW5jZSwgJ2d3ZWknKQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMzEpOwogICAgfSkpKCk7CiAgfSwKICB1bnN0YWtlVEFPOiBmdW5jdGlvbiB1bnN0YWtlVEFPKF9yZWYzMSwgdmFsdWUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMigpIHsKICAgICAgdmFyIGNvbW1pdCwgc2lnbmVyLCBzdGFraW5nLCBzdGFrZVR4LCBvaG1Db250cmFjdCwgb2htQmFsYW5jZSwgc29obUNvbnRyYWN0LCBzb2htQmFsYW5jZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMiQoX2NvbnRleHQzMikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzIucHJldiA9IF9jb250ZXh0MzIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMxLmNvbW1pdDsKICAgICAgICAgICAgICBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTsKICAgICAgICAgICAgICBfY29udGV4dDMyLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLlNUQUtJTkdfQUREUkVTUywgT2x5bXB1c1N0YWtpbmcsIHNpZ25lcik7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgc3Rha2luZyA9IF9jb250ZXh0MzIuc2VudDsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhldGhlcnMudXRpbHMucGFyc2VVbml0cyh2YWx1ZSwgJ2d3ZWknKS50b1N0cmluZygpKTsKICAgICAgICAgICAgICBfY29udGV4dDMyLm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiBzdGFraW5nLnVuc3Rha2VUQU8oZXRoZXJzLnV0aWxzLnBhcnNlVW5pdHModmFsdWUsICdnd2VpJykpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHN0YWtlVHggPSBfY29udGV4dDMyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQzMi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgcmV0dXJuIHN0YWtlVHgud2FpdCgpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBvaG1Db250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uT0hNX0FERFJFU1MsIGllcmMyMEFiaSwgcHJvdmlkZXIpOwogICAgICAgICAgICAgIF9jb250ZXh0MzIubmV4dCA9IDE0OwogICAgICAgICAgICAgIHJldHVybiBvaG1Db250cmFjdC5iYWxhbmNlT2Yoc3RhdGUuYWRkcmVzcyk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIG9obUJhbGFuY2UgPSBfY29udGV4dDMyLnNlbnQ7CiAgICAgICAgICAgICAgc29obUNvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5TT0hNX0FERFJFU1MsIGllcmMyMEFiaSwgcHJvdmlkZXIpOwogICAgICAgICAgICAgIF9jb250ZXh0MzIubmV4dCA9IDE4OwogICAgICAgICAgICAgIHJldHVybiBzb2htQ29udHJhY3QuYmFsYW5jZU9mKHN0YXRlLmFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBzb2htQmFsYW5jZSA9IF9jb250ZXh0MzIuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3NldCcsIHsKICAgICAgICAgICAgICAgIG9obUJhbGFuY2U6IGV0aGVycy51dGlscy5mb3JtYXRVbml0cyhvaG1CYWxhbmNlLCAnZ3dlaScpLAogICAgICAgICAgICAgICAgc29obUJhbGFuY2U6IGV0aGVycy51dGlscy5mb3JtYXRVbml0cyhzb2htQmFsYW5jZSwgJ2d3ZWknKQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMzIpOwogICAgfSkpKCk7CiAgfSwKICBzdGFrZUxQOiBmdW5jdGlvbiBzdGFrZUxQKF9yZWYzMiwgdmFsdWUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMygpIHsKICAgICAgdmFyIGNvbW1pdCwgc2lnbmVyLCBzdGFraW5nLCBzdGFrZVR4LCBscENvbnRyYWN0LCBscEJhbGFuY2UsIGxwU3Rha2luZ0NvbnRyYWN0LCBscFN0YWtlZDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMyQoX2NvbnRleHQzMykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzMucHJldiA9IF9jb250ZXh0MzMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMyLmNvbW1pdDsKICAgICAgICAgICAgICBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTsKICAgICAgICAgICAgICBfY29udGV4dDMzLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLkxQU1RBS0lOR19BRERSRVNTLCBMUFN0YWtpbmcsIHNpZ25lcik7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgc3Rha2luZyA9IF9jb250ZXh0MzMuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDMzLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBzdGFraW5nLnN0YWtlTFAoZXRoZXJzLnV0aWxzLnBhcnNlVW5pdHModmFsdWUsICdldGhlcicpKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBzdGFrZVR4ID0gX2NvbnRleHQzMy5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0MzMubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBzdGFrZVR4LndhaXQoKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgbHBDb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uTFBfQUREUkVTUywgaWVyYzIwQWJpLCBwcm92aWRlcik7CiAgICAgICAgICAgICAgX2NvbnRleHQzMy5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgcmV0dXJuIGxwQ29udHJhY3QuYmFsYW5jZU9mKHN0YXRlLmFkZHJlc3MpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBscEJhbGFuY2UgPSBfY29udGV4dDMzLnNlbnQ7CiAgICAgICAgICAgICAgbHBTdGFraW5nQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGFkZHJlc3Nlc1tzdGF0ZS5uZXR3b3JrLmNoYWluSWRdLkxQU1RBS0lOR19BRERSRVNTLCBMUFN0YWtpbmcsIHByb3ZpZGVyKTsKICAgICAgICAgICAgICBfY29udGV4dDMzLm5leHQgPSAxNzsKICAgICAgICAgICAgICByZXR1cm4gbHBTdGFraW5nQ29udHJhY3QuZ2V0VXNlckJhbGFuY2Uoc3RhdGUuYWRkcmVzcyk7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGxwU3Rha2VkID0gX2NvbnRleHQzMy5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0JywgewogICAgICAgICAgICAgICAgbHBCYWxhbmNlOiBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHMobHBCYWxhbmNlLCAnZXRoZXInKSwKICAgICAgICAgICAgICAgIGxwU3Rha2VkOiBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHMobHBTdGFrZWQsICdldGhlcicpCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzMyk7CiAgICB9KSkoKTsKICB9LAogIHVuc3Rha2VMUDogZnVuY3Rpb24gdW5zdGFrZUxQKF9yZWYzMywgdmFsdWUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzNCgpIHsKICAgICAgdmFyIGNvbW1pdCwgc2lnbmVyLCBzdGFraW5nLCB1bnN0YWtlVHgsIGxwQ29udHJhY3QsIGxwQmFsYW5jZSwgbHBTdGFraW5nQ29udHJhY3QsIGxwU3Rha2VkOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM0JChfY29udGV4dDM0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNC5wcmV2ID0gX2NvbnRleHQzNC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMzMuY29tbWl0OwogICAgICAgICAgICAgIHNpZ25lciA9IHByb3ZpZGVyLmdldFNpZ25lcigpOwogICAgICAgICAgICAgIF9jb250ZXh0MzQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uTFBTVEFLSU5HX0FERFJFU1MsIExQU3Rha2luZywgc2lnbmVyKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBzdGFraW5nID0gX2NvbnRleHQzNC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0MzQubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHN0YWtpbmcudW5zdGFrZUxQKCk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgdW5zdGFrZVR4ID0gX2NvbnRleHQzNC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0MzQubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiB1bnN0YWtlVHgud2FpdCgpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBscENvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5MUF9BRERSRVNTLCBpZXJjMjBBYmksIHByb3ZpZGVyKTsKICAgICAgICAgICAgICBfY29udGV4dDM0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gbHBDb250cmFjdC5iYWxhbmNlT2Yoc3RhdGUuYWRkcmVzcyk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGxwQmFsYW5jZSA9IF9jb250ZXh0MzQuc2VudDsKICAgICAgICAgICAgICBscFN0YWtpbmdDb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uTFBTVEFLSU5HX0FERFJFU1MsIExQU3Rha2luZywgcHJvdmlkZXIpOwogICAgICAgICAgICAgIF9jb250ZXh0MzQubmV4dCA9IDE3OwogICAgICAgICAgICAgIHJldHVybiBscFN0YWtpbmdDb250cmFjdC5nZXRVc2VyQmFsYW5jZShzdGF0ZS5hZGRyZXNzKTsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgbHBTdGFrZWQgPSBfY29udGV4dDM0LnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXQnLCB7CiAgICAgICAgICAgICAgICBscEJhbGFuY2U6IGV0aGVycy51dGlscy5mb3JtYXRVbml0cyhscEJhbGFuY2UsICdldGhlcicpLAogICAgICAgICAgICAgICAgbHBTdGFrZWQ6IGV0aGVycy51dGlscy5mb3JtYXRVbml0cyhscFN0YWtlZCwgJ2V0aGVyJykKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTM0KTsKICAgIH0pKSgpOwogIH0sCiAgY2xhaW1SZXdhcmRzOiBmdW5jdGlvbiBjbGFpbVJld2FyZHMoKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzUoKSB7CiAgICAgIHZhciBzaWduZXIsIHN0YWtpbmcsIGNsYWltVHg7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzUkKF9jb250ZXh0MzUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDM1LnByZXYgPSBfY29udGV4dDM1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHNpZ25lciA9IHByb3ZpZGVyLmdldFNpZ25lcigpOwogICAgICAgICAgICAgIF9jb250ZXh0MzUubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBldGhlcnMuQ29udHJhY3QoYWRkcmVzc2VzW3N0YXRlLm5ldHdvcmsuY2hhaW5JZF0uTFBTVEFLSU5HX0FERFJFU1MsIExQU3Rha2luZywgc2lnbmVyKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBzdGFraW5nID0gX2NvbnRleHQzNS5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0MzUubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIHN0YWtpbmcuY2xhaW1SZXdhcmRzKCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2xhaW1UeCA9IF9jb250ZXh0MzUuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDM1Lm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiBjbGFpbVR4LndhaXQoKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMzUpOwogICAgfSkpKCk7CiAgfSwKICBnZXRNYXhTd2FwOiBmdW5jdGlvbiBnZXRNYXhTd2FwKF9yZWYzNCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM2KCkgewogICAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgYU9ITUJhbGFuY2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzYkKF9jb250ZXh0MzYpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDM2LnByZXYgPSBfY29udGV4dDM2Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzNC5jb21taXQsIGRpc3BhdGNoID0gX3JlZjM0LmRpc3BhdGNoOwogICAgICAgICAgICAgIC8vIGNvbnN0IGFPSE1Db250cmFjdCA9IGF3YWl0IG5ldyBldGhlcnMuQ29udHJhY3QoCiAgICAgICAgICAgICAgLy8gICBhZGRyZXNzZXNbc3RhdGUubmV0d29yay5jaGFpbklkXS5BT0hNX0FERFJFU1MsCiAgICAgICAgICAgICAgLy8gICBpZXJjMjBBYmksCiAgICAgICAgICAgICAgLy8gICBwcm92aWRlcgogICAgICAgICAgICAgIC8vICk7CiAgICAgICAgICAgICAgLy8gY29uc3QgYU9ITUJhbGFuY2VCZWZvcmVEZWNpbWFscyA9IGF3YWl0IGFPSE1Db250cmFjdC5iYWxhbmNlT2Yoc3RhdGUuYWRkcmVzcyk7CiAgICAgICAgICAgICAgYU9ITUJhbGFuY2UgPSAwIC8gMTAwMDAwMDAwMDsKICAgICAgICAgICAgICBjb21taXQoJ3NldCcsIHsKICAgICAgICAgICAgICAgIG1heFN3YXA6IGFPSE1CYWxhbmNlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTM2KTsKICAgIH0pKSgpOwogIH0sCiAgbWlncmF0ZVRvT0hNOiBmdW5jdGlvbiBtaWdyYXRlVG9PSE0oX3JlZjM1LCB2YWx1ZSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM3KCkgewogICAgICB2YXIgY29tbWl0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM3JChfY29udGV4dDM3KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNy5wcmV2ID0gX2NvbnRleHQzNy5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMzUuY29tbWl0OwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM3LmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mzcuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTM3KTsKICAgIH0pKSgpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"sources":["C:\\GitCrypto\\front_end\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\GitCrypto\\front_end\\src\\store\\modules\\settings.ts"],"names":[],"mappings":";;;;;;;;AAAA,OAAO,GAAP,MAAgB,KAAhB;AACA,SAAS,MAAT,QAAuB,QAAvB;AACA,OAAO,KAAP,MAAkB,SAAlB,C,CACA;;AACA,OAAO,SAAP,MAAsB,qBAAtB;AACA,SACE,6BADF,QAMO,iBANP;AAOA,SAEE,cAFF,EAIE,cAJF,EAKE,aALF,QAMO,qBANP;AAQA,SAAS,GAAG,IAAI,SAAhB,QAAiC,2BAAjC;AAGA,SAAS,GAAG,IAAI,UAAhB,QAAkC,+BAAlC;AACA,SAAS,GAAG,IAAI,cAAhB,QAAsC,mCAAtC;AAEA,SAAS,GAAG,IAAI,IAAhB,QAA4B,yBAA5B;AACA,SAAS,GAAG,IAAI,SAAhB,QAAiC,8BAAjC;AACA,SAAS,GAAG,IAAI,mBAAhB,QAA2C,wCAA3C;AACA,SAAS,GAAG,IAAI,YAAhB,QAAoC,iCAApC;AACA,SAAS,GAAG,IAAI,gBAAhB,QAAwC,qCAAxC;AACA,SAAS,GAAG,IAAI,YAAhB,QAAoC,iCAApC;AACA,SAAS,GAAG,IAAI,WAAhB,QAAmC,gCAAnC;AACA,SAAS,GAAG,IAAI,YAAhB,QAAoC,iCAApC;AAKA,IAAM,UAAU,GAAG,MAAM,CAAC,KAAP,CAAa,UAAhC;AAEA,IAAI,QAAJ;AAEA,IAAM,QAAQ,GAAG,MAAM,CAAC,UAAD,CAAvB;;AACA,IAAI,QAAJ,EAAc;AACZ,EAAA,QAAQ,CAAC,EAAT,CAAY,iBAAZ,EAA+B;AAAA,WAAM,KAAK,CAAC,QAAN,CAAe,MAAf,CAAN;AAAA,GAA/B;AACA,EAAA,QAAQ,CAAC,EAAT,CAAY,gBAAZ,EAA8B,UAAA,OAAO,EAAG;AACtC,IAAA,KAAK,CAAC,QAAN,CAAe,MAAf;AACD,GAFD;AAGD;;AAED,IAAM,KAAK,GAAG;AACZ,EAAA,QAAQ,EAAE,CADE;AAEZ,EAAA,OAAO,EAAE,KAFG;AAGZ,EAAA,OAAO,EAAE,IAHG;AAIZ,EAAA,IAAI,EAAE,EAJM;AAKZ,EAAA,WAAW,EAAE,KALD;AAMZ,EAAA,OAAO,EAAE,CANG;AAOZ,EAAA,UAAU,EAAE,CAPA;AAQZ,EAAA,KAAK,EAAE,CARK;AASZ,EAAA,UAAU,EAAE,CATA;AAUZ,EAAA,WAAW,EAAE,CAVD;AAWZ,EAAA,MAAM,EAAE,CAXI;AAYZ,EAAA,YAAY,EAAE,CAZF;AAaZ,EAAA,OAAO,EAAE;AAAE,IAAA,OAAO,EAAE;AAAX,GAbG;AAcZ,EAAA,aAAa,EAAE,EAdH;AAeZ,EAAA,SAAS,EAAE,CAfC;AAgBZ,EAAA,cAAc,EAAE,CAhBJ;AAiBZ,EAAA,gBAAgB,EAAE,CAjBN;AAkBZ,EAAA,QAAQ,EAAE,EAlBE;AAmBZ,EAAA,UAAU,EAAE,KAnBA;AAoBZ,EAAA,WAAW,EAAE,CApBD;AAqBZ,EAAA,MAAM,EAAE,CArBI;AAsBZ,EAAA,aAAa,EAAE,CAtBH;AAuBZ,EAAA,SAAS,EAAE,CAvBC;AAwBZ,EAAA,WAAW,EAAE,CAxBD;AAyBZ,EAAA,KAAK,EAAE,CAzBK;AA0BZ,EAAA,OAAO,EAAE,CA1BG;AA2BZ,EAAA,UAAU,EAAE,CA3BA;AA4BZ,EAAA,SAAS,EAAE,KA5BC;AA6BZ,EAAA,aAAa,EAAE,KA7BH;AA8BZ,EAAA,SAAS,EAAE,KA9BC;AA+BZ,EAAA,aAAa,EAAE,KA/BH;AAgCZ,EAAA,YAAY,EAAE,cAhCF;AAiCZ,EAAA,YAAY,EAAE,aAjCF;AAkCZ,EAAA,aAAa,EAAE,cAlCH;AAmCZ,EAAA,WAAW,EAAE,CAnCD;AAoCZ,EAAA,aAAa,EAAE,CApCH;AAqCZ,EAAA,WAAW,EAAE,CArCD;AAsCZ,EAAA,SAAS,EAAE,CAtCC;AAuCZ,EAAA,SAAS,EAAE,CAvCC;AAwCZ,EAAA,OAAO,EAAE,CAxCG;AAyCZ,EAAA,SAAS,EAAE,CAzCC;AA0CZ,EAAA,QAAQ,EAAE,CA1CE;AA2CZ,EAAA,OAAO,EAAE,CA3CG;AA4CZ,EAAA,kBAAkB,EAAE,CA5CR;AA6CZ,EAAA,UAAU,EAAE,KA7CA;AA8CZ,EAAA,cAAc,EAAE,KA9CJ;AA+CZ,EAAA,eAAe,EAAE,KA/CL;AAgDZ,EAAA,eAAe,EAAE,CAhDL;AAiDZ,EAAA,iBAAiB,EAAE,KAjDP;AAkDZ,EAAA,aAAa,EAAE,CAlDH;AAmDZ,EAAA,WAAW,EAAE,CAnDD;AAoDZ,EAAA,gBAAgB,EAAE,CApDN;AAqDZ,EAAA,uBAAuB,EAAE,CArDb;AAsDZ,EAAA,mBAAmB,EAAE,CAtDT;AAuDZ,EAAA,qBAAqB,EAAE,CAvDX;AAwDZ,EAAA,qBAAqB,EAAE;AAxDX,CAAd;AA2DA,IAAM,SAAS,GAAG;AAChB,EAAA,GADgB,eACZ,MADY,EACJ,OADI,EACG;AACjB,IAAA,MAAM,CAAC,IAAP,CAAY,OAAZ,EAAqB,OAArB,CAA6B,UAAA,GAAG,EAAG;AACjC,MAAA,GAAG,CAAC,GAAJ,CAAQ,MAAR,EAAgB,GAAhB,EAAqB,OAAO,CAAC,GAAD,CAA5B;AACD,KAFD;AAGD;AALe,CAAlB;AAQA,IAAM,OAAO,GAAG;AACd,EAAA,IAAI;AAAA,wEAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAS,cAAA,MAAT,QAAS,MAAT,EAAiB,QAAjB,QAAiB,QAAjB;;AACJ;AACA;AACA,kBAAI,OAAO,MAAM,CAAC,QAAd,KAA2B,WAA/B,EAA4C;AACpC,gBAAA,SADoC,GACzB,MAAM,CAAC,UAAD,CADmB;AAE1C,gBAAA,QAAQ,GAAG,IAAI,MAAM,CAAC,SAAP,CAAiB,YAArB,CAAkC,SAAlC,CAAX;AACD;;AANG,mBAQA,QARA;AAAA;AAAA;AAAA;;AAAA;AAUM,cAAA,MAVN,GAUe,QAAQ,CAAC,SAAT,EAVf;AAAA;AAAA,qBAWsB,MAAM,CAAC,UAAP,EAXtB;;AAAA;AAWM,cAAA,OAXN;;AAAA,mBAYI,OAZJ;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAYmB,QAAQ,CAAC,OAAD,CAZ3B;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAcA,cAAA,OAAO,CAAC,GAAR;;AAdA;AAkBJ,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,OAAO,EAAE;AAAX,eAAR,CAAN;;AAlBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KADU;AAqBd,EAAA,KAAK;AAAA,yEAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAS,cAAA,MAAT,SAAS,MAAT,EAAiB,QAAjB,SAAiB,QAAjB;AACC,cAAA,OADD,GACW,IAAI,CAAC,GAAL,EADX;;AAAA,mBAED,QAFC;AAAA;AAAA;AAAA;;AAAA;AAKC,cAAA,UALD,GAKc,CALd,EAMC,SAND,GAMa,CANb;AASC,cAAA,WATD,GASe,CATf,EAUC,cAVD,GAUkB,CAVlB,EAWC,gBAXD,GAWoB,CAXpB,EAYC,UAZD,GAYc,CAZd;AAcC,cAAA,MAdD,GAcU,CAdV;AAgBC,cAAA,aAhBD,GAgBiB,CAhBjB,EAiBC,QAjBD,GAiBY,CAjBZ,EAkBC,cAlBD,GAkBkB,CAlBlB;AAqBC,cAAA,SArBD,GAqBa,CArBb;AAwBC,cAAA,UAxBD,GAwBc,CAxBd,EAyBC,aAzBD,GAyBiB,CAzBjB,EA0BC,aA1BD,GA0BiB,CA1BjB,EA2BC,cA3BD,GA2BkB,CA3BlB;AA6BC,cAAA,YA7BD,GA6BgB,CA7BhB,EA8BC,YA9BD,GA8BgB,CA9BhB;AAiCC,cAAA,SAjCD,GAiCa,CAjCb;AAmCC,cAAA,WAnCD,GAmCe,CAnCf,EAoCC,SApCD,GAoCa,CApCb,EAqCC,SArCD,GAqCa,CArCb,EAsCC,eAtCD,GAsCmB,CAtCnB,EAuCC,WAvCD,GAuCe,CAvCf,EAyCC,mBAzCD,GAyCuB,CAzCvB,EA0CC,YA1CD,GA0CgB,CA1ChB,EA2CC,aA3CD,GA2CiB,CA3CjB,EA4CC,cA5CD,GA4CkB,CA5ClB,EA6CC,aA7CD,GA6CiB,CA7CjB,EA8CC,SA9CD,GA8Ca,CA9Cb,EA+CC,SA/CD,GA+Ca,CA/Cb,EAgDC,YAhDD,GAgDgB,CAhDhB,EAiDC,QAjDD,GAiDY,CAjDZ,EAkDC,kBAlDD,GAkDsB,CAlDtB,EAmDC,SAnDD,GAmDa,CAnDb,EAoDC,OApDD,GAoDW,CApDX,EAqDC,gBArDD,GAqDoB,CArDpB,EAsDC,WAtDD,GAsDe,CAtDf;AAAA;AAAA,qBAyDK,QAAQ,CAAC,MAAT,EAzDL;;AAAA;AA0DD,cAAA,QAAQ,GAAG,IAAI,MAAM,CAAC,SAAP,CAAiB,YAArB,CAAkC,QAAlC,CAAX;AACM,cAAA,MA3DL,GA2Dc,QAAQ,CAAC,SAAT,EA3Dd;AAAA;AAAA,qBA4DyB,QAAQ,CAAC,cAAT,EA5DzB;;AAAA;AA4DK,cAAA,WA5DL;AAAA;AAAA,qBA6DqB,MAAM,CAAC,UAAP,EA7DrB;;AAAA;AA6DK,cAAA,OA7DL;AAAA;AAAA,qBA8DqB,QAAQ,CAAC,UAAT,EA9DrB;;AAAA;AA8DK,cAAA,OA9DL;AA+DD,cAAA,KAAK,CAAC,MAAN,CAAa,KAAb,EAAoB;AAAE,gBAAA,OAAO,EAAE;AAAX,eAApB;AAEM,cAAA,WAjEL,GAiEmB,CAjEnB;AAmEK,cAAA,WAnEL,GAmEmB,IAAI,MAAM,CAAC,QAAX,CAClB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,WADT,EAElB,SAFkB,EAGlB,QAHkB,CAnEnB;AAAA;AAAA,qBAwEqB,WAAW,CAAC,SAAZ,CAAsB,OAAtB,CAxErB;;AAAA;AAwEK,cAAA,OAxEL;AA0ED,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,OAAO,EAAP,OAAF;AAAW,gBAAA,OAAO,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,OAAzB;AAApB,eAAR,CAAN;AA1EC;AAAA;AAAA,qBA4E+B,WAAW,CAAC,SAAZ,CAC5B,OAD4B,EAE5B,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,YAFC,CA5E/B;;AAAA;AA4EO,cAAA,eA5EP;AAAA;AAAA,qBAiF2B,IAAI,MAAM,CAAC,QAAX,CACxB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADT,EAExB,WAFwB,EAGxB,QAHwB,CAjF3B;;AAAA;AAiFO,cAAA,WAjFP;AAAA;AAAA,qBAsFiC,WAAW,CAAC,cAAZ,CAA2B,OAA3B,CAtFjC;;AAAA;AAsFO,cAAA,iBAtFP;AAAA;AAAA,qBAuFiC,WAAW,CAAC,WAAZ,EAvFjC;;AAAA;AAuFO,cAAA,iBAvFP;AAyFO,cAAA,YAzFP,GAyFsB,IAAI,MAAM,CAAC,QAAX,CACnB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,YADR,EAEnB,SAFmB,EAGnB,QAHmB,CAzFtB;AAAA;AAAA,qBA8F6B,YAAY,CAAC,SAAb,CAAuB,OAAvB,CA9F7B;;AAAA;AA8FO,cAAA,aA9FP;AAgGC,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ,gBAAA,eAAe,EAAE,iBADL;AAEZ,gBAAA,eAAe,EAAE,eAFL;AAGZ,gBAAA,iBAAiB,EAAjB,iBAHY;AAIZ,gBAAA,aAAa,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,aAAzB;AAJH,eAAR,CAAN;AAhGD;AAAA;;AAAA;AAAA;AAAA;AAuGC,cAAA,OAAO,CAAC,GAAR;;AAvGD;AAAA;AAAA;AAAA,qBA2GmB,WAAW,CAAC,SAAZ,CAChB,OADgB,EAEhB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,eAFX,CA3GnB;;AAAA;AA2GC,cAAA,SA3GD;AA+GC,cAAA,OAAO,CAAC,GAAR,CAAY,WAAZ,EAAyB,SAAzB;AA/GD;AAAA,qBAiH+B,IAAI,MAAM,CAAC,QAAX,CAC5B,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,eADL,EAE5B,UAF4B,EAG5B,QAH4B,CAjH/B;;AAAA;AAiHO,cAAA,eAjHP;AAAA;AAAA,qBAsHkC,eAAe,CAAC,oBAAhB,CAAqC,OAArC,CAtHlC;;AAAA;AAsHO,cAAA,kBAtHP;AAAA;AAAA,qBAuHyB,eAAe,CAAC,SAAhB,CAA0B,OAA1B,CAvHzB;;AAAA;AAuHO,cAAA,SAvHP;AAAA;AAAA,qBAwH6B,eAAe,CAAC,aAAhB,EAxH7B;;AAAA;AAwHO,cAAA,aAxHP;AAAA;AAAA,qBAyHyB,eAAe,CAAC,SAAhB,CAA0B,OAA1B,CAzHzB;;AAAA;AAyHO,cAAA,SAzHP;AAAA;AAAA,qBA0H6B,eAAe,CAAC,aAAhB,EA1H7B;;AAAA;AA0HO,cAAA,aA1HP;AA4HC,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ,gBAAA,WAAW,EAAE,kBADD;AAEZ,gBAAA,aAAa,EAAb,aAFY;AAGZ,gBAAA,SAAS,EAAT,SAHY;AAIZ,gBAAA,SAAS,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,SAAzB,EAAoC,MAApC,CAJC;AAKZ,gBAAA,aAAa,EAAb,aALY;AAMZ,gBAAA,SAAS,EAAT;AANY,eAAR,CAAN;AA5HD;AAAA;;AAAA;AAAA;AAAA;AAqIC,cAAA,OAAO,CAAC,GAAR;;AArID;AAwID,kBAAI,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,mBAA/B,EAAoD;AAClD,gBAAA,mBAAmB,GAAG,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,mBADP,EAEpB,gBAFoB,EAGpB,QAHoB,CAAtB;AAKA,gBAAA,UAAU,GAAG,IAAI,MAAM,CAAC,QAAX,CACX,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,UADhB,EAEX,SAFW,EAGX,QAHW,CAAb;AAKD;;AAnJA,mBAqJG,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,YArJ9B;AAAA;AAAA;AAAA;;AAsJC,cAAA,eAAe,GAAG,IAAI,MAAM,CAAC,QAAX,CAChB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,YADX,EAEhB,YAFgB,EAGhB,QAHgB,CAAlB;AAKA,cAAA,mBAAmB,GAAG,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,mBADP,EAEpB,gBAFoB,EAGpB,QAHoB,CAAtB;AAKA,cAAA,YAAY,GAAG,IAAI,MAAM,CAAC,QAAX,CACb,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,UADd,EAEb,YAFa,EAGb,QAHa,CAAf;AAKA,cAAA,UAAU,GAAG,IAAI,MAAM,CAAC,QAAX,CACX,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,UADhB,EAEX,SAFW,EAGX,QAHW,CAAb;AAKA,cAAA,WAAW,GAAG,IAAI,MAAM,CAAC,QAAX,CACZ,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,WADf,EAEZ,SAFY,EAGZ,QAHY,CAAd;AA1KD;AAAA,qBAgLmB,UAAU,CAAC,SAAX,CAAqB,OAArB,CAhLnB;;AAAA;AAgLC,cAAA,SAhLD;AAAA;AAAA,qBAiLsB,UAAU,CAAC,SAAX,CAAqB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,aAAhD,CAjLtB;;AAAA;AAiLC,cAAA,YAjLD;AAAA;AAAA,qBAkLkB,UAAU,CAAC,SAAX,CAAqB,4CAArB,CAlLlB;;AAAA;AAkLC,cAAA,QAlLD;AAAA;AAAA,qBAoLuB,UAAU,CAAC,WAAX,EApLvB;;AAAA;AAoLO,cAAA,OApLP;AAAA;AAAA,qBAsLwB,WAAW,CAAC,WAAZ,EAtLxB;;AAAA;AAsLC,cAAA,cAtLD;AAAA;AAAA,qBAwLkC,WAAW,CAAC,SAAZ,CAC/B,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,mBADI,CAxLlC;;AAAA;AAwLO,cAAA,kBAxLP;AAAA;AAAA,qBA2LiC,WAAW,CAAC,SAAZ,CAC9B,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,mBADG,CA3LjC;;AAAA;AA2LO,cAAA,iBA3LP;AAAA;AAAA,qBA8L2B,WAAW,CAAC,SAAZ,CAAsB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,YAAjD,CA9L3B;;AAAA;AA8LO,cAAA,WA9LP;AAAA;AAAA,qBA+L8B,WAAW,CAAC,SAAZ,CAC3B,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,eADA,CA/L9B;;AAAA;AA+LO,cAAA,cA/LP;AAmMC,cAAA,aAAa,GACX,cAAc,GAAG,kBAAjB,GAAsC,iBAAtC,GAA0D,WAA1D,GAAwE,cAD1E;AAnMD;AAAA,qBAsMqC,eAAe,CAAC,qBAAhB,EAtMrC;;AAAA;AAsMO,cAAA,sBAtMP;AAAA;AAAA,qBAwM2B,eAAe,CAAC,SAAhB,EAxM3B;;AAAA;AAwMO,cAAA,WAxMP;AAAA;AAAA,qBAyMmB,mBAAmB,CAAC,aAApB,CAAkC,WAAlC,EAA+C,cAA/C,CAzMnB;;AAAA;AAyMC,cAAA,SAzMD;AAAA;AAAA,qBA2MwB,YAAY,CAAC,WAAb,EA3MxB;;AAAA;AA2MO,cAAA,QA3MP;AA6MC,cAAA,SAAS,GAAG,QAAQ,CAAC,CAAD,CAApB;AACA,cAAA,WAAW,GAAG,QAAQ,CAAC,CAAD,CAAR,CAAY,GAAZ,CAAgB,QAAQ,CAAC,CAAD,CAAxB,CAAd;AA9MD;AAAA,qBAgNmB,eAAe,CAAC,qBAAhB,CAChB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,QAAxB,EAAkC,QAAlC,EADgB,CAhNnB;;AAAA;AAgNC,cAAA,SAhND;AAmNC,cAAA,SAAS,GACN,IAAI,SAAJ,IAAiB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,QAAxB,EAAkC,QAAlC,KAA+C,OAAhE,CAAD,GAA6E,SAD/E;AAEA,cAAA,YAAY,GAAG,IAAI,SAAS,GAAG,WAA/B;AAEM,cAAA,YAvNP,GAuNsB,SAAS,GAAG,CAvNlC;AAwNC,cAAA,OAAO,GAAG,YAAY,GAAG,OAAzB;AAEA,cAAA,OAAO,CAAC,GAAR,CAAY,SAAZ,EAAuB,OAAO,CAAC,QAAR,EAAvB;AA1ND;AAAA,qBA2NwB,WAAW,CAAC,WAAZ,EA3NxB;;AAAA;AA2NC,cAAA,cA3ND;AAAA;AAAA,qBA6NuC,mBAAmB,CAAC,kBAApB,CACpC,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,UADS,EAEpC,YAAY,CAAC,QAAb,EAFoC,CA7NvC;;AAAA;AA6NO,cAAA,uBA7NP;AAAA;AAAA,qBAkO8B,WAAW,CAAC,SAAZ,CAC3B,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,aADA,CAlO9B;;AAAA;AAkOO,cAAA,cAlOP;AAqOC,cAAA,SAAS,GAAG,cAAZ;AArOD;AAAA,qBAuOuC,mBAAmB,CAAC,kBAApB,CACpC,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,UADS,EAEpC,QAAQ,CAAC,QAAT,EAFoC,CAvOvC;;AAAA;AAuOO,cAAA,uBAvOP;AA4OC,cAAA,kBAAkB,GAChB,UAAU,CAAC,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,uBAAzB,EAAkD,OAAlD,CAAD,CAAV,GACA,UAAU,CAAC,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,SAAzB,EAAoC,OAApC,CAAD,CADV,GAEA,UAAU,CAAC,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,uBAAzB,EAAkD,OAAlD,CAAD,CAHZ;AAKA,cAAA,OAAO,CAAC,GAAR,CACE,yBADF,EAEE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,uBAAzB,EAAkD,OAAlD,CAFF;AAIA,cAAA,OAAO,CAAC,GAAR,CAAY,WAAZ,EAAyB,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,SAAzB,EAAoC,OAApC,CAAzB;AACA,cAAA,OAAO,CAAC,GAAR,CACE,yBADF,EAEE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,uBAAzB,EAAkD,OAAlD,CAFF;AAtPD;AAAA,qBA2PyB,UAAU,CAAC,SAAX,CACtB,OADsB,EAEtB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,YAFL,CA3PzB;;AAAA;AA2PC,cAAA,eA3PD;AAAA;AAAA,qBAgQ2B,eAAe,CAAC,aAAhB,CAA8B,OAA9B,CAhQ3B;;AAAA;AAgQO,cAAA,WAhQP;AAAA;AAAA,qBAkQsB,QAAQ,CAAC,cAAT,EAlQtB;;AAAA;AAkQC,cAAA,YAlQD;AAoQC,cAAA,OAAO,CAAC,GAAR,CAAY,cAAZ;AACA,cAAA,OAAO,CAAC,GAAR,CAAY,YAAZ;AAEA,cAAA,WAAW,GAAG,WAAW,CAAC,CAAD,CAAzB;AACA,cAAA,mBAAmB,GAAG,CAAC,WAAW,CAAC,CAAD,CAAZ,GAAkB,CAAC,WAAW,CAAC,CAAD,CAApD;AAxQD;AAAA,qBAyQuB,eAAe,CAAC,sBAAhB,CAAuC,OAAvC,CAzQvB;;AAAA;AAyQC,cAAA,aAzQD;;AAAA;AAAA,mBA4QG,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,UA5Q9B;AAAA;AAAA;AAAA;;AA6QC,cAAA,UAAU,GAAG,IAAI,MAAM,CAAC,QAAX,CACX,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,UADhB,EAEX,SAFW,EAGX,QAHW,CAAb;AA7QD;AAAA,qBAkRmB,UAAU,CAAC,SAAX,CAAqB,OAArB,CAlRnB;;AAAA;AAkRC,cAAA,SAlRD;;AAAA;AAAA,mBAqRG,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,iBArR9B;AAAA;AAAA;AAAA;;AAsRC,cAAA,iBAAiB,GAAG,IAAI,MAAM,CAAC,QAAX,CAClB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,iBADT,EAElB,SAFkB,EAGlB,QAHkB,CAApB;AAKA,cAAA,UAAU,GAAG,IAAI,MAAM,CAAC,QAAX,CACX,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,UADhB,EAEX,SAFW,EAGX,QAHW,CAAb;AAKA,cAAA,WAAW,GAAG,IAAI,MAAM,CAAC,QAAX,CACZ,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,WADf,EAEZ,SAFY,EAGZ,QAHY,CAAd;AAhSD;AAAA,qBAsSuB,iBAAiB,CAAC,WAAlB,EAtSvB;;AAAA;AAsSC,cAAA,aAtSD;AAAA;AAAA,qBAuSkB,iBAAiB,CAAC,cAAlB,CAAiC,OAAjC,CAvSlB;;AAAA;AAuSC,cAAA,QAvSD;AAAA;AAAA,qBAwSwB,iBAAiB,CAAC,cAAlB,CAAiC,OAAjC,CAxSxB;;AAAA;AAwSC,cAAA,cAxSD;AAAA;AAAA,qBAyS0B,UAAU,CAAC,SAAX,CACvB,OADuB,EAEvB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,iBAFV,CAzS1B;;AAAA;AAySC,cAAA,gBAzSD;AAAA;AAAA,qBA8SuB,UAAU,CAAC,WAAX,EA9SvB;;AAAA;AA8SO,cAAA,QA9SP;AAAA;AAAA,qBA+SuB,WAAW,CAAC,SAAZ,CAAsB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,UAAjD,CA/SvB;;AAAA;AA+SO,cAAA,OA/SP;AAAA;AAAA,qBAiT8B,iBAAiB,CAAC,cAAlB,EAjT9B;;AAAA;AAiTO,cAAA,cAjTP;AAmTC,cAAA,YAAY,GACT,cAAc,GAAG,cAAjB,GAAkC,GAAlC,GAAwC,GAAzC,IACG,aAAa,GAAG,OAAjB,GAA4B,QAA7B,GAAwC,CADzC,CADF;;AAnTD;AAAA,mBAwTG,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,WAxT9B;AAAA;AAAA;AAAA;;AAyTC,cAAA,WAAW,GAAG,IAAI,MAAM,CAAC,QAAX,CACZ,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,WADf,EAEZ,SAFY,EAGZ,QAHY,CAAd;AAzTD;AAAA,qBA8ToB,WAAW,CAAC,SAAZ,CAAsB,OAAtB,CA9TpB;;AAAA;AA8TC,cAAA,UA9TD;AAAA;AAAA,qBA+TmB,WAAW,CAAC,SAAZ,CAAsB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,eAAjD,CA/TnB;;AAAA;AA+TC,cAAA,SA/TD;AAAA;AAAA,qBAiUwB,WAAW,CAAC,SAAZ,CACrB,OADqB,EAErB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,eAFN,CAjUxB;;AAAA;AAiUC,cAAA,cAjUD;;AAAA;AAAA,mBAsUG,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,YAtU9B;AAAA;AAAA;AAAA;;AAuUC,cAAA,YAAY,GAAG,IAAI,MAAM,CAAC,QAAX,CACb,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,YADd,EAEb,SAFa,EAGb,QAHa,CAAf;AAKA,cAAA,gBAAgB,GAAG,IAAI,MAAM,CAAC,QAAX,CACjB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,YADV,EAEjB,IAFiB,EAGjB,QAHiB,CAAnB;AA5UD;AAAA,qBAkVqB,YAAY,CAAC,SAAb,CAAuB,OAAvB,CAlVrB;;AAAA;AAkVC,cAAA,WAlVD;AAAA;AAAA,qBAmV0B,YAAY,CAAC,SAAb,CACvB,OADuB,EAEvB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,eAFJ,CAnV1B;;AAAA;AAmVC,cAAA,gBAnVD;AAAA;AAAA,qBAuVoB,gBAAgB,CAAC,iBAAjB,EAvVpB;;AAAA;AAuVC,cAAA,UAvVD;;AAAA;AA0VD,cAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ,EAA8B,cAA9B;AACA,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,cAAc,EAAd,cAAF;AAAkB,gBAAA,gBAAgB,EAAhB,gBAAlB;AAAoC,gBAAA,gBAAgB,EAAhB;AAApC,eAAR,CAAN;;AA3VC,mBA8VG,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,eA9V9B;AAAA;AAAA;AAAA;;AA+VC,cAAA,eAAe,GAAG,IAAI,MAAM,CAAC,QAAX,CAChB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,eADX,EAEhB,cAFgB,EAGhB,QAHgB,CAAlB;AA/VD;AAAA;AAAA,qBAsWkB,eAAe,CAAC,wBAAhB,EAtWlB;;AAAA;AAsWG,cAAA,MAtWH;AAAA;AAAA;;AAAA;AAAA;AAAA;AAwWG,cAAA,OAAO,CAAC,GAAR,CAAY,MAAZ;AACA,cAAA,OAAO,CAAC,GAAR;;AAzWH;AAAA,mBA6WG,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,mBA7W9B;AAAA;AAAA;AAAA;;AA8WC,cAAA,mBAAmB,GAAG,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,mBADP,EAEpB,mBAFoB,EAGpB,QAHoB,CAAtB;AAKA,cAAA,YAAY,GAAG,IAAI,MAAM,CAAC,QAAX,CACb,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,YADd,EAEb,SAFa,EAGb,QAHa,CAAf;AAnXD;AAAA,qBAyXoB,gBAAgB,CAAC,iBAAjB,EAzXpB;;AAAA;AAyXC,cAAA,UAzXD;AAAA;AAAA,qBA2XuB,eAAe,CAAC,wBAAhB,EA3XvB;;AAAA;AA2XC,cAAA,aA3XD;AAAA;AAAA,qBA6XsB,QAAQ,CAAC,cAAT,EA7XtB;;AAAA;AA6XC,cAAA,YA7XD;AA+XC,cAAA,aAAa,GAAG,aAAa,GAAG,UAAhC;AAEA,cAAA,gBAAgB,GACd,UAAU,CAAC,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,WAAzB,EAAsC,MAAtC,CAAD,CAAV,GAA4D,aAD9D;AAGA,cAAA,WAAW,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,aAAb,EAA4B,IAAI,CAAhC,IAAqC,CAAnD;AAEM,cAAA,YAtYP,GAsYsB,IAAI,CAAC,KAAL,CAAW,CAAC,YAAY,GAAG,aAAhB,IAAiC,cAA5C,CAtYtB;AAuYC,cAAA,cAAc,GAAG,aAAa,GAAG,cAAc,IAAI,YAAY,GAAG,CAAnB,CAA/C;AAEA,cAAA,UAAU,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,aAAb,EAA4B,MAAM,CAAlC,CAAb;AAEA,cAAA,UAAU,GAAG,UAAU,GAAG,GAA1B;AA3YD;AAAA,qBA6YsB,YAAY,CAAC,SAAb,CACnB,SAAS,CAAC,OAAO,CAAC,OAAT,CAAT,CAA2B,kBADR,CA7YtB;;AAAA;AA6YC,cAAA,YA7YD;;AAAA;AAAA;AAAA,qBAmZK,QAAQ,CAAC,gBAAD,CAnZb;;AAAA;AAAA;AAAA,qBAoZK,QAAQ,CAAC,sBAAD,CApZb;;AAAA;AAAA;AAAA,qBAqZK,QAAQ,CAAC,sBAAD,CArZb;;AAAA;AAAA;AAAA,qBAuZK,QAAQ,CAAC,gBAAD,CAvZb;;AAAA;AAAA;AAAA,qBAwZK,QAAQ,CAAC,sBAAD,CAxZb;;AAAA;AAAA;AAAA,qBAyZK,QAAQ,CAAC,sBAAD,CAzZb;;AAAA;AA2ZD,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ;AACA,gBAAA,WAAW,EAAE,WAFD;AAGZ,gBAAA,OAAO,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,OAAzB,CAHG;AAIZ,gBAAA,WAAW,EAAE,WAJD;AAKZ,gBAAA,OAAO,EAAP,OALY;AAMZ,gBAAA,OAAO,EAAE,KANG;AAOZ,gBAAA,UAAU,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,UAAzB,EAAqC,MAArC,CAPA;AAQZ,gBAAA,WAAW,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,WAAzB,EAAsC,MAAtC,CARD;AASZ,gBAAA,aAAa,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,aAAzB,EAAwC,OAAxC,CATH;AAUZ,gBAAA,SAAS,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,SAAzB,EAAoC,OAApC,CAVC;AAWZ,gBAAA,QAAQ,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,QAAzB,EAAmC,OAAnC,CAXE;AAYZ,gBAAA,cAAc,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,cAAzB,EAAyC,MAAzC,CAZJ;AAaZ,gBAAA,YAAY,EAAE,YAbF;AAcZ,gBAAA,aAAa,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,aAAzB,EAAwC,MAAxC,CAdH;AAeZ,gBAAA,UAAU,EAAE,UAfA;AAgBZ,gBAAA,aAAa,EAAE,aAhBH;AAiBZ,gBAAA,cAAc,EAAd,cAjBY;AAkBZ,gBAAA,YAAY,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,YAAzB,EAAuC,MAAvC,CAlBF;AAmBZ,gBAAA,SAAS,EAAE,SAnBC;AAoBZ,gBAAA,SAAS,EAAE,SApBC;AAqBZ,gBAAA,WAAW,EAAE,WAAW,GAAG,UArBf;AAsBZ,gBAAA,SAAS,EAAE,SAtBC;AAuBZ,gBAAA,WAAW,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,WAAzB,EAAsC,MAAtC,CAvBD;AAwBZ,gBAAA,mBAAmB,EAAE,mBAxBT;AAyBZ,gBAAA,YAAY,EAAZ,YAzBY;AA0BZ,gBAAA,YAAY,EAAZ,YA1BY;AA2BZ,gBAAA,aAAa,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,aAAzB,EAAwC,MAAxC,CA3BH;AA4BZ,gBAAA,qBAAqB,EAAE,qBA5BX;AA6BZ,gBAAA,WAAW,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,cAAzB,EAAyC,MAAzC,CA7BD;AA8BZ,gBAAA,UAAU,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,aAAzB,EAAwC,MAAxC,CA9BA;AA+BZ,gBAAA,WAAW,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,SAAzB,EAAoC,OAApC,CA/BD;AAgCZ,gBAAA,SAAS,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,SAAzB,EAAoC,MAApC,CAhCC;AAiCZ,gBAAA,SAAS,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,YAAzB,EAAuC,OAAvC,CAjCC;AAkCZ,gBAAA,QAAQ,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,QAAzB,EAAmC,OAAnC,CAlCE;AAmCZ,gBAAA,SAAS,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,SAAzB,EAAoC,OAApC,CAnCC;AAoCZ,gBAAA,OAAO,EAAP,OApCY;AAqCZ,gBAAA,kBAAkB,EAAlB,kBArCY;AAsCZ,gBAAA,WAAW,EAAX,WAtCY;AAuCZ,gBAAA,gBAAgB,EAAhB;AAvCY,eAAR,CAAN;AA3ZC;AAAA,qBAocsB,KAAK,4DApc3B;;AAAA;AAocK,cAAA,QApcL;AAAA;AAAA,qBAqcqB,QAAQ,CAAC,IAAT,EArcrB;;AAAA;AAqcK,cAAA,OArcL;AAscD,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,OAAO,EAAP;AAAF,eAAR,CAAN;AAtcC;AAAA;;AAAA;AAAA;AAAA;AAwcD,cAAA,OAAO,CAAC,KAAR;;AAxcC;AAAA;AAAA;;AAAA;AA2cH,cAAA,OAAO,CAAC,KAAR,CAAc,+BAAd;;AA3cG;AA6cL,cAAA,OAAO,CAAC,GAAR,yBAA6B,IAAI,CAAC,GAAL,KAAa,OAA1C;AACA,cAAA,UAAU,CAAC;AAAA,uBAAM,QAAQ,CAAC,OAAD,CAAd;AAAA,eAAD,EAA0B,KAA1B,CAAV;;AA9cK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KArBS;AAqed,EAAA,OAAO,EAAE,wBAAa,OAAb,EAAwB;AAAA,QAArB,MAAqB,SAArB,MAAqB;AAC/B,IAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,MAAA,OAAO,EAAE;AAAX,KAAR,CAAN;AACD,GAvea;AAweR,EAAA,gBAxeQ,mCAwemB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR,cAAA,MAAQ,SAAR,MAAQ;AAAA;AAAA,qBACH,6BAA6B,EAD1B;;AAAA;AACzB,cAAA,aADyB;AAE/B,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,aAAa,EAAb;AAAF,eAAR,CAAN;;AAF+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGhC,GA3ea;AA6eR,EAAA,GA7eQ,sBA6eQ,KA7eR,EA6ea;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,cAAA,MAAe,SAAf,MAAe;AACnB,cAAA,MADmB,GACV,QAAQ,CAAC,SAAT,EADU;AAAA;AAAA,qBAEH,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,eADb,EAEpB,UAFoB,EAGpB,MAHoB,CAFG;;AAAA;AAEnB,cAAA,OAFmB;AAOnB,cAAA,WAPmB,GAOL,IAAI,MAAM,CAAC,QAAX,CAClB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADf,EAElB,SAFkB,EAGlB,MAHkB,CAPK;AAAA;AAAA,qBAaD,OAAO,CAAC,GAAR,CAAY,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,KAAxB,EAA+B,QAA/B,EAAZ,CAbC;;AAAA;AAanB,cAAA,SAbmB;AAAA;AAAA,qBAcnB,SAAS,CAAC,IAAV,CAAe,OAAO,CAAC,GAAR,CAAY,SAAZ,CAAf,CAdmB;;AAAA;AAAA;AAAA,qBAeH,WAAW,CAAC,SAAZ,CAAsB,KAAK,CAAC,OAA5B,CAfG;;AAAA;AAenB,cAAA,OAfmB;AAiBzB,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ;AACA,gBAAA,OAAO,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,OAAzB;AAFG,eAAR,CAAN;AAjByB;AAAA,qBAsBD,OAAO,CAAC,SAAR,CAAkB,KAAK,CAAC,OAAxB,CAtBC;;AAAA;AAsBnB,cAAA,SAtBmB;AAAA;AAAA,qBAuBG,OAAO,CAAC,aAAR,EAvBH;;AAAA;AAuBnB,cAAA,aAvBmB;AAAA;AAAA,qBAwBD,OAAO,CAAC,SAAR,CAAkB,KAAK,CAAC,OAAxB,CAxBC;;AAAA;AAwBnB,cAAA,SAxBmB;AA0BzB,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ,gBAAA,aAAa,EAAb,aADY;AAEZ,gBAAA,SAAS,EAAT,SAFY;AAGZ,gBAAA,SAAS,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,SAAzB,EAAoC,MAApC;AAHC,eAAR,CAAN;;AA1ByB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+B1B,GA5gBa;AA8gBR,EAAA,SA9gBQ,4BA8gBc,KA9gBd,EA8gBmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,cAAA,MAAe,SAAf,MAAe;AACzB,cAAA,MADyB,GAChB,QAAQ,CAAC,SAAT,EADgB;AAAA;AAAA,qBAGL,IAAI,MAAM,CAAC,QAAX,CACxB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADT,EAExB,WAFwB,EAGxB,MAHwB,CAHK;;AAAA;AAGzB,cAAA,WAHyB;AASzB,cAAA,YATyB,GASV,IAAI,MAAM,CAAC,QAAX,CACnB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADd,EAEnB,SAFmB,EAGnB,MAHmB,CATU;AAezB,cAAA,WAfyB,GAeX,IAAI,MAAM,CAAC,QAAX,CAClB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADf,EAElB,SAFkB,EAGlB,MAHkB,CAfW;AAAA;AAAA,qBAqBP,WAAW,CAAC,OAAZ,CAAoB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,KAAxB,EAA+B,QAA/B,EAApB,CArBO;;AAAA;AAqBzB,cAAA,SArByB;AAAA;AAAA,qBAsBzB,SAAS,CAAC,IAAV,CAAe,OAAO,CAAC,GAAR,CAAY,SAAZ,CAAf,CAtByB;;AAAA;AAAA;AAAA,qBAuBT,WAAW,CAAC,SAAZ,CAAsB,KAAK,CAAC,OAA5B,CAvBS;;AAAA;AAuBzB,cAAA,OAvByB;AAAA;AAAA,qBAyBH,YAAY,CAAC,SAAb,CAAuB,KAAK,CAAC,OAA7B,CAzBG;;AAAA;AAyBzB,cAAA,aAzByB;AA2B/B,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ;AACA,gBAAA,OAAO,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,OAAzB,CAFG;AAGZ,gBAAA,aAAa,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,aAAzB;AAHH,eAAR,CAAN;;AA3B+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgChC,GA9iBa;AAgjBR,EAAA,eAhjBQ,kCAgjB8B,MAhjB9B,EAgjBoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA1B,cAAA,MAA0B,SAA1B,MAA0B,EAAlB,QAAkB,SAAlB,QAAkB;;AAEhD,kBAAI,CAAC,MAAD,IAAW,MAAM,KAAK,EAA1B,EAA8B;AAC5B,gBAAA,WAAW,GAAG,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,QAAxB,CAAd,CAD4B,CACqB;AAClD,eAFD,MAEO;AACL,gBAAA,WAAW,GAAG,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,MAAxB,CAAd;AACD;;AACK,cAAA,YAP0C,GAO3B,IAAI,MAAM,CAAC,QAAX,CACnB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,UADd,EAEnB,YAFmB,EAGnB,QAHmB,CAP2B,EAYhD;;AACM,cAAA,eAb0C,GAaxB,IAAI,MAAM,CAAC,QAAX,CACtB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADX,EAEtB,YAFsB,EAGtB,QAHsB,CAbwB;AAkB1C,cAAA,UAlB0C,GAkB7B,IAAI,MAAM,CAAC,QAAX,CACjB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,UADhB,EAEjB,SAFiB,EAGjB,QAHiB,CAlB6B;AAuB1C,cAAA,mBAvB0C,GAuBpB,IAAI,MAAM,CAAC,QAAX,CAC1B,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,mBADP,EAE1B,gBAF0B,EAG1B,QAH0B,CAvBoB;AA4B1C,cAAA,WA5B0C,GA4B5B,IAAI,MAAM,CAAC,QAAX,CAClB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADf,EAElB,SAFkB,EAGlB,QAHkB,CA5B4B;AAAA;AAAA,qBAkC1B,UAAU,CAAC,WAAX,EAlC0B;;AAAA;AAkC1C,cAAA,OAlC0C;AAAA;AAAA,qBAmCnB,WAAW,CAAC,WAAZ,EAnCmB;;AAAA;AAmC1C,cAAA,cAnC0C;AAAA;AAAA,qBAqCZ,eAAe,CAAC,qBAAhB,EArCY;;AAAA;AAqC1C,cAAA,qBArC0C;AAAA;AAAA,qBAuCtB,eAAe,CAAC,SAAhB,EAvCsB;;AAAA;AAuC1C,cAAA,WAvC0C;AAAA;AAAA,qBAwCxB,mBAAmB,CAAC,aAApB,CAAkC,WAAlC,EAA+C,cAA/C,CAxCwB;;AAAA;AAwC1C,cAAA,SAxC0C;AAAA;AAAA,qBA0CzB,YAAY,CAAC,WAAb,EA1CyB;;AAAA;AA0C1C,cAAA,QA1C0C;AA4C1C,cAAA,SA5C0C,GA4C9B,QAAQ,CAAC,CAAD,CA5CsB;AA6C1C,cAAA,WA7C0C,GA6C5B,QAAQ,CAAC,CAAD,CAAR,CAAY,GAAZ,CAAgB,QAAQ,CAAC,CAAD,CAAxB,CA7C4B;AAAA;AAAA,qBA+CxB,eAAe,CAAC,qBAAhB,CAAsC,WAAW,CAAC,QAAZ,EAAtC,CA/CwB;;AAAA;AA+C1C,cAAA,SA/C0C;AAgD1C,cAAA,SAhD0C,GAgD7B,IAAI,SAAJ,IAAiB,WAAW,GAAG,OAA/B,CAAD,GAA4C,SAhDd;AAiD1C,cAAA,YAjD0C,GAiD3B,IAAI,SAAS,GAAG,WAjDW;AAmDhD,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ,gBAAA,MAAM,EAAN,MADY;AAEZ,gBAAA,SAAS,EAAT,SAFY;AAGZ,gBAAA,YAAY,EAAZ,YAHY;AAIZ,gBAAA,SAAS,EAAT,SAJY;AAKZ,gBAAA,SAAS,EAAE,SALC;AAMZ,gBAAA,qBAAqB,EAArB,qBANY;AAOZ,gBAAA,WAAW,EAAE,WAAW,GAAG,IAAI,CAAC,GAAL,CAAS,EAAT,EAAa,CAAb;AAPf,eAAR,CAAN;;AAnDgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4DjD,GA5mBa;AA8mBR,EAAA,oBA9mBQ,uCA8mBuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR,cAAA,MAAQ,SAAR,MAAQ;;AAAA,mBAC/B,KAAK,CAAC,OADyB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAEF,IAAI,MAAM,CAAC,QAAX,CAC7B,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,qBADJ,EAE7B,YAF6B,EAG7B,QAH6B,CAFE;;AAAA;AAE3B,cAAA,gBAF2B;AAAA;AAAA,qBAQA,gBAAgB,CAAC,kBAAjB,CAAoC,KAAK,CAAC,OAA1C,CARA;;AAAA;AAQ3B,cAAA,kBAR2B;AAAA;AAAA,qBAUD,gBAAgB,CAAC,iBAAjB,CAAmC,KAAK,CAAC,OAAzC,CAVC;;AAAA;AAU3B,cAAA,iBAV2B;AAAA;AAAA,qBAYP,IAAI,MAAM,CAAC,QAAX,CACxB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADT,EAExB,SAFwB,EAGxB,QAHwB,CAZO;;AAAA;AAY3B,cAAA,WAZ2B;AAAA;AAAA,qBAkBN,WAAW,CAAC,SAAZ,CACzB,KAAK,CAAC,OADmB,EAEzB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,qBAFR,CAlBM;;AAAA;AAkB3B,cAAA,YAlB2B;AAAA;AAAA,qBAuBN,IAAI,MAAM,CAAC,QAAX,CACzB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADR,EAEzB,SAFyB,EAGzB,QAHyB,CAvBM;;AAAA;AAuB3B,cAAA,YAvB2B;AAAA;AAAA,qBA6BL,YAAY,CAAC,SAAb,CAC1B,KAAK,CAAC,OADoB,EAE1B,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,qBAFP,CA7BK;;AAAA;AA6B3B,cAAA,aA7B2B;AAkCjC,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ,gBAAA,qBAAqB,EAAE,aADX;AAEZ,gBAAA,qBAAqB,EAAE,YAFX;AAGZ,gBAAA,mBAAmB,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,kBAAzB,CAHT;AAIZ,gBAAA,uBAAuB,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,iBAAzB;AAJb,eAAR,CAAN;;AAlCiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyCpC,GAvpBa;AAypBR,EAAA,uBAzpBQ,0CAypBsC,KAzpBtC,EAypB2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzB,cAAA,MAAyB,SAAzB,MAAyB,EAAjB,QAAiB,SAAjB,QAAiB;AACjD,cAAA,MADiD,GACxC,QAAQ,CAAC,SAAT,EADwC;AAAA;AAAA,qBAE7B,IAAI,MAAM,CAAC,QAAX,CACxB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADT,EAExB,SAFwB,EAGxB,MAHwB,CAF6B;;AAAA;AAEjD,cAAA,WAFiD;;AAAA,oBAQnD,KAAK,IAAI,CAR0C;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBAU/B,WAAW,CAAC,OAAZ,CACtB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,qBADX,EAEtB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,KAAxB,EAA+B,QAA/B,EAFsB,CAV+B;;AAAA;AAUjD,cAAA,SAViD;AAcvD,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,WAAW,EAAE;AAAf,eAAR,CAAN;AAduD;AAAA,qBAejD,SAAS,CAAC,IAAV,EAfiD;;AAAA;AAAA;AAAA,qBAgBjD,QAAQ,CAAC,sBAAD,CAhByC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBxD,GA1qBa;AA4qBR,EAAA,uBA5qBQ,2CA4qBsC,KA5qBtC,EA4qB2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzB,cAAA,MAAyB,UAAzB,MAAyB,EAAjB,QAAiB,UAAjB,QAAiB;AACjD,cAAA,MADiD,GACxC,QAAQ,CAAC,SAAT,EADwC;AAAA;AAAA,qBAE5B,IAAI,MAAM,CAAC,QAAX,CACzB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADR,EAEzB,SAFyB,EAGzB,MAHyB,CAF4B;;AAAA;AAEjD,cAAA,YAFiD;;AAAA,oBAQnD,KAAK,IAAI,CAR0C;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBAU/B,YAAY,CAAC,OAAb,CACtB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,qBADX,EAEtB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,KAAxB,EAA+B,QAA/B,EAFsB,CAV+B;;AAAA;AAUjD,cAAA,SAViD;AAcvD,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,WAAW,EAAE;AAAf,eAAR,CAAN;AAduD;AAAA,qBAejD,SAAS,CAAC,IAAV,EAfiD;;AAAA;AAAA;AAAA,qBAgBjD,QAAQ,CAAC,sBAAD,CAhByC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBxD,GA7rBa;AA+rBR,EAAA,YA/rBQ,gCA+rB2B,KA/rB3B,EA+rBgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzB,cAAA,MAAyB,UAAzB,MAAyB,EAAjB,QAAiB,UAAjB,QAAiB;AAEtC,cAAA,MAFsC,GAE7B,QAAQ,CAAC,SAAT,EAF6B;AAItC,cAAA,YAJsC,GAIvB,IAAI,MAAM,CAAC,QAAX,CACnB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADd,EAEnB,SAFmB,EAGnB,MAHmB,CAJuB;AAUtC,cAAA,WAVsC,GAUxB,IAAI,MAAM,CAAC,QAAX,CAClB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADf,EAElB,SAFkB,EAGlB,MAHkB,CAVwB;AAgBtC,cAAA,WAhBsC,GAgBxB,IAAI,MAAM,CAAC,QAAX,CAClB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADf,EAElB,SAFkB,EAGlB,MAHkB,CAhBwB;AAAA;AAAA,qBAsBb,IAAI,MAAM,CAAC,QAAX,CAC7B,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,qBADJ,EAE7B,YAF6B,EAG7B,MAH6B,CAtBa;;AAAA;AAsBtC,cAAA,gBAtBsC;AAAA;AAAA,qBA6BpB,gBAAgB,CAAC,YAAjB,CAA8B,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,KAAxB,EAA+B,QAA/B,EAA9B,CA7BoB;;AAAA;AA6BtC,cAAA,SA7BsC;AAAA;AAAA,qBA8BtC,SAAS,CAAC,IAAV,CAAe,OAAO,CAAC,GAAR,CAAY,SAAZ,CAAf,CA9BsC;;AAAA;AAAA;AAAA,qBAgCtB,WAAW,CAAC,SAAZ,CAAsB,KAAK,CAC/C,OADoB,CAhCsB;;AAAA;AAgCtC,cAAA,OAhCsC;AAAA;AAAA,qBAkChB,YAAY,CAAC,SAAb,CAAuB,KAAK,CAAC,OAA7B,CAlCgB;;AAAA;AAkCtC,cAAA,aAlCsC;AAAA;AAAA,qBAmCnB,WAAW,CAAC,SAAZ,CAAsB,KAAK,CAAC,OAA5B,CAnCmB;;AAAA;AAmCtC,cAAA,UAnCsC;AAsC5C,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ,gBAAA,OAAO,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,OAAzB,CADG;AAEZ,gBAAA,aAAa,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,aAAzB,CAFH;AAGZ,gBAAA,UAAU,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,UAAzB,EAAqC,MAArC;AAHA,eAAR,CAAN;;AAtC4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6C7C,GA5uBa;AAgvBR,EAAA,kBAhvBQ,sCAgvBqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR,cAAA,MAAQ,UAAR,MAAQ;;AAAA,mBAC7B,KAAK,CAAC,OADuB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAEN,IAAI,MAAM,CAAC,QAAX,CACvB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,UADV,EAEvB,SAFuB,EAGvB,QAHuB,CAFM;;AAAA;AAEzB,cAAA,UAFyB;AAAA;AAAA,qBAOD,UAAU,CAAC,SAAX,CAC5B,KAAK,CAAC,OADsB,EAE5B,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YAFL,CAPC;;AAAA;AAOzB,cAAA,eAPyB;AAW/B,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,eAAe,EAAf;AAAF,eAAR,CAAN;;AAX+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAalC,GA7vBa;AA+vBR,EAAA,iBA/vBQ,qCA+vBgC,KA/vBhC,EA+vBqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzB,cAAA,MAAyB,UAAzB,MAAyB,EAAjB,QAAiB,UAAjB,QAAiB;AAC3C,cAAA,MAD2C,GAClC,QAAQ,CAAC,SAAT,EADkC;AAAA;AAAA,qBAExB,IAAI,MAAM,CAAC,QAAX,CACvB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,UADV,EAEvB,SAFuB,EAGvB,MAHuB,CAFwB;;AAAA;AAE3C,cAAA,UAF2C;;AAAA,oBAO7C,KAAK,IAAI,CAPoC;AAAA;AAAA;AAAA;;AAQ/C,cAAA,KAAK,CAAC,qCAAD,CAAL;AAR+C;;AAAA;AAAA;AAAA,qBAYzB,UAAU,CAAC,OAAX,CACtB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADX,EAEtB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,YAAxB,EAAsC,OAAtC,EAA+C,QAA/C,EAFsB,CAZyB;;AAAA;AAY3C,cAAA,SAZ2C;AAAA;AAAA,qBAgB3C,SAAS,CAAC,IAAV,EAhB2C;;AAAA;AAAA;AAAA,qBAiB3C,QAAQ,CAAC,oBAAD,CAjBmC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBlD,GAjxBa;AAmxBR,EAAA,MAnxBQ,0BAmxBW,KAnxBX,EAmxBgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,cAAA,MAAe,UAAf,MAAe;AACtB,cAAA,MADsB,GACb,QAAQ,CAAC,SAAT,EADa;AAAA;AAAA,qBAEN,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADb,EAEpB,YAFoB,EAGpB,MAHoB,CAFM;;AAAA;AAEtB,cAAA,OAFsB;AAAA;AAAA;AAAA,qBAWX,OAAO,CAAC,oBAAR,CAA6B,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,KAAxB,EAA+B,OAA/B,CAA7B,CAXW;;AAAA;AAW1B,cAAA,MAX0B;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAa1B,kBAAI,cAAM,IAAN,KAAe,CAAC,KAAhB,IAAyB,cAAM,OAAN,CAAc,OAAd,CAAsB,uBAAtB,KAAkD,CAA/E,EAAkF;AAChF,gBAAA,KAAK,CACH,qGADG,CAAL;AAGD,eAJD,MAIO;AACL,gBAAA,KAAK,CAAC,cAAM,OAAP,CAAL;AACD;;AAnByB;;AAAA;AAAA;AAAA,qBAwBtB,MAAM,CAAC,IAAP,EAxBsB;;AAAA;AAyBtB,cAAA,UAzBsB,GAyBT,IAAI,MAAM,CAAC,QAAX,CACjB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,UADhB,EAEjB,SAFiB,EAGjB,QAHiB,CAzBS;AAAA;AAAA,qBA8BJ,UAAU,CAAC,SAAX,CAAqB,KAAK,CAAC,OAA3B,CA9BI;;AAAA;AA8BtB,cAAA,SA9BsB;AA+B5B,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ,gBAAA,SAAS,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,SAAzB,EAAoC,OAApC;AADC,eAAR,CAAN;;AA/B4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkC7B,GArzBa;AAuzBR,EAAA,UAvzBQ,wBAuzBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACR,cAAA,MADQ,GACC,QAAQ,CAAC,SAAT,EADD;AAAA;AAAA,qBAEQ,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADb,EAEpB,YAFoB,EAGpB,MAHoB,CAFR;;AAAA;AAER,cAAA,OAFQ;AAAA;AAAA,qBAOS,OAAO,CAAC,UAAR,EAPT;;AAAA;AAOR,cAAA,QAPQ;AAAA;AAAA,qBAQR,QAAQ,CAAC,IAAT,EARQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASf,GAh0Ba;AAk0BR,EAAA,WAl0BQ,yBAk0BG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACT,cAAA,MADS,GACA,QAAQ,CAAC,SAAT,EADA;AAAA;AAAA,qBAEO,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADb,EAEpB,YAFoB,EAGpB,MAHoB,CAFP;;AAAA;AAET,cAAA,OAFS;AAAA;AAAA,qBAOS,OAAO,CAAC,mCAAR,EAPT;;AAAA;AAOT,cAAA,SAPS;AAAA;AAAA,qBAQT,SAAS,CAAC,IAAV,EARS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAShB,GA30Ba;AA60BR,EAAA,YA70BQ,gCA60Be;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR,cAAA,MAAQ,UAAR,MAAQ;AACrB,cAAA,MADqB,GACZ,QAAQ,CAAC,SAAT,EADY;AAAA;AAAA,qBAEL,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,eADb,EAEpB,UAFoB,EAGpB,MAHoB,CAFK;;AAAA;AAErB,cAAA,OAFqB;AAAA;AAAA,qBAQH,OAAO,CAAC,KAAR,EARG;;AAAA;AAQrB,cAAA,SARqB;AAAA;AAAA,qBASrB,SAAS,CAAC,IAAV,CAAe,OAAO,CAAC,GAAR,CAAY,SAAZ,CAAf,CATqB;;AAAA;AAU3B,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ,gBAAA,SAAS,EAAE;AADC,eAAR,CAAN;;AAV2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAa5B,GA11Ba;AA41BR,EAAA,WA51BQ,+BA41B0B,KA51B1B,EA41B+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzB,cAAA,MAAyB,UAAzB,MAAyB,EAAjB,QAAiB,UAAjB,QAAiB;AACrC,cAAA,MADqC,GAC5B,QAAQ,CAAC,SAAT,EAD4B;AAAA;AAAA,qBAEjB,IAAI,MAAM,CAAC,QAAX,CACxB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADT,EAExB,SAFwB,EAGxB,MAHwB,CAFiB;;AAAA;AAErC,cAAA,WAFqC;;AAAA,oBAQvC,KAAK,IAAI,CAR8B;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBAUnB,WAAW,CAAC,OAAZ,CACtB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,eADX,EAEtB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,KAAxB,EAA+B,QAA/B,EAFsB,CAVmB;;AAAA;AAUrC,cAAA,SAVqC;AAc3C,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,WAAW,EAAE;AAAf,eAAR,CAAN;AAd2C;AAAA,qBAerC,SAAS,CAAC,IAAV,EAfqC;;AAAA;AAAA;AAAA,qBAgBrC,QAAQ,CAAC,eAAD,CAhB6B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiB5C,GA72Ba;AA+2BR,EAAA,iBA/2BQ,qCA+2BgC,KA/2BhC,EA+2BqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzB,cAAA,MAAyB,UAAzB,MAAyB,EAAjB,QAAiB,UAAjB,QAAiB;AAC3C,cAAA,MAD2C,GAClC,QAAQ,CAAC,SAAT,EADkC;AAAA;AAAA,qBAEvB,IAAI,MAAM,CAAC,QAAX,CACxB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADT,EAExB,SAFwB,EAGxB,MAHwB,CAFuB;;AAAA;AAE3C,cAAA,WAF2C;;AAAA,oBAQ7C,KAAK,IAAI,CARoC;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBAUzB,WAAW,CAAC,OAAZ,CACtB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADX,EAEtB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,KAAxB,EAA+B,QAA/B,EAFsB,CAVyB;;AAAA;AAU3C,cAAA,SAV2C;AAcjD,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,WAAW,EAAE;AAAf,eAAR,CAAN;AAdiD;AAAA,qBAe3C,SAAS,CAAC,IAAV,EAf2C;;AAAA;AAAA;AAAA,qBAgB3C,QAAQ,CAAC,qBAAD,CAhBmC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBlD,GAh4Ba;AAk4BR,EAAA,aAl4BQ,iCAk4BgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR,cAAA,MAAQ,UAAR,MAAQ;;AAAA,mBACxB,KAAK,CAAC,OADkB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAEA,IAAI,MAAM,CAAC,QAAX,CACxB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADT,EAExB,SAFwB,EAGxB,QAHwB,CAFA;;AAAA;AAEpB,cAAA,WAFoB;AAAA;AAAA,qBAOF,WAAW,CAAC,SAAZ,CACtB,KAAK,CAAC,OADgB,EAEtB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,eAFX,CAPE;;AAAA;AAOpB,cAAA,SAPoB;AAW1B,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,SAAS,EAAT;AAAF,eAAR,CAAN;;AAX0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAa7B,GA/4Ba;AAi5BR,EAAA,mBAj5BQ,uCAi5BsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR,cAAA,MAAQ,UAAR,MAAQ;;AAAA,mBAC9B,KAAK,CAAC,OADwB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAEN,IAAI,MAAM,CAAC,QAAX,CACxB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADT,EAExB,SAFwB,EAGxB,QAHwB,CAFM;;AAAA;AAE1B,cAAA,WAF0B;AAAA;AAAA,qBAOR,WAAW,CAAC,SAAZ,CACtB,KAAK,CAAC,OADgB,EAEtB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YAFX,CAPQ;;AAAA;AAO1B,cAAA,SAP0B;AAWhC,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,eAAe,EAAE;AAAnB,eAAR,CAAN;;AAXgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAanC,GA95Ba;AAg6BR,EAAA,gBAh6BQ,oCAg6B+B,KAh6B/B,EAg6BoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzB,cAAA,MAAyB,UAAzB,MAAyB,EAAjB,QAAiB,UAAjB,QAAiB;AAC1C,cAAA,MAD0C,GACjC,QAAQ,CAAC,SAAT,EADiC;AAAA;AAAA,qBAEtB,IAAI,MAAM,CAAC,QAAX,CACxB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADT,EAExB,SAFwB,EAGxB,MAHwB,CAFsB;;AAAA;AAE1C,cAAA,WAF0C;;AAAA,oBAO5C,KAAK,IAAI,CAPmC;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBASxB,WAAW,CAAC,OAAZ,CACtB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,eADX,EAEtB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,YAAxB,EAAsC,MAAtC,EAA8C,QAA9C,EAFsB,CATwB;;AAAA;AAS1C,cAAA,SAT0C;AAAA;AAAA,qBAa1C,SAAS,CAAC,IAAV,EAb0C;;AAAA;AAAA;AAAA,qBAc1C,QAAQ,CAAC,oBAAD,CAdkC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAejD,GA/6Ba;AAi7BR,EAAA,kBAj7BQ,sCAi7BiC,KAj7BjC,EAi7BsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzB,cAAA,MAAyB,UAAzB,MAAyB,EAAjB,QAAiB,UAAjB,QAAiB;AAC5C,cAAA,MAD4C,GACnC,QAAQ,CAAC,SAAT,EADmC;AAAA;AAAA,qBAEzB,IAAI,MAAM,CAAC,QAAX,CACvB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,UADV,EAEvB,SAFuB,EAGvB,MAHuB,CAFyB;;AAAA;AAE5C,cAAA,UAF4C;;AAAA,oBAO9C,KAAK,IAAI,CAPqC;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBAS1B,UAAU,CAAC,OAAX,CACtB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,iBADX,EAEtB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,YAAxB,EAAsC,OAAtC,EAA+C,QAA/C,EAFsB,CAT0B;;AAAA;AAS5C,cAAA,SAT4C;AAAA;AAAA,qBAa5C,SAAS,CAAC,IAAV,EAb4C;;AAAA;AAAA;AAAA,qBAc5C,QAAQ,CAAC,qBAAD,CAdoC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAenD,GAh8Ba;AAk8BR,EAAA,kBAl8BQ,sCAk8BqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR,cAAA,MAAQ,UAAR,MAAQ;;AAAA,mBAC7B,KAAK,CAAC,OADuB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAEL,IAAI,MAAM,CAAC,QAAX,CACxB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADT,EAExB,SAFwB,EAGxB,QAHwB,CAFK;;AAAA;AAEzB,cAAA,WAFyB;AAAA;AAAA,qBAOF,WAAW,CAAC,SAAZ,CAC3B,KAAK,CAAC,OADqB,EAE3B,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,eAFN,CAPE;;AAAA;AAOzB,cAAA,cAPyB;AAW/B,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,cAAc,EAAd;AAAF,eAAR,CAAN;;AAX+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAalC,GA/8Ba;AAi9BR,EAAA,mBAj9BQ,uCAi9BsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR,cAAA,MAAQ,UAAR,MAAQ;;AAAA,mBAC9B,KAAK,CAAC,OADwB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAEP,IAAI,MAAM,CAAC,QAAX,CACvB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,UADV,EAEvB,SAFuB,EAGvB,QAHuB,CAFO;;AAAA;AAE1B,cAAA,UAF0B;AAAA;AAAA,qBAOD,UAAU,CAAC,SAAX,CAC7B,KAAK,CAAC,OADuB,EAE7B,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,iBAFJ,CAPC;;AAAA;AAO1B,cAAA,gBAP0B;AAWhC,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,gBAAgB,EAAhB;AAAF,eAAR,CAAN;;AAXgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAanC,GA99Ba;AAg+BR,EAAA,kBAh+BQ,sCAg+BiC,KAh+BjC,EAg+BsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzB,cAAA,MAAyB,UAAzB,MAAyB,EAAjB,QAAiB,UAAjB,QAAiB;AAC5C,cAAA,MAD4C,GACnC,QAAQ,CAAC,SAAT,EADmC;AAAA;AAAA,qBAEvB,IAAI,MAAM,CAAC,QAAX,CACzB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADR,EAEzB,SAFyB,EAGzB,MAHyB,CAFuB;;AAAA;AAE5C,cAAA,YAF4C;;AAAA,oBAO9C,KAAK,IAAI,CAPqC;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBAS1B,YAAY,CAAC,OAAb,CACtB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,eADX,EAEtB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,YAAxB,EAAsC,MAAtC,EAA8C,QAA9C,EAFsB,CAT0B;;AAAA;AAS5C,cAAA,SAT4C;AAAA;AAAA,qBAa5C,SAAS,CAAC,IAAV,EAb4C;;AAAA;AAAA;AAAA,qBAc5C,QAAQ,CAAC,sBAAD,CAdoC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAenD,GA/+Ba;AAi/BR,EAAA,oBAj/BQ,wCAi/BuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR,cAAA,MAAQ,UAAR,MAAQ;;AAAA,mBAC/B,KAAK,CAAC,OADyB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAEN,IAAI,MAAM,CAAC,QAAX,CACzB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADR,EAEzB,SAFyB,EAGzB,QAHyB,CAFM;;AAAA;AAE3B,cAAA,YAF2B;AAAA;AAAA,qBAOF,YAAY,CAAC,SAAb,CAC7B,KAAK,CAAC,OADuB,EAE7B,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,eAFJ,CAPE;;AAAA;AAO3B,cAAA,gBAP2B;AAWjC,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,gBAAgB,EAAhB;AAAF,eAAR,CAAN;;AAXiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAapC,GA9/Ba;AAggCR,EAAA,wBAhgCQ,4CAggC6B,KAhgC7B,EAggCkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,cAAA,MAAe,UAAf,MAAe;AAC9C,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,MAAM,EAAE,KAAK,GAAG;AAAlB,eAAR,CAAN;;AAD8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAE/C,GAlgCa;AAogCR,EAAA,kBApgCQ,sCAogCuB,KApgCvB,EAogC4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,cAAA,MAAe,UAAf,MAAe;AACxC,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,MAAM,EAAE,KAAK,GAAG,KAAK,CAAC;AAAxB,eAAR,CAAN;;AADwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEzC,GAtgCa;AAwgCR,EAAA,oBAxgCQ,wCAwgCuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR,cAAA,MAAQ,UAAR,MAAQ;AAAA;AAAA;AAAA,qBAEX,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,eADb,EAEpB,UAFoB,EAGpB,QAHoB,CAFW;;AAAA;AAE3B,cAAA,OAF2B;AAAA;AAAA,qBAOT,OAAO,CAAC,oBAAR,EAPS;;AAAA;AAO3B,cAAA,SAP2B;AAQjC,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,SAAS,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,SAAzB,EAAoC,OAApC;AAAb,eAAR,CAAN;AARiC;AAAA;;AAAA;AAAA;AAAA;AAUjC,cAAA,OAAO,CAAC,GAAR;;AAViC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYpC,GAphCa;AAshCR,EAAA,cAthCQ,kCAshC2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAlB,cAAA,MAAkB,UAAlB,MAAkB,EAAV,QAAU,UAAV,QAAU;AAAA;AAAA,qBACjB,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,eADb,EAEpB,UAFoB,EAGpB,QAHoB,CADiB;;AAAA;AACjC,cAAA,OADiC;AAAA;AAAA,qBAMf,OAAO,CAAC,KAAR,EANe;;AAAA;AAMjC,cAAA,SANiC;AAQvC,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ,gBAAA,KAAK,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,SAAS,CAAC,QAAV,EAAzB,EAA+C,OAA/C;AADK,eAAR,CAAN;;AARuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWxC,GAjiCa;AAmiCR,EAAA,QAniCQ,4BAmiCa,KAniCb,EAmiCkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,cAAA,MAAe,UAAf,MAAe;AACxB,cAAA,MADwB,GACf,QAAQ,CAAC,SAAT,EADe;AAAA;AAAA,qBAER,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,eADb,EAEpB,cAFoB,EAGpB,MAHoB,CAFQ;;AAAA;AAExB,cAAA,OAFwB;AAAA;AAAA,qBAQR,OAAO,CAAC,QAAR,CAAiB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,KAAxB,EAA+B,MAA/B,CAAjB,CARQ;;AAAA;AAQxB,cAAA,OARwB;AAAA;AAAA,qBASxB,OAAO,CAAC,IAAR,EATwB;;AAAA;AAUxB,cAAA,WAVwB,GAUV,IAAI,MAAM,CAAC,QAAX,CAClB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADf,EAElB,SAFkB,EAGlB,QAHkB,CAVU;AAAA;AAAA,qBAeL,WAAW,CAAC,SAAZ,CAAsB,KAAK,CAAC,OAA5B,CAfK;;AAAA;AAexB,cAAA,UAfwB;AAgBxB,cAAA,YAhBwB,GAgBT,IAAI,MAAM,CAAC,QAAX,CACnB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADd,EAEnB,SAFmB,EAGnB,QAHmB,CAhBS;AAAA;AAAA,qBAqBJ,YAAY,CAAC,SAAb,CAAuB,KAAK,CAAC,OAA7B,CArBI;;AAAA;AAqBxB,cAAA,WArBwB;AAsB9B,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ,gBAAA,UAAU,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,UAAzB,EAAqC,MAArC,CADA;AAEZ,gBAAA,WAAW,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,WAAzB,EAAsC,MAAtC;AAFD,eAAR,CAAN;;AAtB8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0B/B,GA7jCa;AA8jCR,EAAA,UA9jCQ,8BA8jCe,KA9jCf,EA8jCoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,cAAA,MAAe,UAAf,MAAe;AAC1B,cAAA,MAD0B,GACjB,QAAQ,CAAC,SAAT,EADiB;AAAA;AAAA,qBAEV,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,eADb,EAEpB,cAFoB,EAGpB,MAHoB,CAFU;;AAAA;AAE1B,cAAA,OAF0B;AAOhC,cAAA,OAAO,CAAC,GAAR,CAAY,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,KAAxB,EAA+B,MAA/B,EAAuC,QAAvC,EAAZ;AAPgC;AAAA,qBAQV,OAAO,CAAC,UAAR,CAAmB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,KAAxB,EAA+B,MAA/B,CAAnB,CARU;;AAAA;AAQ1B,cAAA,OAR0B;AAAA;AAAA,qBAS1B,OAAO,CAAC,IAAR,EAT0B;;AAAA;AAU1B,cAAA,WAV0B,GAUZ,IAAI,MAAM,CAAC,QAAX,CAClB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,WADf,EAElB,SAFkB,EAGlB,QAHkB,CAVY;AAAA;AAAA,qBAeP,WAAW,CAAC,SAAZ,CAAsB,KAAK,CAAC,OAA5B,CAfO;;AAAA;AAe1B,cAAA,UAf0B;AAgB1B,cAAA,YAhB0B,GAgBX,IAAI,MAAM,CAAC,QAAX,CACnB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,YADd,EAEnB,SAFmB,EAGnB,QAHmB,CAhBW;AAAA;AAAA,qBAqBN,YAAY,CAAC,SAAb,CAAuB,KAAK,CAAC,OAA7B,CArBM;;AAAA;AAqB1B,cAAA,WArB0B;AAsBhC,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ,gBAAA,UAAU,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,UAAzB,EAAqC,MAArC,CADA;AAEZ,gBAAA,WAAW,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,WAAzB,EAAsC,MAAtC;AAFD,eAAR,CAAN;;AAtBgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BjC,GAxlCa;AA0lCR,EAAA,OA1lCQ,2BA0lCY,KA1lCZ,EA0lCiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,cAAA,MAAe,UAAf,MAAe;AACvB,cAAA,MADuB,GACd,QAAQ,CAAC,SAAT,EADc;AAAA;AAAA,qBAEP,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,iBADb,EAEpB,SAFoB,EAGpB,MAHoB,CAFO;;AAAA;AAEvB,cAAA,OAFuB;AAAA;AAAA,qBAOP,OAAO,CAAC,OAAR,CAAgB,MAAM,CAAC,KAAP,CAAa,UAAb,CAAwB,KAAxB,EAA+B,OAA/B,CAAhB,CAPO;;AAAA;AAOvB,cAAA,OAPuB;AAAA;AAAA,qBAQvB,OAAO,CAAC,IAAR,EARuB;;AAAA;AAUvB,cAAA,UAVuB,GAUV,IAAI,MAAM,CAAC,QAAX,CACjB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,UADhB,EAEjB,SAFiB,EAGjB,QAHiB,CAVU;AAAA;AAAA,qBAeL,UAAU,CAAC,SAAX,CAAqB,KAAK,CAAC,OAA3B,CAfK;;AAAA;AAevB,cAAA,SAfuB;AAgBvB,cAAA,iBAhBuB,GAgBH,IAAI,MAAM,CAAC,QAAX,CACxB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,iBADT,EAExB,SAFwB,EAGxB,QAHwB,CAhBG;AAAA;AAAA,qBAqBN,iBAAiB,CAAC,cAAlB,CAAiC,KAAK,CAAC,OAAvC,CArBM;;AAAA;AAqBvB,cAAA,QArBuB;AAsB7B,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ,gBAAA,SAAS,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,SAAzB,EAAoC,OAApC,CADC;AAEZ,gBAAA,QAAQ,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,QAAzB,EAAmC,OAAnC;AAFE,eAAR,CAAN;;AAtB6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0B9B,GApnCa;AAsnCR,EAAA,SAtnCQ,6BAsnCc,KAtnCd,EAsnCmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,cAAA,MAAe,UAAf,MAAe;AACzB,cAAA,MADyB,GAChB,QAAQ,CAAC,SAAT,EADgB;AAAA;AAAA,qBAET,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,iBADb,EAEpB,SAFoB,EAGpB,MAHoB,CAFS;;AAAA;AAEzB,cAAA,OAFyB;AAAA;AAAA,qBAOP,OAAO,CAAC,SAAR,EAPO;;AAAA;AAOzB,cAAA,SAPyB;AAAA;AAAA,qBAQzB,SAAS,CAAC,IAAV,EARyB;;AAAA;AAUzB,cAAA,UAVyB,GAUZ,IAAI,MAAM,CAAC,QAAX,CACjB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,UADhB,EAEjB,SAFiB,EAGjB,QAHiB,CAVY;AAAA;AAAA,qBAeP,UAAU,CAAC,SAAX,CAAqB,KAAK,CAAC,OAA3B,CAfO;;AAAA;AAezB,cAAA,SAfyB;AAgBzB,cAAA,iBAhByB,GAgBL,IAAI,MAAM,CAAC,QAAX,CACxB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,iBADT,EAExB,SAFwB,EAGxB,QAHwB,CAhBK;AAAA;AAAA,qBAqBR,iBAAiB,CAAC,cAAlB,CAAiC,KAAK,CAAC,OAAvC,CArBQ;;AAAA;AAqBzB,cAAA,QArByB;AAsB/B,cAAA,MAAM,CAAC,KAAD,EAAQ;AACZ,gBAAA,SAAS,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,SAAzB,EAAoC,OAApC,CADC;AAEZ,gBAAA,QAAQ,EAAE,MAAM,CAAC,KAAP,CAAa,WAAb,CAAyB,QAAzB,EAAmC,OAAnC;AAFE,eAAR,CAAN;;AAtB+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BhC,GAhpCa;AAkpCR,EAAA,YAlpCQ,0BAkpCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACV,cAAA,MADU,GACD,QAAQ,CAAC,SAAT,EADC;AAAA;AAAA,qBAEM,IAAI,MAAM,CAAC,QAAX,CACpB,SAAS,CAAC,KAAK,CAAC,OAAN,CAAc,OAAf,CAAT,CAAiC,iBADb,EAEpB,SAFoB,EAGpB,MAHoB,CAFN;;AAAA;AAEV,cAAA,OAFU;AAAA;AAAA,qBAOM,OAAO,CAAC,YAAR,EAPN;;AAAA;AAOV,cAAA,OAPU;AAAA;AAAA,qBAQV,OAAO,CAAC,IAAR,EARU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASjB,GA3pCa;AA6pCR,EAAA,UA7pCQ,8BA6pCuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAlB,cAAA,MAAkB,UAAlB,MAAkB,EAAV,QAAU,UAAV,QAAU;AACnC;AACA;AACA;AACA;AACA;AACA;AACM,cAAA,WAP6B,GAOf,IAAI,UAPW;AASnC,cAAA,MAAM,CAAC,KAAD,EAAQ;AAAE,gBAAA,OAAO,EAAE;AAAX,eAAR,CAAN;;AATmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUpC,GAvqCa;AAyqCR,EAAA,YAzqCQ,gCAyqCiB,KAzqCjB,EAyqCsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,cAAA,MAAe,UAAf,MAAe;AAAA,iDA+B3B,IA/B2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgCnC;AAzsCa,CAAhB;AA4sCA,eAAe;AACb,EAAA,KAAK,EAAL,KADa;AAEb,EAAA,SAAS,EAAT,SAFa;AAGb,EAAA,OAAO,EAAP;AAHa,CAAf","sourcesContent":["import Vue from 'vue';\r\nimport { ethers } from 'ethers';\r\nimport store from '@/store';\r\n//import provider from '@/helpers/provider';\r\nimport addresses from '@/helpers/addresses';\r\nimport {\r\n  getExchangeRatesFromCoinGecko,\r\n  getPotions,\r\n  getAllowances,\r\n  revitalisePotion,\r\n  withdrawPotion\r\n} from '@/helpers/utils';\r\nimport {\r\n  ETHER,\r\n  EPOCH_INTERVAL,\r\n  BLOCK_RATE_SECONDS,\r\n  BLOCKS_PER_DAY,\r\n  EPOCH_STARTED\r\n} from '@/helpers/constants';\r\nimport assets from '@/helpers/assets.json';\r\nimport { abi as ierc20Abi } from '@/helpers/abi/IERC20.json';\r\nimport { abi as mimirTokenSale } from '@/helpers/abi/mimirTokenSale.json';\r\nimport { abi as pOlyTokenSale } from '@/helpers/abi/pOlyTokenSale.json';\r\nimport { abi as OHMPreSale } from '@/helpers/abi/OHMPreSale.json';\r\nimport { abi as OlympusStaking } from '@/helpers/abi/OlympusStaking.json';\r\nimport { abi as MigrateToOHM } from '@/helpers/abi/MigrateToOHM.json';\r\nimport { abi as sOHM } from '@/helpers/abi/sOHM.json';\r\nimport { abi as LPStaking } from '@/helpers/abi/LPStaking.json';\r\nimport { abi as DistributorContract } from '@/helpers/abi/DistributorContract.json';\r\nimport { abi as BondContract } from '@/helpers/abi/BondContract.json';\r\nimport { abi as BondCalcContract } from '@/helpers/abi/BondCalcContract.json';\r\nimport { abi as PairContract } from '@/helpers/abi/PairContract.json';\r\nimport { abi as PreTaoSales } from '@/helpers/abi/PreTaoSales.json';\r\nimport { abi as ExercisePtao } from '@/helpers/abi/ExercisePtao.json';\r\nimport cheerio from 'cheerio';\r\n\r\nimport { whitelist } from '@/helpers/whitelist.json';\r\n\r\nconst parseEther = ethers.utils.parseEther;\r\n\r\nlet provider;\r\n\r\nconst ethereum = window['ethereum'];\r\nif (ethereum) {\r\n  ethereum.on('accountsChanged', () => store.dispatch('init'));\r\n  ethereum.on('networkChanged', network => {\r\n    store.dispatch('init');\r\n  });\r\n}\r\n\r\nconst state = {\r\n  approval: 0,\r\n  loading: false,\r\n  address: null,\r\n  name: '',\r\n  whitelisted: false,\r\n  balance: 0,\r\n  ohmBalance: 0,\r\n  claim: 0,\r\n  minimumEth: 0,\r\n  providedEth: 0,\r\n  amount: 0,\r\n  remainingEth: 0,\r\n  network: { chainId: 0 },\r\n  exchangeRates: {},\r\n  allowance: 0,\r\n  stakeAllowance: 0,\r\n  unstakeAllowance: 0,\r\n  balances: {},\r\n  authorized: false,\r\n  allowanceTx: 0,\r\n  saleTx: 0,\r\n  confirmations: 1,\r\n  allotment: 0,\r\n  maxPurchase: 0,\r\n  price: 0,\r\n  maxSwap: 0,\r\n  amountSwap: 0,\r\n  boughtTao: false,\r\n  claimUnlocked: false,\r\n  claimable: false,\r\n  isInitialized: false,\r\n  blocksPerDay: BLOCKS_PER_DAY,\r\n  epochStarted: EPOCH_STARTED,\r\n  epochInterval: EPOCH_INTERVAL,\r\n  totalSupply: 0,\r\n  taoCircSupply: 0,\r\n  totalBusdLP: 0,\r\n  vaultBusd: 0,\r\n  taoStaked: 0,\r\n  lpPrice: 0,\r\n  lpInVault: 0,\r\n  lpLocked: 0,\r\n  taoists: 0,\r\n  principleValuation: 0,\r\n  menuOpened: false,\r\n  modalLoginOpen: false,\r\n  whitelistPretao: false,\r\n  allowancePretao: 0,\r\n  initializedPretao: false,\r\n  pretaoBalance: 0,\r\n  fiveDayRate: 0,\r\n  nextEpochRewards: 0,\r\n  exerciseMaxAllowedClaim: 0,\r\n  exerciseAbleToClaim: 0,\r\n  exercisePtaoAllowance: 0,\r\n  exerciseBusdAllowance: 0\r\n};\r\n\r\nconst mutations = {\r\n  set(_state, payload) {\r\n    Object.keys(payload).forEach(key => {\r\n      Vue.set(_state, key, payload[key]);\r\n    });\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  init: async ({ commit, dispatch }) => {\r\n    // commit('set', { loading: true });\r\n    // @ts-ignore\r\n    if (typeof window.ethereum !== 'undefined') {\r\n      const ethereum = window['ethereum'];\r\n      provider = new ethers.providers.Web3Provider(ethereum);\r\n    }\r\n\r\n    if (provider) {\r\n      try {\r\n        const signer = provider.getSigner();\r\n        const address = await signer.getAddress();\r\n        if (address) await dispatch('login');\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n\r\n    commit('set', { loading: false });\r\n  },\r\n  login: async ({ commit, dispatch }) => {\r\n    const startAt = Date.now()\r\n    if (provider) {\r\n      try {\r\n        let ohmContract,\r\n          ohmBalance = 0,\r\n          allowance = 0;\r\n        let sohmContract,\r\n          sohmMainContract,\r\n          sohmBalance = 0,\r\n          stakeAllowance = 0,\r\n          unstakeAllowance = 0,\r\n          circSupply = 0;\r\n        let stakingContract,\r\n          profit = 0;\r\n        let lpStakingContract,\r\n          totalLPStaked = 0,\r\n          lpStaked = 0,\r\n          pendingRewards = 0,\r\n          lpStakingAPY;\r\n        let lpContract,\r\n          lpBalance = 0,\r\n          lpStakeAllowance;\r\n        let distributorContract,\r\n          stakingAPY = 0,\r\n          stakingRebase = 0,\r\n          stakingReward = 0,\r\n          nextEpochBlock = 0;\r\n        let distributorContractSigner,\r\n          currentIndex = 0,\r\n          currentBlock = 0;\r\n\r\n        let bondingCalcContract,\r\n          bondValue = 0;\r\n        let bondingContract,\r\n          marketPrice = 0,\r\n          bondPrice = 0,\r\n          debtRatio = 0,\r\n          lpBondAllowance = 0,\r\n          interestDue = 0,\r\n          vestingPeriodInBlocks,\r\n          bondMaturationBlock = 0,\r\n          bondDiscount = 0,\r\n          pendingPayout = 0,\r\n          taoTotalSupply = 0,\r\n          taoCircSupply = 0,\r\n          taoStaked = 0,\r\n          totalBusd = 0,\r\n          totalVaultLP = 0,\r\n          lpLocked = 0,\r\n          principleValuation = 0,\r\n          vaultBUSD = 0,\r\n          lpPrice = 0,\r\n          nextEpochRewards = 0,\r\n          fiveDayRate = 0;\r\n        let pairContract;\r\n\r\n        await ethereum.enable();\r\n        provider = new ethers.providers.Web3Provider(ethereum);\r\n        const signer = provider.getSigner();\r\n        const blockNumber = await provider.getBlockNumber();\r\n        const address = await signer.getAddress();\r\n        const network = await provider.getNetwork();\r\n        store.commit('set', { network: network });\r\n\r\n        const aOHMBalance = 0;\r\n\r\n        const daiContract = new ethers.Contract(\r\n          addresses[network.chainId].DAI_ADDRESS,\r\n          ierc20Abi,\r\n          provider\r\n        );\r\n        const balance = await daiContract.balanceOf(address);\r\n\r\n        commit('set', { address, balance: ethers.utils.formatEther(balance) });\r\n        try {\r\n          const preTaoallowance = await daiContract.allowance(\r\n            address,\r\n            addresses[network.chainId].PRETAO_SALES\r\n          )!;\r\n\r\n          const pretaoSales = await new ethers.Contract(\r\n            addresses[state.network.chainId].PRETAO_SALES,\r\n            PreTaoSales,\r\n            provider\r\n          );\r\n          const whitelistedPretao = await pretaoSales.approvedBuyers(address);\r\n          const initializedPretao = await pretaoSales.initialized();\r\n\r\n          const ptaoContract = new ethers.Contract(\r\n            addresses[network.chainId].PTAO_ADDRESS,\r\n            ierc20Abi,\r\n            provider\r\n          );\r\n          const pretaoBalance = await ptaoContract.balanceOf(address);\r\n\r\n          commit('set', {\r\n            whitelistPretao: whitelistedPretao,\r\n            allowancePretao: preTaoallowance,\r\n            initializedPretao,\r\n            pretaoBalance: ethers.utils.formatEther(pretaoBalance)\r\n          });\r\n        } catch (ex) {\r\n          console.log(ex);\r\n        }\r\n\r\n        try {\r\n          allowance = await daiContract.allowance(\r\n            address,\r\n            addresses[network.chainId].PRESALE_ADDRESS\r\n          )!;\r\n          console.log('Allowance', allowance);\r\n\r\n          const presaleContract = await new ethers.Contract(\r\n            addresses[state.network.chainId].PRESALE_ADDRESS,\r\n            OHMPreSale,\r\n            provider\r\n          );\r\n          const presaleWhitelisted = await presaleContract.whitelistedAddresses(address);\r\n          const boughtTao = await presaleContract.boughtTAO(address);\r\n          const claimUnlocked = await presaleContract.claimUnlocked();\r\n          const claimable = await presaleContract.claimable(address);\r\n          const isInitialized = await presaleContract.startUnlocked();\r\n\r\n          commit('set', {\r\n            whitelisted: presaleWhitelisted,\r\n            claimUnlocked,\r\n            boughtTao,\r\n            claimable: ethers.utils.formatUnits(claimable, 'gwei'),\r\n            isInitialized,\r\n            allowance\r\n          });\r\n        } catch (ex) {\r\n          console.log(ex);\r\n        }\r\n\r\n        if (addresses[network.chainId].BONDINGCALC_ADDRESS) {\r\n          bondingCalcContract = new ethers.Contract(\r\n            addresses[network.chainId].BONDINGCALC_ADDRESS,\r\n            BondCalcContract,\r\n            provider\r\n          );\r\n          lpContract = new ethers.Contract(\r\n            addresses[network.chainId].LP_ADDRESS,\r\n            ierc20Abi,\r\n            provider\r\n          );\r\n        }\r\n\r\n        if (addresses[network.chainId].BOND_ADDRESS) {\r\n          bondingContract = new ethers.Contract(\r\n            addresses[network.chainId].BOND_ADDRESS,\r\n            BondContract,\r\n            provider\r\n          );\r\n          bondingCalcContract = new ethers.Contract(\r\n            addresses[network.chainId].BONDINGCALC_ADDRESS,\r\n            BondCalcContract,\r\n            provider\r\n          );\r\n          pairContract = new ethers.Contract(\r\n            addresses[network.chainId].LP_ADDRESS,\r\n            PairContract,\r\n            provider\r\n          );\r\n          lpContract = new ethers.Contract(\r\n            addresses[network.chainId].LP_ADDRESS,\r\n            ierc20Abi,\r\n            provider\r\n          );\r\n          ohmContract = new ethers.Contract(\r\n            addresses[network.chainId].OHM_ADDRESS,\r\n            ierc20Abi,\r\n            provider\r\n          );\r\n\r\n          lpBalance = await lpContract.balanceOf(address);\r\n          totalVaultLP = await lpContract.balanceOf(addresses[network.chainId].VAULT_ADDRESS);\r\n          lpLocked = await lpContract.balanceOf('0xff45135267bb266f93eb55b1215353b7f6efa94e');\r\n\r\n          const totalLP = await lpContract.totalSupply();\r\n\r\n          taoTotalSupply = await ohmContract.totalSupply();\r\n\r\n          const distributorBalance = await ohmContract.balanceOf(\r\n            addresses[network.chainId].DISTRIBUTOR_ADDRESS\r\n          );\r\n          const rewardPoolBalance = await ohmContract.balanceOf(\r\n            addresses[network.chainId].REWARD_POOL_ADDRESS\r\n          );\r\n          const bondBalance = await ohmContract.balanceOf(addresses[network.chainId].BOND_ADDRESS);\r\n          const presaleBalance = await ohmContract.balanceOf(\r\n            addresses[network.chainId].PRESALE_ADDRESS\r\n          );\r\n\r\n          taoCircSupply =\r\n            taoTotalSupply - distributorBalance - rewardPoolBalance - bondBalance - presaleBalance;\r\n\r\n          const vestingPeriodInBlocks = await bondingContract.vestingPeriodInBlocks();\r\n\r\n          const totalDebtDo = await bondingContract.totalDebt();\r\n          debtRatio = await bondingCalcContract.calcDebtRatio(totalDebtDo, taoTotalSupply);\r\n\r\n          const reserves = await pairContract.getReserves();\r\n\r\n          totalBusd = reserves[1];\r\n          marketPrice = reserves[1].div(reserves[0]);\r\n\r\n          bondValue = await bondingContract.calculateBondInterest(\r\n            ethers.utils.parseEther('0.0001').toString()\r\n          );\r\n          bondPrice =\r\n            (2 * totalBusd * (ethers.utils.parseEther('0.0001').toNumber() / totalLP)) / bondValue;\r\n          bondDiscount = 1 - bondPrice / marketPrice;\r\n\r\n          const totalLPValue = totalBusd * 2;\r\n          lpPrice = totalLPValue / totalLP;\r\n\r\n          console.log('LpPrice', lpPrice.toString());\r\n          taoTotalSupply = await ohmContract.totalSupply();\r\n\r\n          const vaultPrincipleValuation = await bondingCalcContract.principleValuation(\r\n            addresses[network.chainId].LP_ADDRESS,\r\n            totalVaultLP.toString()\r\n          );\r\n\r\n          const totalVaultBUSD = await daiContract.balanceOf(\r\n            addresses[network.chainId].VAULT_ADDRESS\r\n          );\r\n          vaultBUSD = totalVaultBUSD;\r\n\r\n          const waultPrincipleValuation = await bondingCalcContract.principleValuation(\r\n            addresses[network.chainId].LP_ADDRESS,\r\n            lpLocked.toString()\r\n          );\r\n\r\n          principleValuation =\r\n            parseFloat(ethers.utils.formatUnits(vaultPrincipleValuation, 'ether')) +\r\n            parseFloat(ethers.utils.formatUnits(vaultBUSD, 'ether')) +\r\n            parseFloat(ethers.utils.formatUnits(waultPrincipleValuation, 'ether'));\r\n\r\n          console.log(\r\n            'vaultPrincipleValuation',\r\n            ethers.utils.formatUnits(vaultPrincipleValuation, 'ether')\r\n          );\r\n          console.log('vaultBUSD', ethers.utils.formatUnits(vaultBUSD, 'ether'));\r\n          console.log(\r\n            'waultPrincipleValuation',\r\n            ethers.utils.formatUnits(waultPrincipleValuation, 'ether')\r\n          );\r\n\r\n          lpBondAllowance = await lpContract.allowance(\r\n            address,\r\n            addresses[network.chainId].BOND_ADDRESS\r\n          );\r\n\r\n          const bondDetails = await bondingContract.depositorInfo(address);\r\n\r\n          currentBlock = await provider.getBlockNumber();\r\n\r\n          console.log('currentBlock');\r\n          console.log(currentBlock);\r\n\r\n          interestDue = bondDetails[1];\r\n          bondMaturationBlock = +bondDetails[3] + +bondDetails[2];\r\n          pendingPayout = await bondingContract.calculatePendingPayout(address);\r\n        }\r\n\r\n        if (addresses[network.chainId].LP_ADDRESS) {\r\n          lpContract = new ethers.Contract(\r\n            addresses[network.chainId].LP_ADDRESS,\r\n            ierc20Abi,\r\n            provider\r\n          );\r\n          lpBalance = await lpContract.balanceOf(address);\r\n        }\r\n\r\n        if (addresses[network.chainId].LPSTAKING_ADDRESS) {\r\n          lpStakingContract = new ethers.Contract(\r\n            addresses[network.chainId].LPSTAKING_ADDRESS,\r\n            LPStaking,\r\n            provider\r\n          );\r\n          lpContract = new ethers.Contract(\r\n            addresses[network.chainId].LP_ADDRESS,\r\n            ierc20Abi,\r\n            provider\r\n          );\r\n          ohmContract = new ethers.Contract(\r\n            addresses[network.chainId].OHM_ADDRESS,\r\n            ierc20Abi,\r\n            provider\r\n          );\r\n\r\n          totalLPStaked = await lpStakingContract.totalStaked();\r\n          lpStaked = await lpStakingContract.getUserBalance(address);\r\n          pendingRewards = await lpStakingContract.pendingRewards(address);\r\n          lpStakeAllowance = await lpContract.allowance(\r\n            address,\r\n            addresses[state.network.chainId].LPSTAKING_ADDRESS\r\n          );\r\n\r\n          const totalLP = await lpContract.totalSupply();\r\n          const OHMInLP = await ohmContract.balanceOf(addresses[network.chainId].LP_ADDRESS);\r\n\r\n          const rewardPerBlock = await lpStakingContract.rewardPerBlock();\r\n\r\n          lpStakingAPY =\r\n            (rewardPerBlock * BLOCKS_PER_DAY * 365 * 100) /\r\n            (((totalLPStaked * OHMInLP) / totalLP) * 2);\r\n        }\r\n\r\n        if (addresses[network.chainId].OHM_ADDRESS) {\r\n          ohmContract = new ethers.Contract(\r\n            addresses[network.chainId].OHM_ADDRESS,\r\n            ierc20Abi,\r\n            provider\r\n          );\r\n          ohmBalance = await ohmContract.balanceOf(address);\r\n          taoStaked = await ohmContract.balanceOf(addresses[network.chainId].STAKING_ADDRESS);\r\n\r\n          stakeAllowance = await ohmContract.allowance(\r\n            address,\r\n            addresses[network.chainId].STAKING_ADDRESS\r\n          )!;\r\n        }\r\n        if (addresses[network.chainId].SOHM_ADDRESS) {\r\n          sohmContract = new ethers.Contract(\r\n            addresses[network.chainId].SOHM_ADDRESS,\r\n            ierc20Abi,\r\n            provider\r\n          );\r\n          sohmMainContract = new ethers.Contract(\r\n            addresses[network.chainId].SOHM_ADDRESS,\r\n            sOHM,\r\n            provider\r\n          );\r\n\r\n          sohmBalance = await sohmContract.balanceOf(address);\r\n          unstakeAllowance = await sohmContract.allowance(\r\n            address,\r\n            addresses[network.chainId].STAKING_ADDRESS\r\n          )!;\r\n          circSupply = await sohmMainContract.circulatingSupply();\r\n        }\r\n\r\n        console.log('stakeAllowance', stakeAllowance);\r\n        commit('set', { stakeAllowance, unstakeAllowance, lpStakeAllowance });\r\n\r\n\r\n        if (addresses[network.chainId].STAKING_ADDRESS) {\r\n          stakingContract = new ethers.Contract(\r\n            addresses[network.chainId].STAKING_ADDRESS,\r\n            OlympusStaking,\r\n            provider\r\n          );\r\n\r\n          try {\r\n            profit = await stakingContract.taoToDistributeNextEpoch();\r\n          } catch (ex) {\r\n            console.log('Erro');\r\n            console.log(ex);\r\n          }\r\n        }\r\n\r\n        if (addresses[network.chainId].DISTRIBUTOR_ADDRESS) {\r\n          distributorContract = new ethers.Contract(\r\n            addresses[network.chainId].DISTRIBUTOR_ADDRESS,\r\n            DistributorContract,\r\n            provider\r\n          );\r\n          sohmContract = new ethers.Contract(\r\n            addresses[network.chainId].SOHM_ADDRESS,\r\n            ierc20Abi,\r\n            provider\r\n          );\r\n\r\n          circSupply = await sohmMainContract.circulatingSupply();\r\n\r\n          stakingReward = await stakingContract.taoToDistributeNextEpoch(); //getCurrentRewardForNextEpoch();\r\n\r\n          currentBlock = await provider.getBlockNumber();\r\n\r\n          stakingRebase = stakingReward / circSupply;\r\n\r\n          nextEpochRewards =\r\n            parseFloat(ethers.utils.formatUnits(sohmBalance, 'gwei')) * stakingRebase;\r\n\r\n          fiveDayRate = Math.pow(1 + stakingRebase, 5 * 4) - 1;\r\n\r\n          const currentEpoch = Math.floor((currentBlock - EPOCH_STARTED) / EPOCH_INTERVAL);\r\n          nextEpochBlock = EPOCH_STARTED + EPOCH_INTERVAL * (currentEpoch + 1);\r\n\r\n          stakingAPY = Math.pow(1 + stakingRebase, 365 * 4);\r\n\r\n          stakingAPY = stakingAPY * 100;\r\n\r\n          currentIndex = await sohmContract.balanceOf(\r\n            addresses[network.chainId].SOHM_INDEX_ADDRESS\r\n          );\r\n        }\r\n        //const balance = balanceBefore.toFixed(2);\r\n        \r\n        await dispatch('getMaxPurchase');\r\n        await dispatch('getAllotmentPerBuyer');\r\n        await dispatch('getExerciseAllowance');\r\n\r\n        await dispatch('getMaxPurchase');\r\n        await dispatch('getAllotmentPerBuyer');\r\n        await dispatch('getExerciseAllowance');\r\n\r\n        commit('set', {\r\n          // name,\r\n          blockNumber: blockNumber,\r\n          balance: ethers.utils.formatEther(balance),\r\n          aOHMBalance: aOHMBalance,\r\n          network,\r\n          loading: false,\r\n          ohmBalance: ethers.utils.formatUnits(ohmBalance, 'gwei'),\r\n          sohmBalance: ethers.utils.formatUnits(sohmBalance, 'gwei'),\r\n          totalLPStaked: ethers.utils.formatUnits(totalLPStaked, 'ether'),\r\n          lpBalance: ethers.utils.formatUnits(lpBalance, 'ether'),\r\n          lpStaked: ethers.utils.formatUnits(lpStaked, 'ether'),\r\n          pendingRewards: ethers.utils.formatUnits(pendingRewards, 'gwei'),\r\n          lpStakingAPY: lpStakingAPY,\r\n          stakingReward: ethers.utils.formatUnits(stakingReward, 'gwei'),\r\n          stakingAPY: stakingAPY,\r\n          stakingRebase: stakingRebase,\r\n          nextEpochBlock,\r\n          currentIndex: ethers.utils.formatUnits(currentIndex, 'gwei'),\r\n          bondValue: bondValue,\r\n          bondPrice: bondPrice,\r\n          marketPrice: marketPrice / 1000000000,\r\n          debtRatio: debtRatio,\r\n          interestDue: ethers.utils.formatUnits(interestDue, 'gwei'),\r\n          bondMaturationBlock: bondMaturationBlock,\r\n          currentBlock,\r\n          bondDiscount,\r\n          pendingPayout: ethers.utils.formatUnits(pendingPayout, 'gwei'),\r\n          vestingPeriodInBlocks: vestingPeriodInBlocks,\r\n          totalSupply: ethers.utils.formatUnits(taoTotalSupply, 'gwei'),\r\n          circSupply: ethers.utils.formatUnits(taoCircSupply, 'gwei'),\r\n          totalBusdLP: ethers.utils.formatUnits(totalBusd, 'ether'),\r\n          taoStaked: ethers.utils.formatUnits(taoStaked, 'gwei'),\r\n          lpInVault: ethers.utils.formatUnits(totalVaultLP, 'ether'),\r\n          lpLocked: ethers.utils.formatUnits(lpLocked, 'ether'),\r\n          vaultBUSD: ethers.utils.formatUnits(vaultBUSD, 'ether'),\r\n          lpPrice,\r\n          principleValuation,\r\n          fiveDayRate,\r\n          nextEpochRewards\r\n        });\r\n        const response = await fetch(`https://taodao-api.netlify.app/.netlify/functions/server`);\r\n        const taoists = await response.json();\r\n        commit('set', { taoists });\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    } else {\r\n      console.error('This website require MetaMask');\r\n    }\r\n    console.log(`Login done in ${Date.now() - startAt}ms`);\r\n    setTimeout(() => dispatch('login'), 30000);\r\n  },\r\n  loading: ({ commit }, payload) => {\r\n    commit('set', { loading: payload });\r\n  },\r\n  async getExchangeRates({ commit }) {\r\n    const exchangeRates = await getExchangeRatesFromCoinGecko();\r\n    commit('set', { exchangeRates });\r\n  },\r\n\r\n  async buy({ commit }, value) {\r\n    const signer = provider.getSigner();\r\n    const presale = await new ethers.Contract(\r\n      addresses[state.network.chainId].PRESALE_ADDRESS,\r\n      OHMPreSale,\r\n      signer\r\n    );\r\n    const daiContract = new ethers.Contract(\r\n      addresses[state.network.chainId].DAI_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n\r\n    const presaleTX = await presale.buy(ethers.utils.parseEther(value).toString());\r\n    await presaleTX.wait(console.log('Success'));\r\n    const balance = await daiContract.balanceOf(state.address);\r\n\r\n    commit('set', {\r\n      // name,\r\n      balance: ethers.utils.formatEther(balance)\r\n    });\r\n\r\n    const boughtTao = await presale.boughtTAO(state.address);\r\n    const claimUnlocked = await presale.claimUnlocked();\r\n    const claimable = await presale.claimable(state.address);\r\n\r\n    commit('set', {\r\n      claimUnlocked,\r\n      boughtTao,\r\n      claimable: ethers.utils.formatUnits(claimable, 'gwei')\r\n    });\r\n  },\r\n\r\n  async buyPretao({ commit }, value) {\r\n    const signer = provider.getSigner();\r\n\r\n    const pretaoSales = await new ethers.Contract(\r\n      addresses[state.network.chainId].PRETAO_SALES,\r\n      PreTaoSales,\r\n      signer\r\n    );\r\n\r\n    const ptaoContract = new ethers.Contract(\r\n      addresses[state.network.chainId].PTAO_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n\r\n    const daiContract = new ethers.Contract(\r\n      addresses[state.network.chainId].DAI_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n\r\n    const presaleTX = await pretaoSales.buypTao(ethers.utils.parseEther(value).toString());\r\n    await presaleTX.wait(console.log('Success'));\r\n    const balance = await daiContract.balanceOf(state.address);\r\n\r\n    const pretaoBalance = await ptaoContract.balanceOf(state.address);\r\n\r\n    commit('set', {\r\n      // name,\r\n      balance: ethers.utils.formatEther(balance),\r\n      pretaoBalance: ethers.utils.formatEther(pretaoBalance)\r\n    });\r\n  },\r\n\r\n  async calcBondDetails({ commit, dispatch }, amount) {\r\n    let amountInWei;\r\n    if (!amount || amount === '') {\r\n      amountInWei = ethers.utils.parseEther('0.0001'); // Use a realistic SLP ownership\r\n    } else {\r\n      amountInWei = ethers.utils.parseEther(amount);\r\n    }\r\n    const pairContract = new ethers.Contract(\r\n      addresses[state.network.chainId].LP_ADDRESS,\r\n      PairContract,\r\n      provider\r\n    );\r\n    // If the user hasn't entered anything, let's calculate a fraction of SLP\r\n    const bondingContract = new ethers.Contract(\r\n      addresses[state.network.chainId].BOND_ADDRESS,\r\n      BondContract,\r\n      provider\r\n    );\r\n    const lpContract = new ethers.Contract(\r\n      addresses[state.network.chainId].LP_ADDRESS,\r\n      ierc20Abi,\r\n      provider\r\n    );\r\n    const bondingCalcContract = new ethers.Contract(\r\n      addresses[state.network.chainId].BONDINGCALC_ADDRESS,\r\n      BondCalcContract,\r\n      provider\r\n    );\r\n    const ohmContract = new ethers.Contract(\r\n      addresses[state.network.chainId].OHM_ADDRESS,\r\n      ierc20Abi,\r\n      provider\r\n    );\r\n\r\n    const totalLP = await lpContract.totalSupply();\r\n    const ohmTotalSupply = await ohmContract.totalSupply();\r\n\r\n    const vestingPeriodInBlocks = await bondingContract.vestingPeriodInBlocks();\r\n\r\n    const totalDebtDo = await bondingContract.totalDebt();\r\n    const debtRatio = await bondingCalcContract.calcDebtRatio(totalDebtDo, ohmTotalSupply);\r\n\r\n    const reserves = await pairContract.getReserves();\r\n\r\n    const totalBusd = reserves[1];\r\n    const marketPrice = reserves[1].div(reserves[0]);\r\n\r\n    const bondValue = await bondingContract.calculateBondInterest(amountInWei.toString());\r\n    const bondPrice = (2 * totalBusd * (amountInWei / totalLP)) / bondValue;\r\n    const bondDiscount = 1 - bondPrice / marketPrice;\r\n\r\n    commit('set', {\r\n      amount,\r\n      bondValue,\r\n      bondDiscount,\r\n      debtRatio,\r\n      bondPrice: bondPrice,\r\n      vestingPeriodInBlocks,\r\n      marketPrice: marketPrice / Math.pow(10, 9)\r\n    });\r\n  },\r\n\r\n  async getExerciseAllowance({ commit }) {\r\n    if (state.address) {\r\n      const exerciseContract = await new ethers.Contract(\r\n        addresses[state.network.chainId].EXERCISE_PTAO_ADDRESS,\r\n        ExercisePtao,\r\n        provider\r\n      );\r\n\r\n      const getpTAOAbleToClaim = await exerciseContract.getpTAOAbleToClaim(state.address);\r\n\r\n      const maxAllowedToClaim = await exerciseContract.maxAllowedToClaim(state.address);\r\n\r\n      const daiContract = await new ethers.Contract(\r\n        addresses[state.network.chainId].DAI_ADDRESS,\r\n        ierc20Abi,\r\n        provider\r\n      );\r\n\r\n      const daiAllowance = await daiContract.allowance(\r\n        state.address,\r\n        addresses[state.network.chainId].EXERCISE_PTAO_ADDRESS\r\n      );\r\n\r\n      const ptaoContract = await new ethers.Contract(\r\n        addresses[state.network.chainId].PTAO_ADDRESS,\r\n        ierc20Abi,\r\n        provider\r\n      );\r\n\r\n      const ptaoAllowance = await ptaoContract.allowance(\r\n        state.address,\r\n        addresses[state.network.chainId].EXERCISE_PTAO_ADDRESS\r\n      );\r\n\r\n      commit('set', {\r\n        exercisePtaoAllowance: ptaoAllowance,\r\n        exerciseBusdAllowance: daiAllowance,\r\n        exerciseAbleToClaim: ethers.utils.formatEther(getpTAOAbleToClaim),\r\n        exerciseMaxAllowedClaim: ethers.utils.formatEther(maxAllowedToClaim)\r\n      });\r\n    }\r\n  },\r\n\r\n  async getApprovalExerciseBusd({ commit, dispatch }, value) {\r\n    const signer = provider.getSigner();\r\n    const daiContract = await new ethers.Contract(\r\n      addresses[state.network.chainId].DAI_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n\r\n    if (value <= 0) return;\r\n\r\n    const approveTx = await daiContract.approve(\r\n      addresses[state.network.chainId].EXERCISE_PTAO_ADDRESS,\r\n      ethers.utils.parseEther(value).toString()\r\n    );\r\n    commit('set', { allowanceTx: 1 });\r\n    await approveTx.wait();\r\n    await dispatch('getExerciseAllowance');\r\n  },\r\n\r\n  async getApprovalExercisePtao({ commit, dispatch }, value) {\r\n    const signer = provider.getSigner();\r\n    const ptaoContract = await new ethers.Contract(\r\n      addresses[state.network.chainId].PTAO_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n\r\n    if (value <= 0) return;\r\n\r\n    const approveTx = await ptaoContract.approve(\r\n      addresses[state.network.chainId].EXERCISE_PTAO_ADDRESS,\r\n      ethers.utils.parseEther(value).toString()\r\n    );\r\n    commit('set', { allowanceTx: 1 });\r\n    await approveTx.wait();\r\n    await dispatch('getExerciseAllowance');\r\n  },\r\n\r\n  async exercisePtao({ commit, dispatch }, value) {\r\n    \r\n    const signer = provider.getSigner();\r\n\r\n    const ptaoContract = new ethers.Contract(\r\n      addresses[state.network.chainId].PTAO_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n    \r\n    const taoContract = new ethers.Contract(\r\n      addresses[state.network.chainId].OHM_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n\r\n    const daiContract = new ethers.Contract(\r\n      addresses[state.network.chainId].DAI_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n\r\n    const exerciseContract = await new ethers.Contract(\r\n      addresses[state.network.chainId].EXERCISE_PTAO_ADDRESS,\r\n      ExercisePtao,\r\n      signer\r\n    );\r\n\r\n\r\n    const presaleTX = await exerciseContract.exercisepTAO(ethers.utils.parseEther(value).toString());\r\n    await presaleTX.wait(console.log('Success'));\r\n\r\n    const balance = await daiContract.balanceOf(state.\r\n      address);\r\n    const pretaoBalance = await ptaoContract.balanceOf(state.address);\r\n    const taoBalance = await taoContract.balanceOf(state.address);\r\n\r\n\r\n    commit('set', {\r\n      balance: ethers.utils.formatEther(balance),\r\n      pretaoBalance: ethers.utils.formatEther(pretaoBalance),\r\n      ohmBalance: ethers.utils.formatUnits(taoBalance, 'gwei'),\r\n    });\r\n\r\n\r\n  },\r\n\r\n\r\n\r\n  async getLPBondAllowance({ commit }) {\r\n    if (state.address) {\r\n      const lpContract = await new ethers.Contract(\r\n        addresses[state.network.chainId].LP_ADDRESS,\r\n        ierc20Abi,\r\n        provider\r\n      );\r\n      const lpBondAllowance = await lpContract.allowance(\r\n        state.address,\r\n        addresses[state.network.chainId].BOND_ADDRESS\r\n      );\r\n      commit('set', { lpBondAllowance });\r\n    }\r\n  },\r\n\r\n  async getLPBondApproval({ commit, dispatch }, value) {\r\n    const signer = provider.getSigner();\r\n    const lpContract = await new ethers.Contract(\r\n      addresses[state.network.chainId].LP_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n    if (value <= 0) {\r\n      alert('Please enter a value greater than 0');\r\n      return;\r\n    }\r\n\r\n    const approveTx = await lpContract.approve(\r\n      addresses[state.network.chainId].BOND_ADDRESS,\r\n      ethers.utils.parseUnits('1000000000', 'ether').toString()\r\n    );\r\n    await approveTx.wait();\r\n    await dispatch('getLPBondAllowance');\r\n  },\r\n\r\n  async bondLP({ commit }, value) {\r\n    const signer = provider.getSigner();\r\n    const bonding = await new ethers.Contract(\r\n      addresses[state.network.chainId].BOND_ADDRESS,\r\n      BondContract,\r\n      signer\r\n    );\r\n\r\n    // Deposit the bond\r\n    let bondTx;\r\n    try {\r\n      bondTx = await bonding.depositBondPrinciple(ethers.utils.parseUnits(value, 'ether'));\r\n    } catch (error) {\r\n      if (error.code === -32603 && error.message.indexOf('ds-math-sub-underflow') >= 0) {\r\n        alert(\r\n          'You may be trying to bond more than your balance! Error code: 32603. Message: ds-math-sub-underflow'\r\n        );\r\n      } else {\r\n        alert(error.message);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Wait for tx to be minted\r\n    await bondTx.wait();\r\n    const lpContract = new ethers.Contract(\r\n      addresses[state.network.chainId].LP_ADDRESS,\r\n      ierc20Abi,\r\n      provider\r\n    );\r\n    const lpBalance = await lpContract.balanceOf(state.address);\r\n    commit('set', {\r\n      lpBalance: ethers.utils.formatUnits(lpBalance, 'ether')\r\n    });\r\n  },\r\n\r\n  async redeemBond() {\r\n    const signer = provider.getSigner();\r\n    const bonding = await new ethers.Contract(\r\n      addresses[state.network.chainId].BOND_ADDRESS,\r\n      BondContract,\r\n      signer\r\n    );\r\n    const redeemTx = await bonding.redeemBond();\r\n    await redeemTx.wait();\r\n  },\r\n\r\n  async forfeitBond() {\r\n    const signer = provider.getSigner();\r\n    const bonding = await new ethers.Contract(\r\n      addresses[state.network.chainId].BOND_ADDRESS,\r\n      BondContract,\r\n      signer\r\n    );\r\n    const forfeitTx = await bonding.withdrawPrincipleAndForfeitInterest();\r\n    await forfeitTx.wait();\r\n  },\r\n\r\n  async claimPresale({ commit }) {\r\n    const signer = provider.getSigner();\r\n    const presale = await new ethers.Contract(\r\n      addresses[state.network.chainId].PRESALE_ADDRESS,\r\n      OHMPreSale,\r\n      signer\r\n    );\r\n\r\n    const presaleTX = await presale.claim();\r\n    await presaleTX.wait(console.log('Success'));\r\n    commit('set', {\r\n      claimable: 0\r\n    });\r\n  },\r\n\r\n  async getApproval({ commit, dispatch }, value) {\r\n    const signer = provider.getSigner();\r\n    const daiContract = await new ethers.Contract(\r\n      addresses[state.network.chainId].DAI_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n\r\n    if (value <= 0) return;\r\n\r\n    const approveTx = await daiContract.approve(\r\n      addresses[state.network.chainId].PRESALE_ADDRESS,\r\n      ethers.utils.parseEther(value).toString()\r\n    );\r\n    commit('set', { allowanceTx: 1 });\r\n    await approveTx.wait();\r\n    await dispatch('getAllowances');\r\n  },\r\n\r\n  async getApprovalPretao({ commit, dispatch }, value) {\r\n    const signer = provider.getSigner();\r\n    const daiContract = await new ethers.Contract(\r\n      addresses[state.network.chainId].DAI_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n\r\n    if (value <= 0) return;\r\n\r\n    const approveTx = await daiContract.approve(\r\n      addresses[state.network.chainId].PRETAO_SALES,\r\n      ethers.utils.parseEther(value).toString()\r\n    );\r\n    commit('set', { allowanceTx: 1 });\r\n    await approveTx.wait();\r\n    await dispatch('getAllowancesPretao');\r\n  },\r\n\r\n  async getAllowances({ commit }) {\r\n    if (state.address) {\r\n      const diaContract = await new ethers.Contract(\r\n        addresses[state.network.chainId].DAI_ADDRESS,\r\n        ierc20Abi,\r\n        provider\r\n      );\r\n      const allowance = await diaContract.allowance(\r\n        state.address,\r\n        addresses[state.network.chainId].PRESALE_ADDRESS\r\n      );\r\n      commit('set', { allowance });\r\n    }\r\n  },\r\n\r\n  async getAllowancesPretao({ commit }) {\r\n    if (state.address) {\r\n      const diaContract = await new ethers.Contract(\r\n        addresses[state.network.chainId].DAI_ADDRESS,\r\n        ierc20Abi,\r\n        provider\r\n      );\r\n      const allowance = await diaContract.allowance(\r\n        state.address,\r\n        addresses[state.network.chainId].PRETAO_SALES\r\n      );\r\n      commit('set', { allowancePretao: allowance });\r\n    }\r\n  },\r\n\r\n  async getStakeApproval({ commit, dispatch }, value) {\r\n    const signer = provider.getSigner();\r\n    const ohmContract = await new ethers.Contract(\r\n      addresses[state.network.chainId].OHM_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n    if (value <= 0) return;\r\n\r\n    const approveTx = await ohmContract.approve(\r\n      addresses[state.network.chainId].STAKING_ADDRESS,\r\n      ethers.utils.parseUnits('1000000000', 'gwei').toString()\r\n    );\r\n    await approveTx.wait();\r\n    await dispatch('getStakeAllowances');\r\n  },\r\n\r\n  async getLPStakeApproval({ commit, dispatch }, value) {\r\n    const signer = provider.getSigner();\r\n    const lpContract = await new ethers.Contract(\r\n      addresses[state.network.chainId].LP_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n    if (value <= 0) return;\r\n\r\n    const approveTx = await lpContract.approve(\r\n      addresses[state.network.chainId].LPSTAKING_ADDRESS,\r\n      ethers.utils.parseUnits('1000000000', 'ether').toString()\r\n    );\r\n    await approveTx.wait();\r\n    await dispatch('getLPStakeAllowance');\r\n  },\r\n\r\n  async getStakeAllowances({ commit }) {\r\n    if (state.address) {\r\n      const ohmContract = await new ethers.Contract(\r\n        addresses[state.network.chainId].OHM_ADDRESS,\r\n        ierc20Abi,\r\n        provider\r\n      );\r\n      const stakeAllowance = await ohmContract.allowance(\r\n        state.address,\r\n        addresses[state.network.chainId].STAKING_ADDRESS\r\n      );\r\n      commit('set', { stakeAllowance });\r\n    }\r\n  },\r\n\r\n  async getLPStakeAllowance({ commit }) {\r\n    if (state.address) {\r\n      const lpContract = await new ethers.Contract(\r\n        addresses[state.network.chainId].LP_ADDRESS,\r\n        ierc20Abi,\r\n        provider\r\n      );\r\n      const lpStakeAllowance = await lpContract.allowance(\r\n        state.address,\r\n        addresses[state.network.chainId].LPSTAKING_ADDRESS\r\n      );\r\n      commit('set', { lpStakeAllowance });\r\n    }\r\n  },\r\n\r\n  async getunStakeApproval({ commit, dispatch }, value) {\r\n    const signer = provider.getSigner();\r\n    const sohmContract = await new ethers.Contract(\r\n      addresses[state.network.chainId].SOHM_ADDRESS,\r\n      ierc20Abi,\r\n      signer\r\n    );\r\n    if (value <= 0) return;\r\n\r\n    const approveTx = await sohmContract.approve(\r\n      addresses[state.network.chainId].STAKING_ADDRESS,\r\n      ethers.utils.parseUnits('1000000000', 'gwei').toString()\r\n    );\r\n    await approveTx.wait();\r\n    await dispatch('getunStakeAllowances');\r\n  },\r\n\r\n  async getunStakeAllowances({ commit }) {\r\n    if (state.address) {\r\n      const sohmContract = await new ethers.Contract(\r\n        addresses[state.network.chainId].SOHM_ADDRESS,\r\n        ierc20Abi,\r\n        provider\r\n      );\r\n      const unstakeAllowance = await sohmContract.allowance(\r\n        state.address,\r\n        addresses[state.network.chainId].STAKING_ADDRESS\r\n      );\r\n      commit('set', { unstakeAllowance });\r\n    }\r\n  },\r\n\r\n  async calculatePreTaoSaleQuote({ commit }, value) {\r\n    commit('set', { amount: value * 100 });\r\n  },\r\n\r\n  async calculateSaleQuote({ commit }, value) {\r\n    commit('set', { amount: value / state.price });\r\n  },\r\n\r\n  async getAllotmentPerBuyer({ commit }) {\r\n    try {\r\n      const presale = await new ethers.Contract(\r\n        addresses[state.network.chainId].PRESALE_ADDRESS,\r\n        OHMPreSale,\r\n        provider\r\n      );\r\n      const allotment = await presale.getAllotmentPerBuyer();\r\n      commit('set', { allotment: ethers.utils.formatUnits(allotment, 'ether') });\r\n    } catch (ex) {\r\n      console.log(ex);\r\n    }\r\n  },\r\n\r\n  async getMaxPurchase({ commit, dispatch }) {\r\n    const presale = await new ethers.Contract(\r\n      addresses[state.network.chainId].PRESALE_ADDRESS,\r\n      OHMPreSale,\r\n      provider\r\n    );\r\n    const salePrice = await presale.price();\r\n\r\n    commit('set', {\r\n      price: ethers.utils.formatUnits(salePrice.toString(), 'ether')\r\n    });\r\n  },\r\n\r\n  async stakeTAO({ commit }, value) {\r\n    const signer = provider.getSigner();\r\n    const staking = await new ethers.Contract(\r\n      addresses[state.network.chainId].STAKING_ADDRESS,\r\n      OlympusStaking,\r\n      signer\r\n    );\r\n\r\n    const stakeTx = await staking.stakeTAO(ethers.utils.parseUnits(value, 'gwei'));\r\n    await stakeTx.wait();\r\n    const ohmContract = new ethers.Contract(\r\n      addresses[state.network.chainId].OHM_ADDRESS,\r\n      ierc20Abi,\r\n      provider\r\n    );\r\n    const ohmBalance = await ohmContract.balanceOf(state.address);\r\n    const sohmContract = new ethers.Contract(\r\n      addresses[state.network.chainId].SOHM_ADDRESS,\r\n      ierc20Abi,\r\n      provider\r\n    );\r\n    const sohmBalance = await sohmContract.balanceOf(state.address);\r\n    commit('set', {\r\n      ohmBalance: ethers.utils.formatUnits(ohmBalance, 'gwei'),\r\n      sohmBalance: ethers.utils.formatUnits(sohmBalance, 'gwei')\r\n    });\r\n  },\r\n  async unstakeTAO({ commit }, value) {\r\n    const signer = provider.getSigner();\r\n    const staking = await new ethers.Contract(\r\n      addresses[state.network.chainId].STAKING_ADDRESS,\r\n      OlympusStaking,\r\n      signer\r\n    );\r\n    console.log(ethers.utils.parseUnits(value, 'gwei').toString());\r\n    const stakeTx = await staking.unstakeTAO(ethers.utils.parseUnits(value, 'gwei'));\r\n    await stakeTx.wait();\r\n    const ohmContract = new ethers.Contract(\r\n      addresses[state.network.chainId].OHM_ADDRESS,\r\n      ierc20Abi,\r\n      provider\r\n    );\r\n    const ohmBalance = await ohmContract.balanceOf(state.address);\r\n    const sohmContract = new ethers.Contract(\r\n      addresses[state.network.chainId].SOHM_ADDRESS,\r\n      ierc20Abi,\r\n      provider\r\n    );\r\n    const sohmBalance = await sohmContract.balanceOf(state.address);\r\n    commit('set', {\r\n      ohmBalance: ethers.utils.formatUnits(ohmBalance, 'gwei'),\r\n      sohmBalance: ethers.utils.formatUnits(sohmBalance, 'gwei')\r\n    });\r\n  },\r\n\r\n  async stakeLP({ commit }, value) {\r\n    const signer = provider.getSigner();\r\n    const staking = await new ethers.Contract(\r\n      addresses[state.network.chainId].LPSTAKING_ADDRESS,\r\n      LPStaking,\r\n      signer\r\n    );\r\n    const stakeTx = await staking.stakeLP(ethers.utils.parseUnits(value, 'ether'));\r\n    await stakeTx.wait();\r\n\r\n    const lpContract = new ethers.Contract(\r\n      addresses[state.network.chainId].LP_ADDRESS,\r\n      ierc20Abi,\r\n      provider\r\n    );\r\n    const lpBalance = await lpContract.balanceOf(state.address);\r\n    const lpStakingContract = new ethers.Contract(\r\n      addresses[state.network.chainId].LPSTAKING_ADDRESS,\r\n      LPStaking,\r\n      provider\r\n    );\r\n    const lpStaked = await lpStakingContract.getUserBalance(state.address);\r\n    commit('set', {\r\n      lpBalance: ethers.utils.formatUnits(lpBalance, 'ether'),\r\n      lpStaked: ethers.utils.formatUnits(lpStaked, 'ether')\r\n    });\r\n  },\r\n\r\n  async unstakeLP({ commit }, value) {\r\n    const signer = provider.getSigner();\r\n    const staking = await new ethers.Contract(\r\n      addresses[state.network.chainId].LPSTAKING_ADDRESS,\r\n      LPStaking,\r\n      signer\r\n    );\r\n    const unstakeTx = await staking.unstakeLP();\r\n    await unstakeTx.wait();\r\n\r\n    const lpContract = new ethers.Contract(\r\n      addresses[state.network.chainId].LP_ADDRESS,\r\n      ierc20Abi,\r\n      provider\r\n    );\r\n    const lpBalance = await lpContract.balanceOf(state.address);\r\n    const lpStakingContract = new ethers.Contract(\r\n      addresses[state.network.chainId].LPSTAKING_ADDRESS,\r\n      LPStaking,\r\n      provider\r\n    );\r\n    const lpStaked = await lpStakingContract.getUserBalance(state.address);\r\n    commit('set', {\r\n      lpBalance: ethers.utils.formatUnits(lpBalance, 'ether'),\r\n      lpStaked: ethers.utils.formatUnits(lpStaked, 'ether')\r\n    });\r\n  },\r\n\r\n  async claimRewards() {\r\n    const signer = provider.getSigner();\r\n    const staking = await new ethers.Contract(\r\n      addresses[state.network.chainId].LPSTAKING_ADDRESS,\r\n      LPStaking,\r\n      signer\r\n    );\r\n    const claimTx = await staking.claimRewards();\r\n    await claimTx.wait();\r\n  },\r\n\r\n  async getMaxSwap({ commit, dispatch }) {\r\n    // const aOHMContract = await new ethers.Contract(\r\n    //   addresses[state.network.chainId].AOHM_ADDRESS,\r\n    //   ierc20Abi,\r\n    //   provider\r\n    // );\r\n    // const aOHMBalanceBeforeDecimals = await aOHMContract.balanceOf(state.address);\r\n    const aOHMBalance = 0 / 1000000000;\r\n\r\n    commit('set', { maxSwap: aOHMBalance });\r\n  },\r\n\r\n  async migrateToOHM({ commit }, value) {\r\n    // const signer = provider.getSigner();\r\n    // const migrateContact = await new ethers.Contract(\r\n    //   addresses[state.network.chainId].MIGRATE_ADDRESS,\r\n    //   MigrateToOHM,\r\n    //   signer\r\n    // );\r\n\r\n    // const aOHMContract = await new ethers.Contract(\r\n    //   addresses[state.network.chainId].AOHM_ADDRESS,\r\n    //   ierc20Abi,\r\n    //   provider\r\n    // );\r\n    // const aOHMContractWithSigner = aOHMContract.connect(signer);\r\n\r\n    // const allowance = await aOHMContract.allowance(\r\n    //   state.address,\r\n    //   addresses[state.network.chainId].MIGRATE_ADDRESS\r\n    // );\r\n\r\n    // if (allowance < value * 1000000000) {\r\n    //   const approveTx = await aOHMContractWithSigner.approve(\r\n    //     addresses[state.network.chainId].MIGRATE_ADDRESS,\r\n    //     parseEther((1e9).toString())\r\n    //   );\r\n    //   commit('set', { allowanceTx: 1 });\r\n    //   await approveTx.wait(state.confirmations);\r\n    // }\r\n\r\n    // const migrateTx = await migrateContact.migrate(value * 1000000000);\r\n    // await migrateTx.wait();\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions\r\n};\r\n"],"sourceRoot":""}]}